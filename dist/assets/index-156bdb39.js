function TC(n,t){for(var r=0;r<t.length;r++){const i=t[r];if(typeof i!="string"&&!Array.isArray(i)){for(const s in i)if(s!=="default"&&!(s in n)){const o=Object.getOwnPropertyDescriptor(i,s);o&&Object.defineProperty(n,s,o.get?o:{enumerable:!0,get:()=>i[s]})}}}return Object.freeze(Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))i(s);new MutationObserver(s=>{for(const o of s)if(o.type==="childList")for(const a of o.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&i(a)}).observe(document,{childList:!0,subtree:!0});function r(s){const o={};return s.integrity&&(o.integrity=s.integrity),s.referrerPolicy&&(o.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?o.credentials="include":s.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function i(s){if(s.ep)return;s.ep=!0;const o=r(s);fetch(s.href,o)}})();function vw(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var ww={exports:{}},fc={},Ew={exports:{}},ne={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Da=Symbol.for("react.element"),_C=Symbol.for("react.portal"),CC=Symbol.for("react.fragment"),kC=Symbol.for("react.strict_mode"),AC=Symbol.for("react.profiler"),RC=Symbol.for("react.provider"),xC=Symbol.for("react.context"),NC=Symbol.for("react.forward_ref"),bC=Symbol.for("react.suspense"),DC=Symbol.for("react.memo"),PC=Symbol.for("react.lazy"),Zg=Symbol.iterator;function $C(n){return n===null||typeof n!="object"?null:(n=Zg&&n[Zg]||n["@@iterator"],typeof n=="function"?n:null)}var Sw={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Iw=Object.assign,Tw={};function Fs(n,t,r){this.props=n,this.context=t,this.refs=Tw,this.updater=r||Sw}Fs.prototype.isReactComponent={};Fs.prototype.setState=function(n,t){if(typeof n!="object"&&typeof n!="function"&&n!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,n,t,"setState")};Fs.prototype.forceUpdate=function(n){this.updater.enqueueForceUpdate(this,n,"forceUpdate")};function _w(){}_w.prototype=Fs.prototype;function Cp(n,t,r){this.props=n,this.context=t,this.refs=Tw,this.updater=r||Sw}var kp=Cp.prototype=new _w;kp.constructor=Cp;Iw(kp,Fs.prototype);kp.isPureReactComponent=!0;var ey=Array.isArray,Cw=Object.prototype.hasOwnProperty,Ap={current:null},kw={key:!0,ref:!0,__self:!0,__source:!0};function Aw(n,t,r){var i,s={},o=null,a=null;if(t!=null)for(i in t.ref!==void 0&&(a=t.ref),t.key!==void 0&&(o=""+t.key),t)Cw.call(t,i)&&!kw.hasOwnProperty(i)&&(s[i]=t[i]);var l=arguments.length-2;if(l===1)s.children=r;else if(1<l){for(var u=Array(l),c=0;c<l;c++)u[c]=arguments[c+2];s.children=u}if(n&&n.defaultProps)for(i in l=n.defaultProps,l)s[i]===void 0&&(s[i]=l[i]);return{$$typeof:Da,type:n,key:o,ref:a,props:s,_owner:Ap.current}}function OC(n,t){return{$$typeof:Da,type:n.type,key:t,ref:n.ref,props:n.props,_owner:n._owner}}function Rp(n){return typeof n=="object"&&n!==null&&n.$$typeof===Da}function MC(n){var t={"=":"=0",":":"=2"};return"$"+n.replace(/[=:]/g,function(r){return t[r]})}var ty=/\/+/g;function _d(n,t){return typeof n=="object"&&n!==null&&n.key!=null?MC(""+n.key):t.toString(36)}function Hl(n,t,r,i,s){var o=typeof n;(o==="undefined"||o==="boolean")&&(n=null);var a=!1;if(n===null)a=!0;else switch(o){case"string":case"number":a=!0;break;case"object":switch(n.$$typeof){case Da:case _C:a=!0}}if(a)return a=n,s=s(a),n=i===""?"."+_d(a,0):i,ey(s)?(r="",n!=null&&(r=n.replace(ty,"$&/")+"/"),Hl(s,t,r,"",function(c){return c})):s!=null&&(Rp(s)&&(s=OC(s,r+(!s.key||a&&a.key===s.key?"":(""+s.key).replace(ty,"$&/")+"/")+n)),t.push(s)),1;if(a=0,i=i===""?".":i+":",ey(n))for(var l=0;l<n.length;l++){o=n[l];var u=i+_d(o,l);a+=Hl(o,t,r,u,s)}else if(u=$C(n),typeof u=="function")for(n=u.call(n),l=0;!(o=n.next()).done;)o=o.value,u=i+_d(o,l++),a+=Hl(o,t,r,u,s);else if(o==="object")throw t=String(n),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return a}function hl(n,t,r){if(n==null)return n;var i=[],s=0;return Hl(n,i,"","",function(o){return t.call(r,o,s++)}),i}function LC(n){if(n._status===-1){var t=n._result;t=t(),t.then(function(r){(n._status===0||n._status===-1)&&(n._status=1,n._result=r)},function(r){(n._status===0||n._status===-1)&&(n._status=2,n._result=r)}),n._status===-1&&(n._status=0,n._result=t)}if(n._status===1)return n._result.default;throw n._result}var Nt={current:null},Wl={transition:null},FC={ReactCurrentDispatcher:Nt,ReactCurrentBatchConfig:Wl,ReactCurrentOwner:Ap};ne.Children={map:hl,forEach:function(n,t,r){hl(n,function(){t.apply(this,arguments)},r)},count:function(n){var t=0;return hl(n,function(){t++}),t},toArray:function(n){return hl(n,function(t){return t})||[]},only:function(n){if(!Rp(n))throw Error("React.Children.only expected to receive a single React element child.");return n}};ne.Component=Fs;ne.Fragment=CC;ne.Profiler=AC;ne.PureComponent=Cp;ne.StrictMode=kC;ne.Suspense=bC;ne.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=FC;ne.cloneElement=function(n,t,r){if(n==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+n+".");var i=Iw({},n.props),s=n.key,o=n.ref,a=n._owner;if(t!=null){if(t.ref!==void 0&&(o=t.ref,a=Ap.current),t.key!==void 0&&(s=""+t.key),n.type&&n.type.defaultProps)var l=n.type.defaultProps;for(u in t)Cw.call(t,u)&&!kw.hasOwnProperty(u)&&(i[u]=t[u]===void 0&&l!==void 0?l[u]:t[u])}var u=arguments.length-2;if(u===1)i.children=r;else if(1<u){l=Array(u);for(var c=0;c<u;c++)l[c]=arguments[c+2];i.children=l}return{$$typeof:Da,type:n.type,key:s,ref:o,props:i,_owner:a}};ne.createContext=function(n){return n={$$typeof:xC,_currentValue:n,_currentValue2:n,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},n.Provider={$$typeof:RC,_context:n},n.Consumer=n};ne.createElement=Aw;ne.createFactory=function(n){var t=Aw.bind(null,n);return t.type=n,t};ne.createRef=function(){return{current:null}};ne.forwardRef=function(n){return{$$typeof:NC,render:n}};ne.isValidElement=Rp;ne.lazy=function(n){return{$$typeof:PC,_payload:{_status:-1,_result:n},_init:LC}};ne.memo=function(n,t){return{$$typeof:DC,type:n,compare:t===void 0?null:t}};ne.startTransition=function(n){var t=Wl.transition;Wl.transition={};try{n()}finally{Wl.transition=t}};ne.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};ne.useCallback=function(n,t){return Nt.current.useCallback(n,t)};ne.useContext=function(n){return Nt.current.useContext(n)};ne.useDebugValue=function(){};ne.useDeferredValue=function(n){return Nt.current.useDeferredValue(n)};ne.useEffect=function(n,t){return Nt.current.useEffect(n,t)};ne.useId=function(){return Nt.current.useId()};ne.useImperativeHandle=function(n,t,r){return Nt.current.useImperativeHandle(n,t,r)};ne.useInsertionEffect=function(n,t){return Nt.current.useInsertionEffect(n,t)};ne.useLayoutEffect=function(n,t){return Nt.current.useLayoutEffect(n,t)};ne.useMemo=function(n,t){return Nt.current.useMemo(n,t)};ne.useReducer=function(n,t,r){return Nt.current.useReducer(n,t,r)};ne.useRef=function(n){return Nt.current.useRef(n)};ne.useState=function(n){return Nt.current.useState(n)};ne.useSyncExternalStore=function(n,t,r){return Nt.current.useSyncExternalStore(n,t,r)};ne.useTransition=function(){return Nt.current.useTransition()};ne.version="18.2.0";Ew.exports=ne;var w=Ew.exports;const ye=vw(w),Yo=TC({__proto__:null,default:ye},[w]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var UC=w,VC=Symbol.for("react.element"),jC=Symbol.for("react.fragment"),zC=Object.prototype.hasOwnProperty,BC=UC.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,HC={key:!0,ref:!0,__self:!0,__source:!0};function Rw(n,t,r){var i,s={},o=null,a=null;r!==void 0&&(o=""+r),t.key!==void 0&&(o=""+t.key),t.ref!==void 0&&(a=t.ref);for(i in t)zC.call(t,i)&&!HC.hasOwnProperty(i)&&(s[i]=t[i]);if(n&&n.defaultProps)for(i in t=n.defaultProps,t)s[i]===void 0&&(s[i]=t[i]);return{$$typeof:VC,type:n,key:o,ref:a,props:s,_owner:BC.current}}fc.Fragment=jC;fc.jsx=Rw;fc.jsxs=Rw;ww.exports=fc;var xw=ww.exports;const B=xw.jsx,Fe=xw.jsxs;var Dh={},Nw={exports:{}},qt={},bw={exports:{}},Dw={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(n){function t(D,U){var z=D.length;D.push(U);e:for(;0<z;){var de=z-1>>>1,re=D[de];if(0<s(re,U))D[de]=U,D[z]=re,z=de;else break e}}function r(D){return D.length===0?null:D[0]}function i(D){if(D.length===0)return null;var U=D[0],z=D.pop();if(z!==U){D[0]=z;e:for(var de=0,re=D.length,Ln=re>>>1;de<Ln;){var ve=2*(de+1)-1,he=D[ve],xe=ve+1,Ee=D[xe];if(0>s(he,z))xe<re&&0>s(Ee,he)?(D[de]=Ee,D[xe]=z,de=xe):(D[de]=he,D[ve]=z,de=ve);else if(xe<re&&0>s(Ee,z))D[de]=Ee,D[xe]=z,de=xe;else break e}}return U}function s(D,U){var z=D.sortIndex-U.sortIndex;return z!==0?z:D.id-U.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;n.unstable_now=function(){return o.now()}}else{var a=Date,l=a.now();n.unstable_now=function(){return a.now()-l}}var u=[],c=[],d=1,h=null,f=3,m=!1,E=!1,S=!1,I=typeof setTimeout=="function"?setTimeout:null,y=typeof clearTimeout=="function"?clearTimeout:null,p=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function v(D){for(var U=r(c);U!==null;){if(U.callback===null)i(c);else if(U.startTime<=D)i(c),U.sortIndex=U.expirationTime,t(u,U);else break;U=r(c)}}function g(D){if(S=!1,v(D),!E)if(r(u)!==null)E=!0,ut(C);else{var U=r(c);U!==null&&ct(g,U.startTime-D)}}function C(D,U){E=!1,S&&(S=!1,y($),$=-1),m=!0;var z=f;try{for(v(U),h=r(u);h!==null&&(!(h.expirationTime>U)||D&&!Re());){var de=h.callback;if(typeof de=="function"){h.callback=null,f=h.priorityLevel;var re=de(h.expirationTime<=U);U=n.unstable_now(),typeof re=="function"?h.callback=re:h===r(u)&&i(u),v(U)}else i(u);h=r(u)}if(h!==null)var Ln=!0;else{var ve=r(c);ve!==null&&ct(g,ve.startTime-U),Ln=!1}return Ln}finally{h=null,f=z,m=!1}}var b=!1,R=null,$=-1,G=5,H=-1;function Re(){return!(n.unstable_now()-H<G)}function fe(){if(R!==null){var D=n.unstable_now();H=D;var U=!0;try{U=R(!0,D)}finally{U?_t():(b=!1,R=null)}}else b=!1}var _t;if(typeof p=="function")_t=function(){p(fe)};else if(typeof MessageChannel<"u"){var an=new MessageChannel,Ct=an.port2;an.port1.onmessage=fe,_t=function(){Ct.postMessage(null)}}else _t=function(){I(fe,0)};function ut(D){R=D,b||(b=!0,_t())}function ct(D,U){$=I(function(){D(n.unstable_now())},U)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(D){D.callback=null},n.unstable_continueExecution=function(){E||m||(E=!0,ut(C))},n.unstable_forceFrameRate=function(D){0>D||125<D?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):G=0<D?Math.floor(1e3/D):5},n.unstable_getCurrentPriorityLevel=function(){return f},n.unstable_getFirstCallbackNode=function(){return r(u)},n.unstable_next=function(D){switch(f){case 1:case 2:case 3:var U=3;break;default:U=f}var z=f;f=U;try{return D()}finally{f=z}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(D,U){switch(D){case 1:case 2:case 3:case 4:case 5:break;default:D=3}var z=f;f=D;try{return U()}finally{f=z}},n.unstable_scheduleCallback=function(D,U,z){var de=n.unstable_now();switch(typeof z=="object"&&z!==null?(z=z.delay,z=typeof z=="number"&&0<z?de+z:de):z=de,D){case 1:var re=-1;break;case 2:re=250;break;case 5:re=1073741823;break;case 4:re=1e4;break;default:re=5e3}return re=z+re,D={id:d++,callback:U,priorityLevel:D,startTime:z,expirationTime:re,sortIndex:-1},z>de?(D.sortIndex=z,t(c,D),r(u)===null&&D===r(c)&&(S?(y($),$=-1):S=!0,ct(g,z-de))):(D.sortIndex=re,t(u,D),E||m||(E=!0,ut(C))),D},n.unstable_shouldYield=Re,n.unstable_wrapCallback=function(D){var U=f;return function(){var z=f;f=U;try{return D.apply(this,arguments)}finally{f=z}}}})(Dw);bw.exports=Dw;var WC=bw.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Pw=w,Bt=WC;function x(n){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+n,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+n+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var $w=new Set,Xo={};function Pi(n,t){Is(n,t),Is(n+"Capture",t)}function Is(n,t){for(Xo[n]=t,n=0;n<t.length;n++)$w.add(t[n])}var Xn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ph=Object.prototype.hasOwnProperty,qC=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,ny={},ry={};function KC(n){return Ph.call(ry,n)?!0:Ph.call(ny,n)?!1:qC.test(n)?ry[n]=!0:(ny[n]=!0,!1)}function GC(n,t,r,i){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return i?!1:r!==null?!r.acceptsBooleans:(n=n.toLowerCase().slice(0,5),n!=="data-"&&n!=="aria-");default:return!1}}function QC(n,t,r,i){if(t===null||typeof t>"u"||GC(n,t,r,i))return!0;if(i)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function bt(n,t,r,i,s,o,a){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=i,this.attributeNamespace=s,this.mustUseProperty=r,this.propertyName=n,this.type=t,this.sanitizeURL=o,this.removeEmptyString=a}var lt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(n){lt[n]=new bt(n,0,!1,n,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(n){var t=n[0];lt[t]=new bt(t,1,!1,n[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(n){lt[n]=new bt(n,2,!1,n.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(n){lt[n]=new bt(n,2,!1,n,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(n){lt[n]=new bt(n,3,!1,n.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(n){lt[n]=new bt(n,3,!0,n,null,!1,!1)});["capture","download"].forEach(function(n){lt[n]=new bt(n,4,!1,n,null,!1,!1)});["cols","rows","size","span"].forEach(function(n){lt[n]=new bt(n,6,!1,n,null,!1,!1)});["rowSpan","start"].forEach(function(n){lt[n]=new bt(n,5,!1,n.toLowerCase(),null,!1,!1)});var xp=/[\-:]([a-z])/g;function Np(n){return n[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(n){var t=n.replace(xp,Np);lt[t]=new bt(t,1,!1,n,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(n){var t=n.replace(xp,Np);lt[t]=new bt(t,1,!1,n,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(n){var t=n.replace(xp,Np);lt[t]=new bt(t,1,!1,n,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(n){lt[n]=new bt(n,1,!1,n.toLowerCase(),null,!1,!1)});lt.xlinkHref=new bt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(n){lt[n]=new bt(n,1,!1,n.toLowerCase(),null,!0,!0)});function bp(n,t,r,i){var s=lt.hasOwnProperty(t)?lt[t]:null;(s!==null?s.type!==0:i||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(QC(t,r,s,i)&&(r=null),i||s===null?KC(t)&&(r===null?n.removeAttribute(t):n.setAttribute(t,""+r)):s.mustUseProperty?n[s.propertyName]=r===null?s.type===3?!1:"":r:(t=s.attributeName,i=s.attributeNamespace,r===null?n.removeAttribute(t):(s=s.type,r=s===3||s===4&&r===!0?"":""+r,i?n.setAttributeNS(i,t,r):n.setAttribute(t,r))))}var or=Pw.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,fl=Symbol.for("react.element"),Ki=Symbol.for("react.portal"),Gi=Symbol.for("react.fragment"),Dp=Symbol.for("react.strict_mode"),$h=Symbol.for("react.profiler"),Ow=Symbol.for("react.provider"),Mw=Symbol.for("react.context"),Pp=Symbol.for("react.forward_ref"),Oh=Symbol.for("react.suspense"),Mh=Symbol.for("react.suspense_list"),$p=Symbol.for("react.memo"),fr=Symbol.for("react.lazy"),Lw=Symbol.for("react.offscreen"),iy=Symbol.iterator;function io(n){return n===null||typeof n!="object"?null:(n=iy&&n[iy]||n["@@iterator"],typeof n=="function"?n:null)}var Pe=Object.assign,Cd;function So(n){if(Cd===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);Cd=t&&t[1]||""}return`
`+Cd+n}var kd=!1;function Ad(n,t){if(!n||kd)return"";kd=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var i=c}Reflect.construct(n,[],t)}else{try{t.call()}catch(c){i=c}n.call(t.prototype)}else{try{throw Error()}catch(c){i=c}n()}}catch(c){if(c&&i&&typeof c.stack=="string"){for(var s=c.stack.split(`
`),o=i.stack.split(`
`),a=s.length-1,l=o.length-1;1<=a&&0<=l&&s[a]!==o[l];)l--;for(;1<=a&&0<=l;a--,l--)if(s[a]!==o[l]){if(a!==1||l!==1)do if(a--,l--,0>l||s[a]!==o[l]){var u=`
`+s[a].replace(" at new "," at ");return n.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",n.displayName)),u}while(1<=a&&0<=l);break}}}finally{kd=!1,Error.prepareStackTrace=r}return(n=n?n.displayName||n.name:"")?So(n):""}function YC(n){switch(n.tag){case 5:return So(n.type);case 16:return So("Lazy");case 13:return So("Suspense");case 19:return So("SuspenseList");case 0:case 2:case 15:return n=Ad(n.type,!1),n;case 11:return n=Ad(n.type.render,!1),n;case 1:return n=Ad(n.type,!0),n;default:return""}}function Lh(n){if(n==null)return null;if(typeof n=="function")return n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case Gi:return"Fragment";case Ki:return"Portal";case $h:return"Profiler";case Dp:return"StrictMode";case Oh:return"Suspense";case Mh:return"SuspenseList"}if(typeof n=="object")switch(n.$$typeof){case Mw:return(n.displayName||"Context")+".Consumer";case Ow:return(n._context.displayName||"Context")+".Provider";case Pp:var t=n.render;return n=n.displayName,n||(n=t.displayName||t.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case $p:return t=n.displayName||null,t!==null?t:Lh(n.type)||"Memo";case fr:t=n._payload,n=n._init;try{return Lh(n(t))}catch{}}return null}function XC(n){var t=n.type;switch(n.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return n=t.render,n=n.displayName||n.name||"",t.displayName||(n!==""?"ForwardRef("+n+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Lh(t);case 8:return t===Dp?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Vr(n){switch(typeof n){case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function Fw(n){var t=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function JC(n){var t=Fw(n)?"checked":"value",r=Object.getOwnPropertyDescriptor(n.constructor.prototype,t),i=""+n[t];if(!n.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var s=r.get,o=r.set;return Object.defineProperty(n,t,{configurable:!0,get:function(){return s.call(this)},set:function(a){i=""+a,o.call(this,a)}}),Object.defineProperty(n,t,{enumerable:r.enumerable}),{getValue:function(){return i},setValue:function(a){i=""+a},stopTracking:function(){n._valueTracker=null,delete n[t]}}}}function pl(n){n._valueTracker||(n._valueTracker=JC(n))}function Uw(n){if(!n)return!1;var t=n._valueTracker;if(!t)return!0;var r=t.getValue(),i="";return n&&(i=Fw(n)?n.checked?"true":"false":n.value),n=i,n!==r?(t.setValue(n),!0):!1}function du(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}function Fh(n,t){var r=t.checked;return Pe({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??n._wrapperState.initialChecked})}function sy(n,t){var r=t.defaultValue==null?"":t.defaultValue,i=t.checked!=null?t.checked:t.defaultChecked;r=Vr(t.value!=null?t.value:r),n._wrapperState={initialChecked:i,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Vw(n,t){t=t.checked,t!=null&&bp(n,"checked",t,!1)}function Uh(n,t){Vw(n,t);var r=Vr(t.value),i=t.type;if(r!=null)i==="number"?(r===0&&n.value===""||n.value!=r)&&(n.value=""+r):n.value!==""+r&&(n.value=""+r);else if(i==="submit"||i==="reset"){n.removeAttribute("value");return}t.hasOwnProperty("value")?Vh(n,t.type,r):t.hasOwnProperty("defaultValue")&&Vh(n,t.type,Vr(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(n.defaultChecked=!!t.defaultChecked)}function oy(n,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var i=t.type;if(!(i!=="submit"&&i!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+n._wrapperState.initialValue,r||t===n.value||(n.value=t),n.defaultValue=t}r=n.name,r!==""&&(n.name=""),n.defaultChecked=!!n._wrapperState.initialChecked,r!==""&&(n.name=r)}function Vh(n,t,r){(t!=="number"||du(n.ownerDocument)!==n)&&(r==null?n.defaultValue=""+n._wrapperState.initialValue:n.defaultValue!==""+r&&(n.defaultValue=""+r))}var Io=Array.isArray;function us(n,t,r,i){if(n=n.options,t){t={};for(var s=0;s<r.length;s++)t["$"+r[s]]=!0;for(r=0;r<n.length;r++)s=t.hasOwnProperty("$"+n[r].value),n[r].selected!==s&&(n[r].selected=s),s&&i&&(n[r].defaultSelected=!0)}else{for(r=""+Vr(r),t=null,s=0;s<n.length;s++){if(n[s].value===r){n[s].selected=!0,i&&(n[s].defaultSelected=!0);return}t!==null||n[s].disabled||(t=n[s])}t!==null&&(t.selected=!0)}}function jh(n,t){if(t.dangerouslySetInnerHTML!=null)throw Error(x(91));return Pe({},t,{value:void 0,defaultValue:void 0,children:""+n._wrapperState.initialValue})}function ay(n,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(x(92));if(Io(r)){if(1<r.length)throw Error(x(93));r=r[0]}t=r}t==null&&(t=""),r=t}n._wrapperState={initialValue:Vr(r)}}function jw(n,t){var r=Vr(t.value),i=Vr(t.defaultValue);r!=null&&(r=""+r,r!==n.value&&(n.value=r),t.defaultValue==null&&n.defaultValue!==r&&(n.defaultValue=r)),i!=null&&(n.defaultValue=""+i)}function ly(n){var t=n.textContent;t===n._wrapperState.initialValue&&t!==""&&t!==null&&(n.value=t)}function zw(n){switch(n){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function zh(n,t){return n==null||n==="http://www.w3.org/1999/xhtml"?zw(t):n==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":n}var ml,Bw=function(n){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,i,s){MSApp.execUnsafeLocalFunction(function(){return n(t,r,i,s)})}:n}(function(n,t){if(n.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in n)n.innerHTML=t;else{for(ml=ml||document.createElement("div"),ml.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ml.firstChild;n.firstChild;)n.removeChild(n.firstChild);for(;t.firstChild;)n.appendChild(t.firstChild)}});function Jo(n,t){if(t){var r=n.firstChild;if(r&&r===n.lastChild&&r.nodeType===3){r.nodeValue=t;return}}n.textContent=t}var Po={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},ZC=["Webkit","ms","Moz","O"];Object.keys(Po).forEach(function(n){ZC.forEach(function(t){t=t+n.charAt(0).toUpperCase()+n.substring(1),Po[t]=Po[n]})});function Hw(n,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||Po.hasOwnProperty(n)&&Po[n]?(""+t).trim():t+"px"}function Ww(n,t){n=n.style;for(var r in t)if(t.hasOwnProperty(r)){var i=r.indexOf("--")===0,s=Hw(r,t[r],i);r==="float"&&(r="cssFloat"),i?n.setProperty(r,s):n[r]=s}}var ek=Pe({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Bh(n,t){if(t){if(ek[n]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(x(137,n));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(x(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(x(61))}if(t.style!=null&&typeof t.style!="object")throw Error(x(62))}}function Hh(n,t){if(n.indexOf("-")===-1)return typeof t.is=="string";switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Wh=null;function Op(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var qh=null,cs=null,ds=null;function uy(n){if(n=Oa(n)){if(typeof qh!="function")throw Error(x(280));var t=n.stateNode;t&&(t=vc(t),qh(n.stateNode,n.type,t))}}function qw(n){cs?ds?ds.push(n):ds=[n]:cs=n}function Kw(){if(cs){var n=cs,t=ds;if(ds=cs=null,uy(n),t)for(n=0;n<t.length;n++)uy(t[n])}}function Gw(n,t){return n(t)}function Qw(){}var Rd=!1;function Yw(n,t,r){if(Rd)return n(t,r);Rd=!0;try{return Gw(n,t,r)}finally{Rd=!1,(cs!==null||ds!==null)&&(Qw(),Kw())}}function Zo(n,t){var r=n.stateNode;if(r===null)return null;var i=vc(r);if(i===null)return null;r=i[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(n=n.type,i=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!i;break e;default:n=!1}if(n)return null;if(r&&typeof r!="function")throw Error(x(231,t,typeof r));return r}var Kh=!1;if(Xn)try{var so={};Object.defineProperty(so,"passive",{get:function(){Kh=!0}}),window.addEventListener("test",so,so),window.removeEventListener("test",so,so)}catch{Kh=!1}function tk(n,t,r,i,s,o,a,l,u){var c=Array.prototype.slice.call(arguments,3);try{t.apply(r,c)}catch(d){this.onError(d)}}var $o=!1,hu=null,fu=!1,Gh=null,nk={onError:function(n){$o=!0,hu=n}};function rk(n,t,r,i,s,o,a,l,u){$o=!1,hu=null,tk.apply(nk,arguments)}function ik(n,t,r,i,s,o,a,l,u){if(rk.apply(this,arguments),$o){if($o){var c=hu;$o=!1,hu=null}else throw Error(x(198));fu||(fu=!0,Gh=c)}}function $i(n){var t=n,r=n;if(n.alternate)for(;t.return;)t=t.return;else{n=t;do t=n,t.flags&4098&&(r=t.return),n=t.return;while(n)}return t.tag===3?r:null}function Xw(n){if(n.tag===13){var t=n.memoizedState;if(t===null&&(n=n.alternate,n!==null&&(t=n.memoizedState)),t!==null)return t.dehydrated}return null}function cy(n){if($i(n)!==n)throw Error(x(188))}function sk(n){var t=n.alternate;if(!t){if(t=$i(n),t===null)throw Error(x(188));return t!==n?null:n}for(var r=n,i=t;;){var s=r.return;if(s===null)break;var o=s.alternate;if(o===null){if(i=s.return,i!==null){r=i;continue}break}if(s.child===o.child){for(o=s.child;o;){if(o===r)return cy(s),n;if(o===i)return cy(s),t;o=o.sibling}throw Error(x(188))}if(r.return!==i.return)r=s,i=o;else{for(var a=!1,l=s.child;l;){if(l===r){a=!0,r=s,i=o;break}if(l===i){a=!0,i=s,r=o;break}l=l.sibling}if(!a){for(l=o.child;l;){if(l===r){a=!0,r=o,i=s;break}if(l===i){a=!0,i=o,r=s;break}l=l.sibling}if(!a)throw Error(x(189))}}if(r.alternate!==i)throw Error(x(190))}if(r.tag!==3)throw Error(x(188));return r.stateNode.current===r?n:t}function Jw(n){return n=sk(n),n!==null?Zw(n):null}function Zw(n){if(n.tag===5||n.tag===6)return n;for(n=n.child;n!==null;){var t=Zw(n);if(t!==null)return t;n=n.sibling}return null}var e1=Bt.unstable_scheduleCallback,dy=Bt.unstable_cancelCallback,ok=Bt.unstable_shouldYield,ak=Bt.unstable_requestPaint,Ue=Bt.unstable_now,lk=Bt.unstable_getCurrentPriorityLevel,Mp=Bt.unstable_ImmediatePriority,t1=Bt.unstable_UserBlockingPriority,pu=Bt.unstable_NormalPriority,uk=Bt.unstable_LowPriority,n1=Bt.unstable_IdlePriority,pc=null,Rn=null;function ck(n){if(Rn&&typeof Rn.onCommitFiberRoot=="function")try{Rn.onCommitFiberRoot(pc,n,void 0,(n.current.flags&128)===128)}catch{}}var pn=Math.clz32?Math.clz32:fk,dk=Math.log,hk=Math.LN2;function fk(n){return n>>>=0,n===0?32:31-(dk(n)/hk|0)|0}var gl=64,yl=4194304;function To(n){switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return n&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return n}}function mu(n,t){var r=n.pendingLanes;if(r===0)return 0;var i=0,s=n.suspendedLanes,o=n.pingedLanes,a=r&268435455;if(a!==0){var l=a&~s;l!==0?i=To(l):(o&=a,o!==0&&(i=To(o)))}else a=r&~s,a!==0?i=To(a):o!==0&&(i=To(o));if(i===0)return 0;if(t!==0&&t!==i&&!(t&s)&&(s=i&-i,o=t&-t,s>=o||s===16&&(o&4194240)!==0))return t;if(i&4&&(i|=r&16),t=n.entangledLanes,t!==0)for(n=n.entanglements,t&=i;0<t;)r=31-pn(t),s=1<<r,i|=n[r],t&=~s;return i}function pk(n,t){switch(n){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function mk(n,t){for(var r=n.suspendedLanes,i=n.pingedLanes,s=n.expirationTimes,o=n.pendingLanes;0<o;){var a=31-pn(o),l=1<<a,u=s[a];u===-1?(!(l&r)||l&i)&&(s[a]=pk(l,t)):u<=t&&(n.expiredLanes|=l),o&=~l}}function Qh(n){return n=n.pendingLanes&-1073741825,n!==0?n:n&1073741824?1073741824:0}function r1(){var n=gl;return gl<<=1,!(gl&4194240)&&(gl=64),n}function xd(n){for(var t=[],r=0;31>r;r++)t.push(n);return t}function Pa(n,t,r){n.pendingLanes|=t,t!==536870912&&(n.suspendedLanes=0,n.pingedLanes=0),n=n.eventTimes,t=31-pn(t),n[t]=r}function gk(n,t){var r=n.pendingLanes&~t;n.pendingLanes=t,n.suspendedLanes=0,n.pingedLanes=0,n.expiredLanes&=t,n.mutableReadLanes&=t,n.entangledLanes&=t,t=n.entanglements;var i=n.eventTimes;for(n=n.expirationTimes;0<r;){var s=31-pn(r),o=1<<s;t[s]=0,i[s]=-1,n[s]=-1,r&=~o}}function Lp(n,t){var r=n.entangledLanes|=t;for(n=n.entanglements;r;){var i=31-pn(r),s=1<<i;s&t|n[i]&t&&(n[i]|=t),r&=~s}}var pe=0;function i1(n){return n&=-n,1<n?4<n?n&268435455?16:536870912:4:1}var s1,Fp,o1,a1,l1,Yh=!1,vl=[],kr=null,Ar=null,Rr=null,ea=new Map,ta=new Map,mr=[],yk="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function hy(n,t){switch(n){case"focusin":case"focusout":kr=null;break;case"dragenter":case"dragleave":Ar=null;break;case"mouseover":case"mouseout":Rr=null;break;case"pointerover":case"pointerout":ea.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":ta.delete(t.pointerId)}}function oo(n,t,r,i,s,o){return n===null||n.nativeEvent!==o?(n={blockedOn:t,domEventName:r,eventSystemFlags:i,nativeEvent:o,targetContainers:[s]},t!==null&&(t=Oa(t),t!==null&&Fp(t)),n):(n.eventSystemFlags|=i,t=n.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),n)}function vk(n,t,r,i,s){switch(t){case"focusin":return kr=oo(kr,n,t,r,i,s),!0;case"dragenter":return Ar=oo(Ar,n,t,r,i,s),!0;case"mouseover":return Rr=oo(Rr,n,t,r,i,s),!0;case"pointerover":var o=s.pointerId;return ea.set(o,oo(ea.get(o)||null,n,t,r,i,s)),!0;case"gotpointercapture":return o=s.pointerId,ta.set(o,oo(ta.get(o)||null,n,t,r,i,s)),!0}return!1}function u1(n){var t=ri(n.target);if(t!==null){var r=$i(t);if(r!==null){if(t=r.tag,t===13){if(t=Xw(r),t!==null){n.blockedOn=t,l1(n.priority,function(){o1(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){n.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}n.blockedOn=null}function ql(n){if(n.blockedOn!==null)return!1;for(var t=n.targetContainers;0<t.length;){var r=Xh(n.domEventName,n.eventSystemFlags,t[0],n.nativeEvent);if(r===null){r=n.nativeEvent;var i=new r.constructor(r.type,r);Wh=i,r.target.dispatchEvent(i),Wh=null}else return t=Oa(r),t!==null&&Fp(t),n.blockedOn=r,!1;t.shift()}return!0}function fy(n,t,r){ql(n)&&r.delete(t)}function wk(){Yh=!1,kr!==null&&ql(kr)&&(kr=null),Ar!==null&&ql(Ar)&&(Ar=null),Rr!==null&&ql(Rr)&&(Rr=null),ea.forEach(fy),ta.forEach(fy)}function ao(n,t){n.blockedOn===t&&(n.blockedOn=null,Yh||(Yh=!0,Bt.unstable_scheduleCallback(Bt.unstable_NormalPriority,wk)))}function na(n){function t(s){return ao(s,n)}if(0<vl.length){ao(vl[0],n);for(var r=1;r<vl.length;r++){var i=vl[r];i.blockedOn===n&&(i.blockedOn=null)}}for(kr!==null&&ao(kr,n),Ar!==null&&ao(Ar,n),Rr!==null&&ao(Rr,n),ea.forEach(t),ta.forEach(t),r=0;r<mr.length;r++)i=mr[r],i.blockedOn===n&&(i.blockedOn=null);for(;0<mr.length&&(r=mr[0],r.blockedOn===null);)u1(r),r.blockedOn===null&&mr.shift()}var hs=or.ReactCurrentBatchConfig,gu=!0;function Ek(n,t,r,i){var s=pe,o=hs.transition;hs.transition=null;try{pe=1,Up(n,t,r,i)}finally{pe=s,hs.transition=o}}function Sk(n,t,r,i){var s=pe,o=hs.transition;hs.transition=null;try{pe=4,Up(n,t,r,i)}finally{pe=s,hs.transition=o}}function Up(n,t,r,i){if(gu){var s=Xh(n,t,r,i);if(s===null)Ud(n,t,i,yu,r),hy(n,i);else if(vk(s,n,t,r,i))i.stopPropagation();else if(hy(n,i),t&4&&-1<yk.indexOf(n)){for(;s!==null;){var o=Oa(s);if(o!==null&&s1(o),o=Xh(n,t,r,i),o===null&&Ud(n,t,i,yu,r),o===s)break;s=o}s!==null&&i.stopPropagation()}else Ud(n,t,i,null,r)}}var yu=null;function Xh(n,t,r,i){if(yu=null,n=Op(i),n=ri(n),n!==null)if(t=$i(n),t===null)n=null;else if(r=t.tag,r===13){if(n=Xw(t),n!==null)return n;n=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;n=null}else t!==n&&(n=null);return yu=n,null}function c1(n){switch(n){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(lk()){case Mp:return 1;case t1:return 4;case pu:case uk:return 16;case n1:return 536870912;default:return 16}default:return 16}}var Ir=null,Vp=null,Kl=null;function d1(){if(Kl)return Kl;var n,t=Vp,r=t.length,i,s="value"in Ir?Ir.value:Ir.textContent,o=s.length;for(n=0;n<r&&t[n]===s[n];n++);var a=r-n;for(i=1;i<=a&&t[r-i]===s[o-i];i++);return Kl=s.slice(n,1<i?1-i:void 0)}function Gl(n){var t=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&t===13&&(n=13)):n=t,n===10&&(n=13),32<=n||n===13?n:0}function wl(){return!0}function py(){return!1}function Kt(n){function t(r,i,s,o,a){this._reactName=r,this._targetInst=s,this.type=i,this.nativeEvent=o,this.target=a,this.currentTarget=null;for(var l in n)n.hasOwnProperty(l)&&(r=n[l],this[l]=r?r(o):o[l]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?wl:py,this.isPropagationStopped=py,this}return Pe(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=wl)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=wl)},persist:function(){},isPersistent:wl}),t}var Us={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},jp=Kt(Us),$a=Pe({},Us,{view:0,detail:0}),Ik=Kt($a),Nd,bd,lo,mc=Pe({},$a,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:zp,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==lo&&(lo&&n.type==="mousemove"?(Nd=n.screenX-lo.screenX,bd=n.screenY-lo.screenY):bd=Nd=0,lo=n),Nd)},movementY:function(n){return"movementY"in n?n.movementY:bd}}),my=Kt(mc),Tk=Pe({},mc,{dataTransfer:0}),_k=Kt(Tk),Ck=Pe({},$a,{relatedTarget:0}),Dd=Kt(Ck),kk=Pe({},Us,{animationName:0,elapsedTime:0,pseudoElement:0}),Ak=Kt(kk),Rk=Pe({},Us,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),xk=Kt(Rk),Nk=Pe({},Us,{data:0}),gy=Kt(Nk),bk={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Dk={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Pk={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function $k(n){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(n):(n=Pk[n])?!!t[n]:!1}function zp(){return $k}var Ok=Pe({},$a,{key:function(n){if(n.key){var t=bk[n.key]||n.key;if(t!=="Unidentified")return t}return n.type==="keypress"?(n=Gl(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?Dk[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:zp,charCode:function(n){return n.type==="keypress"?Gl(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?Gl(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),Mk=Kt(Ok),Lk=Pe({},mc,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),yy=Kt(Lk),Fk=Pe({},$a,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:zp}),Uk=Kt(Fk),Vk=Pe({},Us,{propertyName:0,elapsedTime:0,pseudoElement:0}),jk=Kt(Vk),zk=Pe({},mc,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),Bk=Kt(zk),Hk=[9,13,27,32],Bp=Xn&&"CompositionEvent"in window,Oo=null;Xn&&"documentMode"in document&&(Oo=document.documentMode);var Wk=Xn&&"TextEvent"in window&&!Oo,h1=Xn&&(!Bp||Oo&&8<Oo&&11>=Oo),vy=String.fromCharCode(32),wy=!1;function f1(n,t){switch(n){case"keyup":return Hk.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function p1(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var Qi=!1;function qk(n,t){switch(n){case"compositionend":return p1(t);case"keypress":return t.which!==32?null:(wy=!0,vy);case"textInput":return n=t.data,n===vy&&wy?null:n;default:return null}}function Kk(n,t){if(Qi)return n==="compositionend"||!Bp&&f1(n,t)?(n=d1(),Kl=Vp=Ir=null,Qi=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return h1&&t.locale!=="ko"?null:t.data;default:return null}}var Gk={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ey(n){var t=n&&n.nodeName&&n.nodeName.toLowerCase();return t==="input"?!!Gk[n.type]:t==="textarea"}function m1(n,t,r,i){qw(i),t=vu(t,"onChange"),0<t.length&&(r=new jp("onChange","change",null,r,i),n.push({event:r,listeners:t}))}var Mo=null,ra=null;function Qk(n){k1(n,0)}function gc(n){var t=Ji(n);if(Uw(t))return n}function Yk(n,t){if(n==="change")return t}var g1=!1;if(Xn){var Pd;if(Xn){var $d="oninput"in document;if(!$d){var Sy=document.createElement("div");Sy.setAttribute("oninput","return;"),$d=typeof Sy.oninput=="function"}Pd=$d}else Pd=!1;g1=Pd&&(!document.documentMode||9<document.documentMode)}function Iy(){Mo&&(Mo.detachEvent("onpropertychange",y1),ra=Mo=null)}function y1(n){if(n.propertyName==="value"&&gc(ra)){var t=[];m1(t,ra,n,Op(n)),Yw(Qk,t)}}function Xk(n,t,r){n==="focusin"?(Iy(),Mo=t,ra=r,Mo.attachEvent("onpropertychange",y1)):n==="focusout"&&Iy()}function Jk(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return gc(ra)}function Zk(n,t){if(n==="click")return gc(t)}function eA(n,t){if(n==="input"||n==="change")return gc(t)}function tA(n,t){return n===t&&(n!==0||1/n===1/t)||n!==n&&t!==t}var gn=typeof Object.is=="function"?Object.is:tA;function ia(n,t){if(gn(n,t))return!0;if(typeof n!="object"||n===null||typeof t!="object"||t===null)return!1;var r=Object.keys(n),i=Object.keys(t);if(r.length!==i.length)return!1;for(i=0;i<r.length;i++){var s=r[i];if(!Ph.call(t,s)||!gn(n[s],t[s]))return!1}return!0}function Ty(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function _y(n,t){var r=Ty(n);n=0;for(var i;r;){if(r.nodeType===3){if(i=n+r.textContent.length,n<=t&&i>=t)return{node:r,offset:t-n};n=i}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Ty(r)}}function v1(n,t){return n&&t?n===t?!0:n&&n.nodeType===3?!1:t&&t.nodeType===3?v1(n,t.parentNode):"contains"in n?n.contains(t):n.compareDocumentPosition?!!(n.compareDocumentPosition(t)&16):!1:!1}function w1(){for(var n=window,t=du();t instanceof n.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)n=t.contentWindow;else break;t=du(n.document)}return t}function Hp(n){var t=n&&n.nodeName&&n.nodeName.toLowerCase();return t&&(t==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||t==="textarea"||n.contentEditable==="true")}function nA(n){var t=w1(),r=n.focusedElem,i=n.selectionRange;if(t!==r&&r&&r.ownerDocument&&v1(r.ownerDocument.documentElement,r)){if(i!==null&&Hp(r)){if(t=i.start,n=i.end,n===void 0&&(n=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(n,r.value.length);else if(n=(t=r.ownerDocument||document)&&t.defaultView||window,n.getSelection){n=n.getSelection();var s=r.textContent.length,o=Math.min(i.start,s);i=i.end===void 0?o:Math.min(i.end,s),!n.extend&&o>i&&(s=i,i=o,o=s),s=_y(r,o);var a=_y(r,i);s&&a&&(n.rangeCount!==1||n.anchorNode!==s.node||n.anchorOffset!==s.offset||n.focusNode!==a.node||n.focusOffset!==a.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),n.removeAllRanges(),o>i?(n.addRange(t),n.extend(a.node,a.offset)):(t.setEnd(a.node,a.offset),n.addRange(t)))}}for(t=[],n=r;n=n.parentNode;)n.nodeType===1&&t.push({element:n,left:n.scrollLeft,top:n.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)n=t[r],n.element.scrollLeft=n.left,n.element.scrollTop=n.top}}var rA=Xn&&"documentMode"in document&&11>=document.documentMode,Yi=null,Jh=null,Lo=null,Zh=!1;function Cy(n,t,r){var i=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Zh||Yi==null||Yi!==du(i)||(i=Yi,"selectionStart"in i&&Hp(i)?i={start:i.selectionStart,end:i.selectionEnd}:(i=(i.ownerDocument&&i.ownerDocument.defaultView||window).getSelection(),i={anchorNode:i.anchorNode,anchorOffset:i.anchorOffset,focusNode:i.focusNode,focusOffset:i.focusOffset}),Lo&&ia(Lo,i)||(Lo=i,i=vu(Jh,"onSelect"),0<i.length&&(t=new jp("onSelect","select",null,t,r),n.push({event:t,listeners:i}),t.target=Yi)))}function El(n,t){var r={};return r[n.toLowerCase()]=t.toLowerCase(),r["Webkit"+n]="webkit"+t,r["Moz"+n]="moz"+t,r}var Xi={animationend:El("Animation","AnimationEnd"),animationiteration:El("Animation","AnimationIteration"),animationstart:El("Animation","AnimationStart"),transitionend:El("Transition","TransitionEnd")},Od={},E1={};Xn&&(E1=document.createElement("div").style,"AnimationEvent"in window||(delete Xi.animationend.animation,delete Xi.animationiteration.animation,delete Xi.animationstart.animation),"TransitionEvent"in window||delete Xi.transitionend.transition);function yc(n){if(Od[n])return Od[n];if(!Xi[n])return n;var t=Xi[n],r;for(r in t)if(t.hasOwnProperty(r)&&r in E1)return Od[n]=t[r];return n}var S1=yc("animationend"),I1=yc("animationiteration"),T1=yc("animationstart"),_1=yc("transitionend"),C1=new Map,ky="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Kr(n,t){C1.set(n,t),Pi(t,[n])}for(var Md=0;Md<ky.length;Md++){var Ld=ky[Md],iA=Ld.toLowerCase(),sA=Ld[0].toUpperCase()+Ld.slice(1);Kr(iA,"on"+sA)}Kr(S1,"onAnimationEnd");Kr(I1,"onAnimationIteration");Kr(T1,"onAnimationStart");Kr("dblclick","onDoubleClick");Kr("focusin","onFocus");Kr("focusout","onBlur");Kr(_1,"onTransitionEnd");Is("onMouseEnter",["mouseout","mouseover"]);Is("onMouseLeave",["mouseout","mouseover"]);Is("onPointerEnter",["pointerout","pointerover"]);Is("onPointerLeave",["pointerout","pointerover"]);Pi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Pi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Pi("onBeforeInput",["compositionend","keypress","textInput","paste"]);Pi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Pi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Pi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var _o="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),oA=new Set("cancel close invalid load scroll toggle".split(" ").concat(_o));function Ay(n,t,r){var i=n.type||"unknown-event";n.currentTarget=r,ik(i,t,void 0,n),n.currentTarget=null}function k1(n,t){t=(t&4)!==0;for(var r=0;r<n.length;r++){var i=n[r],s=i.event;i=i.listeners;e:{var o=void 0;if(t)for(var a=i.length-1;0<=a;a--){var l=i[a],u=l.instance,c=l.currentTarget;if(l=l.listener,u!==o&&s.isPropagationStopped())break e;Ay(s,l,c),o=u}else for(a=0;a<i.length;a++){if(l=i[a],u=l.instance,c=l.currentTarget,l=l.listener,u!==o&&s.isPropagationStopped())break e;Ay(s,l,c),o=u}}}if(fu)throw n=Gh,fu=!1,Gh=null,n}function Ie(n,t){var r=t[sf];r===void 0&&(r=t[sf]=new Set);var i=n+"__bubble";r.has(i)||(A1(t,n,2,!1),r.add(i))}function Fd(n,t,r){var i=0;t&&(i|=4),A1(r,n,i,t)}var Sl="_reactListening"+Math.random().toString(36).slice(2);function sa(n){if(!n[Sl]){n[Sl]=!0,$w.forEach(function(r){r!=="selectionchange"&&(oA.has(r)||Fd(r,!1,n),Fd(r,!0,n))});var t=n.nodeType===9?n:n.ownerDocument;t===null||t[Sl]||(t[Sl]=!0,Fd("selectionchange",!1,t))}}function A1(n,t,r,i){switch(c1(t)){case 1:var s=Ek;break;case 4:s=Sk;break;default:s=Up}r=s.bind(null,t,r,n),s=void 0,!Kh||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),i?s!==void 0?n.addEventListener(t,r,{capture:!0,passive:s}):n.addEventListener(t,r,!0):s!==void 0?n.addEventListener(t,r,{passive:s}):n.addEventListener(t,r,!1)}function Ud(n,t,r,i,s){var o=i;if(!(t&1)&&!(t&2)&&i!==null)e:for(;;){if(i===null)return;var a=i.tag;if(a===3||a===4){var l=i.stateNode.containerInfo;if(l===s||l.nodeType===8&&l.parentNode===s)break;if(a===4)for(a=i.return;a!==null;){var u=a.tag;if((u===3||u===4)&&(u=a.stateNode.containerInfo,u===s||u.nodeType===8&&u.parentNode===s))return;a=a.return}for(;l!==null;){if(a=ri(l),a===null)return;if(u=a.tag,u===5||u===6){i=o=a;continue e}l=l.parentNode}}i=i.return}Yw(function(){var c=o,d=Op(r),h=[];e:{var f=C1.get(n);if(f!==void 0){var m=jp,E=n;switch(n){case"keypress":if(Gl(r)===0)break e;case"keydown":case"keyup":m=Mk;break;case"focusin":E="focus",m=Dd;break;case"focusout":E="blur",m=Dd;break;case"beforeblur":case"afterblur":m=Dd;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=my;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=_k;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=Uk;break;case S1:case I1:case T1:m=Ak;break;case _1:m=jk;break;case"scroll":m=Ik;break;case"wheel":m=Bk;break;case"copy":case"cut":case"paste":m=xk;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=yy}var S=(t&4)!==0,I=!S&&n==="scroll",y=S?f!==null?f+"Capture":null:f;S=[];for(var p=c,v;p!==null;){v=p;var g=v.stateNode;if(v.tag===5&&g!==null&&(v=g,y!==null&&(g=Zo(p,y),g!=null&&S.push(oa(p,g,v)))),I)break;p=p.return}0<S.length&&(f=new m(f,E,null,r,d),h.push({event:f,listeners:S}))}}if(!(t&7)){e:{if(f=n==="mouseover"||n==="pointerover",m=n==="mouseout"||n==="pointerout",f&&r!==Wh&&(E=r.relatedTarget||r.fromElement)&&(ri(E)||E[Jn]))break e;if((m||f)&&(f=d.window===d?d:(f=d.ownerDocument)?f.defaultView||f.parentWindow:window,m?(E=r.relatedTarget||r.toElement,m=c,E=E?ri(E):null,E!==null&&(I=$i(E),E!==I||E.tag!==5&&E.tag!==6)&&(E=null)):(m=null,E=c),m!==E)){if(S=my,g="onMouseLeave",y="onMouseEnter",p="mouse",(n==="pointerout"||n==="pointerover")&&(S=yy,g="onPointerLeave",y="onPointerEnter",p="pointer"),I=m==null?f:Ji(m),v=E==null?f:Ji(E),f=new S(g,p+"leave",m,r,d),f.target=I,f.relatedTarget=v,g=null,ri(d)===c&&(S=new S(y,p+"enter",E,r,d),S.target=v,S.relatedTarget=I,g=S),I=g,m&&E)t:{for(S=m,y=E,p=0,v=S;v;v=Bi(v))p++;for(v=0,g=y;g;g=Bi(g))v++;for(;0<p-v;)S=Bi(S),p--;for(;0<v-p;)y=Bi(y),v--;for(;p--;){if(S===y||y!==null&&S===y.alternate)break t;S=Bi(S),y=Bi(y)}S=null}else S=null;m!==null&&Ry(h,f,m,S,!1),E!==null&&I!==null&&Ry(h,I,E,S,!0)}}e:{if(f=c?Ji(c):window,m=f.nodeName&&f.nodeName.toLowerCase(),m==="select"||m==="input"&&f.type==="file")var C=Yk;else if(Ey(f))if(g1)C=eA;else{C=Jk;var b=Xk}else(m=f.nodeName)&&m.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(C=Zk);if(C&&(C=C(n,c))){m1(h,C,r,d);break e}b&&b(n,f,c),n==="focusout"&&(b=f._wrapperState)&&b.controlled&&f.type==="number"&&Vh(f,"number",f.value)}switch(b=c?Ji(c):window,n){case"focusin":(Ey(b)||b.contentEditable==="true")&&(Yi=b,Jh=c,Lo=null);break;case"focusout":Lo=Jh=Yi=null;break;case"mousedown":Zh=!0;break;case"contextmenu":case"mouseup":case"dragend":Zh=!1,Cy(h,r,d);break;case"selectionchange":if(rA)break;case"keydown":case"keyup":Cy(h,r,d)}var R;if(Bp)e:{switch(n){case"compositionstart":var $="onCompositionStart";break e;case"compositionend":$="onCompositionEnd";break e;case"compositionupdate":$="onCompositionUpdate";break e}$=void 0}else Qi?f1(n,r)&&($="onCompositionEnd"):n==="keydown"&&r.keyCode===229&&($="onCompositionStart");$&&(h1&&r.locale!=="ko"&&(Qi||$!=="onCompositionStart"?$==="onCompositionEnd"&&Qi&&(R=d1()):(Ir=d,Vp="value"in Ir?Ir.value:Ir.textContent,Qi=!0)),b=vu(c,$),0<b.length&&($=new gy($,n,null,r,d),h.push({event:$,listeners:b}),R?$.data=R:(R=p1(r),R!==null&&($.data=R)))),(R=Wk?qk(n,r):Kk(n,r))&&(c=vu(c,"onBeforeInput"),0<c.length&&(d=new gy("onBeforeInput","beforeinput",null,r,d),h.push({event:d,listeners:c}),d.data=R))}k1(h,t)})}function oa(n,t,r){return{instance:n,listener:t,currentTarget:r}}function vu(n,t){for(var r=t+"Capture",i=[];n!==null;){var s=n,o=s.stateNode;s.tag===5&&o!==null&&(s=o,o=Zo(n,r),o!=null&&i.unshift(oa(n,o,s)),o=Zo(n,t),o!=null&&i.push(oa(n,o,s))),n=n.return}return i}function Bi(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5);return n||null}function Ry(n,t,r,i,s){for(var o=t._reactName,a=[];r!==null&&r!==i;){var l=r,u=l.alternate,c=l.stateNode;if(u!==null&&u===i)break;l.tag===5&&c!==null&&(l=c,s?(u=Zo(r,o),u!=null&&a.unshift(oa(r,u,l))):s||(u=Zo(r,o),u!=null&&a.push(oa(r,u,l)))),r=r.return}a.length!==0&&n.push({event:t,listeners:a})}var aA=/\r\n?/g,lA=/\u0000|\uFFFD/g;function xy(n){return(typeof n=="string"?n:""+n).replace(aA,`
`).replace(lA,"")}function Il(n,t,r){if(t=xy(t),xy(n)!==t&&r)throw Error(x(425))}function wu(){}var ef=null,tf=null;function nf(n,t){return n==="textarea"||n==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var rf=typeof setTimeout=="function"?setTimeout:void 0,uA=typeof clearTimeout=="function"?clearTimeout:void 0,Ny=typeof Promise=="function"?Promise:void 0,cA=typeof queueMicrotask=="function"?queueMicrotask:typeof Ny<"u"?function(n){return Ny.resolve(null).then(n).catch(dA)}:rf;function dA(n){setTimeout(function(){throw n})}function Vd(n,t){var r=t,i=0;do{var s=r.nextSibling;if(n.removeChild(r),s&&s.nodeType===8)if(r=s.data,r==="/$"){if(i===0){n.removeChild(s),na(t);return}i--}else r!=="$"&&r!=="$?"&&r!=="$!"||i++;r=s}while(r);na(t)}function xr(n){for(;n!=null;n=n.nextSibling){var t=n.nodeType;if(t===1||t===3)break;if(t===8){if(t=n.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return n}function by(n){n=n.previousSibling;for(var t=0;n;){if(n.nodeType===8){var r=n.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return n;t--}else r==="/$"&&t++}n=n.previousSibling}return null}var Vs=Math.random().toString(36).slice(2),Cn="__reactFiber$"+Vs,aa="__reactProps$"+Vs,Jn="__reactContainer$"+Vs,sf="__reactEvents$"+Vs,hA="__reactListeners$"+Vs,fA="__reactHandles$"+Vs;function ri(n){var t=n[Cn];if(t)return t;for(var r=n.parentNode;r;){if(t=r[Jn]||r[Cn]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(n=by(n);n!==null;){if(r=n[Cn])return r;n=by(n)}return t}n=r,r=n.parentNode}return null}function Oa(n){return n=n[Cn]||n[Jn],!n||n.tag!==5&&n.tag!==6&&n.tag!==13&&n.tag!==3?null:n}function Ji(n){if(n.tag===5||n.tag===6)return n.stateNode;throw Error(x(33))}function vc(n){return n[aa]||null}var of=[],Zi=-1;function Gr(n){return{current:n}}function _e(n){0>Zi||(n.current=of[Zi],of[Zi]=null,Zi--)}function we(n,t){Zi++,of[Zi]=n.current,n.current=t}var jr={},It=Gr(jr),$t=Gr(!1),wi=jr;function Ts(n,t){var r=n.type.contextTypes;if(!r)return jr;var i=n.stateNode;if(i&&i.__reactInternalMemoizedUnmaskedChildContext===t)return i.__reactInternalMemoizedMaskedChildContext;var s={},o;for(o in r)s[o]=t[o];return i&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=t,n.__reactInternalMemoizedMaskedChildContext=s),s}function Ot(n){return n=n.childContextTypes,n!=null}function Eu(){_e($t),_e(It)}function Dy(n,t,r){if(It.current!==jr)throw Error(x(168));we(It,t),we($t,r)}function R1(n,t,r){var i=n.stateNode;if(t=t.childContextTypes,typeof i.getChildContext!="function")return r;i=i.getChildContext();for(var s in i)if(!(s in t))throw Error(x(108,XC(n)||"Unknown",s));return Pe({},r,i)}function Su(n){return n=(n=n.stateNode)&&n.__reactInternalMemoizedMergedChildContext||jr,wi=It.current,we(It,n),we($t,$t.current),!0}function Py(n,t,r){var i=n.stateNode;if(!i)throw Error(x(169));r?(n=R1(n,t,wi),i.__reactInternalMemoizedMergedChildContext=n,_e($t),_e(It),we(It,n)):_e($t),we($t,r)}var jn=null,wc=!1,jd=!1;function x1(n){jn===null?jn=[n]:jn.push(n)}function pA(n){wc=!0,x1(n)}function Qr(){if(!jd&&jn!==null){jd=!0;var n=0,t=pe;try{var r=jn;for(pe=1;n<r.length;n++){var i=r[n];do i=i(!0);while(i!==null)}jn=null,wc=!1}catch(s){throw jn!==null&&(jn=jn.slice(n+1)),e1(Mp,Qr),s}finally{pe=t,jd=!1}}return null}var es=[],ts=0,Iu=null,Tu=0,Qt=[],Yt=0,Ei=null,zn=1,Bn="";function Zr(n,t){es[ts++]=Tu,es[ts++]=Iu,Iu=n,Tu=t}function N1(n,t,r){Qt[Yt++]=zn,Qt[Yt++]=Bn,Qt[Yt++]=Ei,Ei=n;var i=zn;n=Bn;var s=32-pn(i)-1;i&=~(1<<s),r+=1;var o=32-pn(t)+s;if(30<o){var a=s-s%5;o=(i&(1<<a)-1).toString(32),i>>=a,s-=a,zn=1<<32-pn(t)+s|r<<s|i,Bn=o+n}else zn=1<<o|r<<s|i,Bn=n}function Wp(n){n.return!==null&&(Zr(n,1),N1(n,1,0))}function qp(n){for(;n===Iu;)Iu=es[--ts],es[ts]=null,Tu=es[--ts],es[ts]=null;for(;n===Ei;)Ei=Qt[--Yt],Qt[Yt]=null,Bn=Qt[--Yt],Qt[Yt]=null,zn=Qt[--Yt],Qt[Yt]=null}var jt=null,Vt=null,ke=!1,fn=null;function b1(n,t){var r=Zt(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=n,t=n.deletions,t===null?(n.deletions=[r],n.flags|=16):t.push(r)}function $y(n,t){switch(n.tag){case 5:var r=n.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(n.stateNode=t,jt=n,Vt=xr(t.firstChild),!0):!1;case 6:return t=n.pendingProps===""||t.nodeType!==3?null:t,t!==null?(n.stateNode=t,jt=n,Vt=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=Ei!==null?{id:zn,overflow:Bn}:null,n.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=Zt(18,null,null,0),r.stateNode=t,r.return=n,n.child=r,jt=n,Vt=null,!0):!1;default:return!1}}function af(n){return(n.mode&1)!==0&&(n.flags&128)===0}function lf(n){if(ke){var t=Vt;if(t){var r=t;if(!$y(n,t)){if(af(n))throw Error(x(418));t=xr(r.nextSibling);var i=jt;t&&$y(n,t)?b1(i,r):(n.flags=n.flags&-4097|2,ke=!1,jt=n)}}else{if(af(n))throw Error(x(418));n.flags=n.flags&-4097|2,ke=!1,jt=n}}}function Oy(n){for(n=n.return;n!==null&&n.tag!==5&&n.tag!==3&&n.tag!==13;)n=n.return;jt=n}function Tl(n){if(n!==jt)return!1;if(!ke)return Oy(n),ke=!0,!1;var t;if((t=n.tag!==3)&&!(t=n.tag!==5)&&(t=n.type,t=t!=="head"&&t!=="body"&&!nf(n.type,n.memoizedProps)),t&&(t=Vt)){if(af(n))throw D1(),Error(x(418));for(;t;)b1(n,t),t=xr(t.nextSibling)}if(Oy(n),n.tag===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(x(317));e:{for(n=n.nextSibling,t=0;n;){if(n.nodeType===8){var r=n.data;if(r==="/$"){if(t===0){Vt=xr(n.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}n=n.nextSibling}Vt=null}}else Vt=jt?xr(n.stateNode.nextSibling):null;return!0}function D1(){for(var n=Vt;n;)n=xr(n.nextSibling)}function _s(){Vt=jt=null,ke=!1}function Kp(n){fn===null?fn=[n]:fn.push(n)}var mA=or.ReactCurrentBatchConfig;function cn(n,t){if(n&&n.defaultProps){t=Pe({},t),n=n.defaultProps;for(var r in n)t[r]===void 0&&(t[r]=n[r]);return t}return t}var _u=Gr(null),Cu=null,ns=null,Gp=null;function Qp(){Gp=ns=Cu=null}function Yp(n){var t=_u.current;_e(_u),n._currentValue=t}function uf(n,t,r){for(;n!==null;){var i=n.alternate;if((n.childLanes&t)!==t?(n.childLanes|=t,i!==null&&(i.childLanes|=t)):i!==null&&(i.childLanes&t)!==t&&(i.childLanes|=t),n===r)break;n=n.return}}function fs(n,t){Cu=n,Gp=ns=null,n=n.dependencies,n!==null&&n.firstContext!==null&&(n.lanes&t&&(Pt=!0),n.firstContext=null)}function sn(n){var t=n._currentValue;if(Gp!==n)if(n={context:n,memoizedValue:t,next:null},ns===null){if(Cu===null)throw Error(x(308));ns=n,Cu.dependencies={lanes:0,firstContext:n}}else ns=ns.next=n;return t}var ii=null;function Xp(n){ii===null?ii=[n]:ii.push(n)}function P1(n,t,r,i){var s=t.interleaved;return s===null?(r.next=r,Xp(t)):(r.next=s.next,s.next=r),t.interleaved=r,Zn(n,i)}function Zn(n,t){n.lanes|=t;var r=n.alternate;for(r!==null&&(r.lanes|=t),r=n,n=n.return;n!==null;)n.childLanes|=t,r=n.alternate,r!==null&&(r.childLanes|=t),r=n,n=n.return;return r.tag===3?r.stateNode:null}var pr=!1;function Jp(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function $1(n,t){n=n.updateQueue,t.updateQueue===n&&(t.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,effects:n.effects})}function Gn(n,t){return{eventTime:n,lane:t,tag:0,payload:null,callback:null,next:null}}function Nr(n,t,r){var i=n.updateQueue;if(i===null)return null;if(i=i.shared,oe&2){var s=i.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),i.pending=t,Zn(n,r)}return s=i.interleaved,s===null?(t.next=t,Xp(i)):(t.next=s.next,s.next=t),i.interleaved=t,Zn(n,r)}function Ql(n,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var i=t.lanes;i&=n.pendingLanes,r|=i,t.lanes=r,Lp(n,r)}}function My(n,t){var r=n.updateQueue,i=n.alternate;if(i!==null&&(i=i.updateQueue,r===i)){var s=null,o=null;if(r=r.firstBaseUpdate,r!==null){do{var a={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};o===null?s=o=a:o=o.next=a,r=r.next}while(r!==null);o===null?s=o=t:o=o.next=t}else s=o=t;r={baseState:i.baseState,firstBaseUpdate:s,lastBaseUpdate:o,shared:i.shared,effects:i.effects},n.updateQueue=r;return}n=r.lastBaseUpdate,n===null?r.firstBaseUpdate=t:n.next=t,r.lastBaseUpdate=t}function ku(n,t,r,i){var s=n.updateQueue;pr=!1;var o=s.firstBaseUpdate,a=s.lastBaseUpdate,l=s.shared.pending;if(l!==null){s.shared.pending=null;var u=l,c=u.next;u.next=null,a===null?o=c:a.next=c,a=u;var d=n.alternate;d!==null&&(d=d.updateQueue,l=d.lastBaseUpdate,l!==a&&(l===null?d.firstBaseUpdate=c:l.next=c,d.lastBaseUpdate=u))}if(o!==null){var h=s.baseState;a=0,d=c=u=null,l=o;do{var f=l.lane,m=l.eventTime;if((i&f)===f){d!==null&&(d=d.next={eventTime:m,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var E=n,S=l;switch(f=t,m=r,S.tag){case 1:if(E=S.payload,typeof E=="function"){h=E.call(m,h,f);break e}h=E;break e;case 3:E.flags=E.flags&-65537|128;case 0:if(E=S.payload,f=typeof E=="function"?E.call(m,h,f):E,f==null)break e;h=Pe({},h,f);break e;case 2:pr=!0}}l.callback!==null&&l.lane!==0&&(n.flags|=64,f=s.effects,f===null?s.effects=[l]:f.push(l))}else m={eventTime:m,lane:f,tag:l.tag,payload:l.payload,callback:l.callback,next:null},d===null?(c=d=m,u=h):d=d.next=m,a|=f;if(l=l.next,l===null){if(l=s.shared.pending,l===null)break;f=l,l=f.next,f.next=null,s.lastBaseUpdate=f,s.shared.pending=null}}while(1);if(d===null&&(u=h),s.baseState=u,s.firstBaseUpdate=c,s.lastBaseUpdate=d,t=s.shared.interleaved,t!==null){s=t;do a|=s.lane,s=s.next;while(s!==t)}else o===null&&(s.shared.lanes=0);Ii|=a,n.lanes=a,n.memoizedState=h}}function Ly(n,t,r){if(n=t.effects,t.effects=null,n!==null)for(t=0;t<n.length;t++){var i=n[t],s=i.callback;if(s!==null){if(i.callback=null,i=r,typeof s!="function")throw Error(x(191,s));s.call(i)}}}var O1=new Pw.Component().refs;function cf(n,t,r,i){t=n.memoizedState,r=r(i,t),r=r==null?t:Pe({},t,r),n.memoizedState=r,n.lanes===0&&(n.updateQueue.baseState=r)}var Ec={isMounted:function(n){return(n=n._reactInternals)?$i(n)===n:!1},enqueueSetState:function(n,t,r){n=n._reactInternals;var i=Rt(),s=Dr(n),o=Gn(i,s);o.payload=t,r!=null&&(o.callback=r),t=Nr(n,o,s),t!==null&&(mn(t,n,s,i),Ql(t,n,s))},enqueueReplaceState:function(n,t,r){n=n._reactInternals;var i=Rt(),s=Dr(n),o=Gn(i,s);o.tag=1,o.payload=t,r!=null&&(o.callback=r),t=Nr(n,o,s),t!==null&&(mn(t,n,s,i),Ql(t,n,s))},enqueueForceUpdate:function(n,t){n=n._reactInternals;var r=Rt(),i=Dr(n),s=Gn(r,i);s.tag=2,t!=null&&(s.callback=t),t=Nr(n,s,i),t!==null&&(mn(t,n,i,r),Ql(t,n,i))}};function Fy(n,t,r,i,s,o,a){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(i,o,a):t.prototype&&t.prototype.isPureReactComponent?!ia(r,i)||!ia(s,o):!0}function M1(n,t,r){var i=!1,s=jr,o=t.contextType;return typeof o=="object"&&o!==null?o=sn(o):(s=Ot(t)?wi:It.current,i=t.contextTypes,o=(i=i!=null)?Ts(n,s):jr),t=new t(r,o),n.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Ec,n.stateNode=t,t._reactInternals=n,i&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=s,n.__reactInternalMemoizedMaskedChildContext=o),t}function Uy(n,t,r,i){n=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,i),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,i),t.state!==n&&Ec.enqueueReplaceState(t,t.state,null)}function df(n,t,r,i){var s=n.stateNode;s.props=r,s.state=n.memoizedState,s.refs=O1,Jp(n);var o=t.contextType;typeof o=="object"&&o!==null?s.context=sn(o):(o=Ot(t)?wi:It.current,s.context=Ts(n,o)),s.state=n.memoizedState,o=t.getDerivedStateFromProps,typeof o=="function"&&(cf(n,t,o,r),s.state=n.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&Ec.enqueueReplaceState(s,s.state,null),ku(n,r,s,i),s.state=n.memoizedState),typeof s.componentDidMount=="function"&&(n.flags|=4194308)}function uo(n,t,r){if(n=r.ref,n!==null&&typeof n!="function"&&typeof n!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(x(309));var i=r.stateNode}if(!i)throw Error(x(147,n));var s=i,o=""+n;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===o?t.ref:(t=function(a){var l=s.refs;l===O1&&(l=s.refs={}),a===null?delete l[o]:l[o]=a},t._stringRef=o,t)}if(typeof n!="string")throw Error(x(284));if(!r._owner)throw Error(x(290,n))}return n}function _l(n,t){throw n=Object.prototype.toString.call(t),Error(x(31,n==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":n))}function Vy(n){var t=n._init;return t(n._payload)}function L1(n){function t(y,p){if(n){var v=y.deletions;v===null?(y.deletions=[p],y.flags|=16):v.push(p)}}function r(y,p){if(!n)return null;for(;p!==null;)t(y,p),p=p.sibling;return null}function i(y,p){for(y=new Map;p!==null;)p.key!==null?y.set(p.key,p):y.set(p.index,p),p=p.sibling;return y}function s(y,p){return y=Pr(y,p),y.index=0,y.sibling=null,y}function o(y,p,v){return y.index=v,n?(v=y.alternate,v!==null?(v=v.index,v<p?(y.flags|=2,p):v):(y.flags|=2,p)):(y.flags|=1048576,p)}function a(y){return n&&y.alternate===null&&(y.flags|=2),y}function l(y,p,v,g){return p===null||p.tag!==6?(p=Gd(v,y.mode,g),p.return=y,p):(p=s(p,v),p.return=y,p)}function u(y,p,v,g){var C=v.type;return C===Gi?d(y,p,v.props.children,g,v.key):p!==null&&(p.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===fr&&Vy(C)===p.type)?(g=s(p,v.props),g.ref=uo(y,p,v),g.return=y,g):(g=tu(v.type,v.key,v.props,null,y.mode,g),g.ref=uo(y,p,v),g.return=y,g)}function c(y,p,v,g){return p===null||p.tag!==4||p.stateNode.containerInfo!==v.containerInfo||p.stateNode.implementation!==v.implementation?(p=Qd(v,y.mode,g),p.return=y,p):(p=s(p,v.children||[]),p.return=y,p)}function d(y,p,v,g,C){return p===null||p.tag!==7?(p=pi(v,y.mode,g,C),p.return=y,p):(p=s(p,v),p.return=y,p)}function h(y,p,v){if(typeof p=="string"&&p!==""||typeof p=="number")return p=Gd(""+p,y.mode,v),p.return=y,p;if(typeof p=="object"&&p!==null){switch(p.$$typeof){case fl:return v=tu(p.type,p.key,p.props,null,y.mode,v),v.ref=uo(y,null,p),v.return=y,v;case Ki:return p=Qd(p,y.mode,v),p.return=y,p;case fr:var g=p._init;return h(y,g(p._payload),v)}if(Io(p)||io(p))return p=pi(p,y.mode,v,null),p.return=y,p;_l(y,p)}return null}function f(y,p,v,g){var C=p!==null?p.key:null;if(typeof v=="string"&&v!==""||typeof v=="number")return C!==null?null:l(y,p,""+v,g);if(typeof v=="object"&&v!==null){switch(v.$$typeof){case fl:return v.key===C?u(y,p,v,g):null;case Ki:return v.key===C?c(y,p,v,g):null;case fr:return C=v._init,f(y,p,C(v._payload),g)}if(Io(v)||io(v))return C!==null?null:d(y,p,v,g,null);_l(y,v)}return null}function m(y,p,v,g,C){if(typeof g=="string"&&g!==""||typeof g=="number")return y=y.get(v)||null,l(p,y,""+g,C);if(typeof g=="object"&&g!==null){switch(g.$$typeof){case fl:return y=y.get(g.key===null?v:g.key)||null,u(p,y,g,C);case Ki:return y=y.get(g.key===null?v:g.key)||null,c(p,y,g,C);case fr:var b=g._init;return m(y,p,v,b(g._payload),C)}if(Io(g)||io(g))return y=y.get(v)||null,d(p,y,g,C,null);_l(p,g)}return null}function E(y,p,v,g){for(var C=null,b=null,R=p,$=p=0,G=null;R!==null&&$<v.length;$++){R.index>$?(G=R,R=null):G=R.sibling;var H=f(y,R,v[$],g);if(H===null){R===null&&(R=G);break}n&&R&&H.alternate===null&&t(y,R),p=o(H,p,$),b===null?C=H:b.sibling=H,b=H,R=G}if($===v.length)return r(y,R),ke&&Zr(y,$),C;if(R===null){for(;$<v.length;$++)R=h(y,v[$],g),R!==null&&(p=o(R,p,$),b===null?C=R:b.sibling=R,b=R);return ke&&Zr(y,$),C}for(R=i(y,R);$<v.length;$++)G=m(R,y,$,v[$],g),G!==null&&(n&&G.alternate!==null&&R.delete(G.key===null?$:G.key),p=o(G,p,$),b===null?C=G:b.sibling=G,b=G);return n&&R.forEach(function(Re){return t(y,Re)}),ke&&Zr(y,$),C}function S(y,p,v,g){var C=io(v);if(typeof C!="function")throw Error(x(150));if(v=C.call(v),v==null)throw Error(x(151));for(var b=C=null,R=p,$=p=0,G=null,H=v.next();R!==null&&!H.done;$++,H=v.next()){R.index>$?(G=R,R=null):G=R.sibling;var Re=f(y,R,H.value,g);if(Re===null){R===null&&(R=G);break}n&&R&&Re.alternate===null&&t(y,R),p=o(Re,p,$),b===null?C=Re:b.sibling=Re,b=Re,R=G}if(H.done)return r(y,R),ke&&Zr(y,$),C;if(R===null){for(;!H.done;$++,H=v.next())H=h(y,H.value,g),H!==null&&(p=o(H,p,$),b===null?C=H:b.sibling=H,b=H);return ke&&Zr(y,$),C}for(R=i(y,R);!H.done;$++,H=v.next())H=m(R,y,$,H.value,g),H!==null&&(n&&H.alternate!==null&&R.delete(H.key===null?$:H.key),p=o(H,p,$),b===null?C=H:b.sibling=H,b=H);return n&&R.forEach(function(fe){return t(y,fe)}),ke&&Zr(y,$),C}function I(y,p,v,g){if(typeof v=="object"&&v!==null&&v.type===Gi&&v.key===null&&(v=v.props.children),typeof v=="object"&&v!==null){switch(v.$$typeof){case fl:e:{for(var C=v.key,b=p;b!==null;){if(b.key===C){if(C=v.type,C===Gi){if(b.tag===7){r(y,b.sibling),p=s(b,v.props.children),p.return=y,y=p;break e}}else if(b.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===fr&&Vy(C)===b.type){r(y,b.sibling),p=s(b,v.props),p.ref=uo(y,b,v),p.return=y,y=p;break e}r(y,b);break}else t(y,b);b=b.sibling}v.type===Gi?(p=pi(v.props.children,y.mode,g,v.key),p.return=y,y=p):(g=tu(v.type,v.key,v.props,null,y.mode,g),g.ref=uo(y,p,v),g.return=y,y=g)}return a(y);case Ki:e:{for(b=v.key;p!==null;){if(p.key===b)if(p.tag===4&&p.stateNode.containerInfo===v.containerInfo&&p.stateNode.implementation===v.implementation){r(y,p.sibling),p=s(p,v.children||[]),p.return=y,y=p;break e}else{r(y,p);break}else t(y,p);p=p.sibling}p=Qd(v,y.mode,g),p.return=y,y=p}return a(y);case fr:return b=v._init,I(y,p,b(v._payload),g)}if(Io(v))return E(y,p,v,g);if(io(v))return S(y,p,v,g);_l(y,v)}return typeof v=="string"&&v!==""||typeof v=="number"?(v=""+v,p!==null&&p.tag===6?(r(y,p.sibling),p=s(p,v),p.return=y,y=p):(r(y,p),p=Gd(v,y.mode,g),p.return=y,y=p),a(y)):r(y,p)}return I}var Cs=L1(!0),F1=L1(!1),Ma={},xn=Gr(Ma),la=Gr(Ma),ua=Gr(Ma);function si(n){if(n===Ma)throw Error(x(174));return n}function Zp(n,t){switch(we(ua,t),we(la,n),we(xn,Ma),n=t.nodeType,n){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:zh(null,"");break;default:n=n===8?t.parentNode:t,t=n.namespaceURI||null,n=n.tagName,t=zh(t,n)}_e(xn),we(xn,t)}function ks(){_e(xn),_e(la),_e(ua)}function U1(n){si(ua.current);var t=si(xn.current),r=zh(t,n.type);t!==r&&(we(la,n),we(xn,r))}function em(n){la.current===n&&(_e(xn),_e(la))}var be=Gr(0);function Au(n){for(var t=n;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===n)break;for(;t.sibling===null;){if(t.return===null||t.return===n)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var zd=[];function tm(){for(var n=0;n<zd.length;n++)zd[n]._workInProgressVersionPrimary=null;zd.length=0}var Yl=or.ReactCurrentDispatcher,Bd=or.ReactCurrentBatchConfig,Si=0,De=null,Ke=null,Xe=null,Ru=!1,Fo=!1,ca=0,gA=0;function ht(){throw Error(x(321))}function nm(n,t){if(t===null)return!1;for(var r=0;r<t.length&&r<n.length;r++)if(!gn(n[r],t[r]))return!1;return!0}function rm(n,t,r,i,s,o){if(Si=o,De=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Yl.current=n===null||n.memoizedState===null?EA:SA,n=r(i,s),Fo){o=0;do{if(Fo=!1,ca=0,25<=o)throw Error(x(301));o+=1,Xe=Ke=null,t.updateQueue=null,Yl.current=IA,n=r(i,s)}while(Fo)}if(Yl.current=xu,t=Ke!==null&&Ke.next!==null,Si=0,Xe=Ke=De=null,Ru=!1,t)throw Error(x(300));return n}function im(){var n=ca!==0;return ca=0,n}function _n(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Xe===null?De.memoizedState=Xe=n:Xe=Xe.next=n,Xe}function on(){if(Ke===null){var n=De.alternate;n=n!==null?n.memoizedState:null}else n=Ke.next;var t=Xe===null?De.memoizedState:Xe.next;if(t!==null)Xe=t,Ke=n;else{if(n===null)throw Error(x(310));Ke=n,n={memoizedState:Ke.memoizedState,baseState:Ke.baseState,baseQueue:Ke.baseQueue,queue:Ke.queue,next:null},Xe===null?De.memoizedState=Xe=n:Xe=Xe.next=n}return Xe}function da(n,t){return typeof t=="function"?t(n):t}function Hd(n){var t=on(),r=t.queue;if(r===null)throw Error(x(311));r.lastRenderedReducer=n;var i=Ke,s=i.baseQueue,o=r.pending;if(o!==null){if(s!==null){var a=s.next;s.next=o.next,o.next=a}i.baseQueue=s=o,r.pending=null}if(s!==null){o=s.next,i=i.baseState;var l=a=null,u=null,c=o;do{var d=c.lane;if((Si&d)===d)u!==null&&(u=u.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),i=c.hasEagerState?c.eagerState:n(i,c.action);else{var h={lane:d,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};u===null?(l=u=h,a=i):u=u.next=h,De.lanes|=d,Ii|=d}c=c.next}while(c!==null&&c!==o);u===null?a=i:u.next=l,gn(i,t.memoizedState)||(Pt=!0),t.memoizedState=i,t.baseState=a,t.baseQueue=u,r.lastRenderedState=i}if(n=r.interleaved,n!==null){s=n;do o=s.lane,De.lanes|=o,Ii|=o,s=s.next;while(s!==n)}else s===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function Wd(n){var t=on(),r=t.queue;if(r===null)throw Error(x(311));r.lastRenderedReducer=n;var i=r.dispatch,s=r.pending,o=t.memoizedState;if(s!==null){r.pending=null;var a=s=s.next;do o=n(o,a.action),a=a.next;while(a!==s);gn(o,t.memoizedState)||(Pt=!0),t.memoizedState=o,t.baseQueue===null&&(t.baseState=o),r.lastRenderedState=o}return[o,i]}function V1(){}function j1(n,t){var r=De,i=on(),s=t(),o=!gn(i.memoizedState,s);if(o&&(i.memoizedState=s,Pt=!0),i=i.queue,sm(H1.bind(null,r,i,n),[n]),i.getSnapshot!==t||o||Xe!==null&&Xe.memoizedState.tag&1){if(r.flags|=2048,ha(9,B1.bind(null,r,i,s,t),void 0,null),Je===null)throw Error(x(349));Si&30||z1(r,t,s)}return s}function z1(n,t,r){n.flags|=16384,n={getSnapshot:t,value:r},t=De.updateQueue,t===null?(t={lastEffect:null,stores:null},De.updateQueue=t,t.stores=[n]):(r=t.stores,r===null?t.stores=[n]:r.push(n))}function B1(n,t,r,i){t.value=r,t.getSnapshot=i,W1(t)&&q1(n)}function H1(n,t,r){return r(function(){W1(t)&&q1(n)})}function W1(n){var t=n.getSnapshot;n=n.value;try{var r=t();return!gn(n,r)}catch{return!0}}function q1(n){var t=Zn(n,1);t!==null&&mn(t,n,1,-1)}function jy(n){var t=_n();return typeof n=="function"&&(n=n()),t.memoizedState=t.baseState=n,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:da,lastRenderedState:n},t.queue=n,n=n.dispatch=wA.bind(null,De,n),[t.memoizedState,n]}function ha(n,t,r,i){return n={tag:n,create:t,destroy:r,deps:i,next:null},t=De.updateQueue,t===null?(t={lastEffect:null,stores:null},De.updateQueue=t,t.lastEffect=n.next=n):(r=t.lastEffect,r===null?t.lastEffect=n.next=n:(i=r.next,r.next=n,n.next=i,t.lastEffect=n)),n}function K1(){return on().memoizedState}function Xl(n,t,r,i){var s=_n();De.flags|=n,s.memoizedState=ha(1|t,r,void 0,i===void 0?null:i)}function Sc(n,t,r,i){var s=on();i=i===void 0?null:i;var o=void 0;if(Ke!==null){var a=Ke.memoizedState;if(o=a.destroy,i!==null&&nm(i,a.deps)){s.memoizedState=ha(t,r,o,i);return}}De.flags|=n,s.memoizedState=ha(1|t,r,o,i)}function zy(n,t){return Xl(8390656,8,n,t)}function sm(n,t){return Sc(2048,8,n,t)}function G1(n,t){return Sc(4,2,n,t)}function Q1(n,t){return Sc(4,4,n,t)}function Y1(n,t){if(typeof t=="function")return n=n(),t(n),function(){t(null)};if(t!=null)return n=n(),t.current=n,function(){t.current=null}}function X1(n,t,r){return r=r!=null?r.concat([n]):null,Sc(4,4,Y1.bind(null,t,n),r)}function om(){}function J1(n,t){var r=on();t=t===void 0?null:t;var i=r.memoizedState;return i!==null&&t!==null&&nm(t,i[1])?i[0]:(r.memoizedState=[n,t],n)}function Z1(n,t){var r=on();t=t===void 0?null:t;var i=r.memoizedState;return i!==null&&t!==null&&nm(t,i[1])?i[0]:(n=n(),r.memoizedState=[n,t],n)}function eE(n,t,r){return Si&21?(gn(r,t)||(r=r1(),De.lanes|=r,Ii|=r,n.baseState=!0),t):(n.baseState&&(n.baseState=!1,Pt=!0),n.memoizedState=r)}function yA(n,t){var r=pe;pe=r!==0&&4>r?r:4,n(!0);var i=Bd.transition;Bd.transition={};try{n(!1),t()}finally{pe=r,Bd.transition=i}}function tE(){return on().memoizedState}function vA(n,t,r){var i=Dr(n);if(r={lane:i,action:r,hasEagerState:!1,eagerState:null,next:null},nE(n))rE(t,r);else if(r=P1(n,t,r,i),r!==null){var s=Rt();mn(r,n,i,s),iE(r,t,i)}}function wA(n,t,r){var i=Dr(n),s={lane:i,action:r,hasEagerState:!1,eagerState:null,next:null};if(nE(n))rE(t,s);else{var o=n.alternate;if(n.lanes===0&&(o===null||o.lanes===0)&&(o=t.lastRenderedReducer,o!==null))try{var a=t.lastRenderedState,l=o(a,r);if(s.hasEagerState=!0,s.eagerState=l,gn(l,a)){var u=t.interleaved;u===null?(s.next=s,Xp(t)):(s.next=u.next,u.next=s),t.interleaved=s;return}}catch{}finally{}r=P1(n,t,s,i),r!==null&&(s=Rt(),mn(r,n,i,s),iE(r,t,i))}}function nE(n){var t=n.alternate;return n===De||t!==null&&t===De}function rE(n,t){Fo=Ru=!0;var r=n.pending;r===null?t.next=t:(t.next=r.next,r.next=t),n.pending=t}function iE(n,t,r){if(r&4194240){var i=t.lanes;i&=n.pendingLanes,r|=i,t.lanes=r,Lp(n,r)}}var xu={readContext:sn,useCallback:ht,useContext:ht,useEffect:ht,useImperativeHandle:ht,useInsertionEffect:ht,useLayoutEffect:ht,useMemo:ht,useReducer:ht,useRef:ht,useState:ht,useDebugValue:ht,useDeferredValue:ht,useTransition:ht,useMutableSource:ht,useSyncExternalStore:ht,useId:ht,unstable_isNewReconciler:!1},EA={readContext:sn,useCallback:function(n,t){return _n().memoizedState=[n,t===void 0?null:t],n},useContext:sn,useEffect:zy,useImperativeHandle:function(n,t,r){return r=r!=null?r.concat([n]):null,Xl(4194308,4,Y1.bind(null,t,n),r)},useLayoutEffect:function(n,t){return Xl(4194308,4,n,t)},useInsertionEffect:function(n,t){return Xl(4,2,n,t)},useMemo:function(n,t){var r=_n();return t=t===void 0?null:t,n=n(),r.memoizedState=[n,t],n},useReducer:function(n,t,r){var i=_n();return t=r!==void 0?r(t):t,i.memoizedState=i.baseState=t,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:t},i.queue=n,n=n.dispatch=vA.bind(null,De,n),[i.memoizedState,n]},useRef:function(n){var t=_n();return n={current:n},t.memoizedState=n},useState:jy,useDebugValue:om,useDeferredValue:function(n){return _n().memoizedState=n},useTransition:function(){var n=jy(!1),t=n[0];return n=yA.bind(null,n[1]),_n().memoizedState=n,[t,n]},useMutableSource:function(){},useSyncExternalStore:function(n,t,r){var i=De,s=_n();if(ke){if(r===void 0)throw Error(x(407));r=r()}else{if(r=t(),Je===null)throw Error(x(349));Si&30||z1(i,t,r)}s.memoizedState=r;var o={value:r,getSnapshot:t};return s.queue=o,zy(H1.bind(null,i,o,n),[n]),i.flags|=2048,ha(9,B1.bind(null,i,o,r,t),void 0,null),r},useId:function(){var n=_n(),t=Je.identifierPrefix;if(ke){var r=Bn,i=zn;r=(i&~(1<<32-pn(i)-1)).toString(32)+r,t=":"+t+"R"+r,r=ca++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=gA++,t=":"+t+"r"+r.toString(32)+":";return n.memoizedState=t},unstable_isNewReconciler:!1},SA={readContext:sn,useCallback:J1,useContext:sn,useEffect:sm,useImperativeHandle:X1,useInsertionEffect:G1,useLayoutEffect:Q1,useMemo:Z1,useReducer:Hd,useRef:K1,useState:function(){return Hd(da)},useDebugValue:om,useDeferredValue:function(n){var t=on();return eE(t,Ke.memoizedState,n)},useTransition:function(){var n=Hd(da)[0],t=on().memoizedState;return[n,t]},useMutableSource:V1,useSyncExternalStore:j1,useId:tE,unstable_isNewReconciler:!1},IA={readContext:sn,useCallback:J1,useContext:sn,useEffect:sm,useImperativeHandle:X1,useInsertionEffect:G1,useLayoutEffect:Q1,useMemo:Z1,useReducer:Wd,useRef:K1,useState:function(){return Wd(da)},useDebugValue:om,useDeferredValue:function(n){var t=on();return Ke===null?t.memoizedState=n:eE(t,Ke.memoizedState,n)},useTransition:function(){var n=Wd(da)[0],t=on().memoizedState;return[n,t]},useMutableSource:V1,useSyncExternalStore:j1,useId:tE,unstable_isNewReconciler:!1};function As(n,t){try{var r="",i=t;do r+=YC(i),i=i.return;while(i);var s=r}catch(o){s=`
Error generating stack: `+o.message+`
`+o.stack}return{value:n,source:t,stack:s,digest:null}}function qd(n,t,r){return{value:n,source:null,stack:r??null,digest:t??null}}function hf(n,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var TA=typeof WeakMap=="function"?WeakMap:Map;function sE(n,t,r){r=Gn(-1,r),r.tag=3,r.payload={element:null};var i=t.value;return r.callback=function(){bu||(bu=!0,If=i),hf(n,t)},r}function oE(n,t,r){r=Gn(-1,r),r.tag=3;var i=n.type.getDerivedStateFromError;if(typeof i=="function"){var s=t.value;r.payload=function(){return i(s)},r.callback=function(){hf(n,t)}}var o=n.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(r.callback=function(){hf(n,t),typeof i!="function"&&(br===null?br=new Set([this]):br.add(this));var a=t.stack;this.componentDidCatch(t.value,{componentStack:a!==null?a:""})}),r}function By(n,t,r){var i=n.pingCache;if(i===null){i=n.pingCache=new TA;var s=new Set;i.set(t,s)}else s=i.get(t),s===void 0&&(s=new Set,i.set(t,s));s.has(r)||(s.add(r),n=LA.bind(null,n,t,r),t.then(n,n))}function Hy(n){do{var t;if((t=n.tag===13)&&(t=n.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return n;n=n.return}while(n!==null);return null}function Wy(n,t,r,i,s){return n.mode&1?(n.flags|=65536,n.lanes=s,n):(n===t?n.flags|=65536:(n.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=Gn(-1,1),t.tag=2,Nr(r,t,1))),r.lanes|=1),n)}var _A=or.ReactCurrentOwner,Pt=!1;function kt(n,t,r,i){t.child=n===null?F1(t,null,r,i):Cs(t,n.child,r,i)}function qy(n,t,r,i,s){r=r.render;var o=t.ref;return fs(t,s),i=rm(n,t,r,i,o,s),r=im(),n!==null&&!Pt?(t.updateQueue=n.updateQueue,t.flags&=-2053,n.lanes&=~s,er(n,t,s)):(ke&&r&&Wp(t),t.flags|=1,kt(n,t,i,s),t.child)}function Ky(n,t,r,i,s){if(n===null){var o=r.type;return typeof o=="function"&&!pm(o)&&o.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=o,aE(n,t,o,i,s)):(n=tu(r.type,null,i,t,t.mode,s),n.ref=t.ref,n.return=t,t.child=n)}if(o=n.child,!(n.lanes&s)){var a=o.memoizedProps;if(r=r.compare,r=r!==null?r:ia,r(a,i)&&n.ref===t.ref)return er(n,t,s)}return t.flags|=1,n=Pr(o,i),n.ref=t.ref,n.return=t,t.child=n}function aE(n,t,r,i,s){if(n!==null){var o=n.memoizedProps;if(ia(o,i)&&n.ref===t.ref)if(Pt=!1,t.pendingProps=i=o,(n.lanes&s)!==0)n.flags&131072&&(Pt=!0);else return t.lanes=n.lanes,er(n,t,s)}return ff(n,t,r,i,s)}function lE(n,t,r){var i=t.pendingProps,s=i.children,o=n!==null?n.memoizedState:null;if(i.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},we(is,Ut),Ut|=r;else{if(!(r&1073741824))return n=o!==null?o.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:n,cachePool:null,transitions:null},t.updateQueue=null,we(is,Ut),Ut|=n,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},i=o!==null?o.baseLanes:r,we(is,Ut),Ut|=i}else o!==null?(i=o.baseLanes|r,t.memoizedState=null):i=r,we(is,Ut),Ut|=i;return kt(n,t,s,r),t.child}function uE(n,t){var r=t.ref;(n===null&&r!==null||n!==null&&n.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function ff(n,t,r,i,s){var o=Ot(r)?wi:It.current;return o=Ts(t,o),fs(t,s),r=rm(n,t,r,i,o,s),i=im(),n!==null&&!Pt?(t.updateQueue=n.updateQueue,t.flags&=-2053,n.lanes&=~s,er(n,t,s)):(ke&&i&&Wp(t),t.flags|=1,kt(n,t,r,s),t.child)}function Gy(n,t,r,i,s){if(Ot(r)){var o=!0;Su(t)}else o=!1;if(fs(t,s),t.stateNode===null)Jl(n,t),M1(t,r,i),df(t,r,i,s),i=!0;else if(n===null){var a=t.stateNode,l=t.memoizedProps;a.props=l;var u=a.context,c=r.contextType;typeof c=="object"&&c!==null?c=sn(c):(c=Ot(r)?wi:It.current,c=Ts(t,c));var d=r.getDerivedStateFromProps,h=typeof d=="function"||typeof a.getSnapshotBeforeUpdate=="function";h||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(l!==i||u!==c)&&Uy(t,a,i,c),pr=!1;var f=t.memoizedState;a.state=f,ku(t,i,a,s),u=t.memoizedState,l!==i||f!==u||$t.current||pr?(typeof d=="function"&&(cf(t,r,d,i),u=t.memoizedState),(l=pr||Fy(t,r,l,i,f,u,c))?(h||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(t.flags|=4194308)):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=i,t.memoizedState=u),a.props=i,a.state=u,a.context=c,i=l):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),i=!1)}else{a=t.stateNode,$1(n,t),l=t.memoizedProps,c=t.type===t.elementType?l:cn(t.type,l),a.props=c,h=t.pendingProps,f=a.context,u=r.contextType,typeof u=="object"&&u!==null?u=sn(u):(u=Ot(r)?wi:It.current,u=Ts(t,u));var m=r.getDerivedStateFromProps;(d=typeof m=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(l!==h||f!==u)&&Uy(t,a,i,u),pr=!1,f=t.memoizedState,a.state=f,ku(t,i,a,s);var E=t.memoizedState;l!==h||f!==E||$t.current||pr?(typeof m=="function"&&(cf(t,r,m,i),E=t.memoizedState),(c=pr||Fy(t,r,c,i,f,E,u)||!1)?(d||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(i,E,u),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(i,E,u)),typeof a.componentDidUpdate=="function"&&(t.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof a.componentDidUpdate!="function"||l===n.memoizedProps&&f===n.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||l===n.memoizedProps&&f===n.memoizedState||(t.flags|=1024),t.memoizedProps=i,t.memoizedState=E),a.props=i,a.state=E,a.context=u,i=c):(typeof a.componentDidUpdate!="function"||l===n.memoizedProps&&f===n.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||l===n.memoizedProps&&f===n.memoizedState||(t.flags|=1024),i=!1)}return pf(n,t,r,i,o,s)}function pf(n,t,r,i,s,o){uE(n,t);var a=(t.flags&128)!==0;if(!i&&!a)return s&&Py(t,r,!1),er(n,t,o);i=t.stateNode,_A.current=t;var l=a&&typeof r.getDerivedStateFromError!="function"?null:i.render();return t.flags|=1,n!==null&&a?(t.child=Cs(t,n.child,null,o),t.child=Cs(t,null,l,o)):kt(n,t,l,o),t.memoizedState=i.state,s&&Py(t,r,!0),t.child}function cE(n){var t=n.stateNode;t.pendingContext?Dy(n,t.pendingContext,t.pendingContext!==t.context):t.context&&Dy(n,t.context,!1),Zp(n,t.containerInfo)}function Qy(n,t,r,i,s){return _s(),Kp(s),t.flags|=256,kt(n,t,r,i),t.child}var mf={dehydrated:null,treeContext:null,retryLane:0};function gf(n){return{baseLanes:n,cachePool:null,transitions:null}}function dE(n,t,r){var i=t.pendingProps,s=be.current,o=!1,a=(t.flags&128)!==0,l;if((l=a)||(l=n!==null&&n.memoizedState===null?!1:(s&2)!==0),l?(o=!0,t.flags&=-129):(n===null||n.memoizedState!==null)&&(s|=1),we(be,s&1),n===null)return lf(t),n=t.memoizedState,n!==null&&(n=n.dehydrated,n!==null)?(t.mode&1?n.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(a=i.children,n=i.fallback,o?(i=t.mode,o=t.child,a={mode:"hidden",children:a},!(i&1)&&o!==null?(o.childLanes=0,o.pendingProps=a):o=_c(a,i,0,null),n=pi(n,i,r,null),o.return=t,n.return=t,o.sibling=n,t.child=o,t.child.memoizedState=gf(r),t.memoizedState=mf,n):am(t,a));if(s=n.memoizedState,s!==null&&(l=s.dehydrated,l!==null))return CA(n,t,a,i,l,s,r);if(o){o=i.fallback,a=t.mode,s=n.child,l=s.sibling;var u={mode:"hidden",children:i.children};return!(a&1)&&t.child!==s?(i=t.child,i.childLanes=0,i.pendingProps=u,t.deletions=null):(i=Pr(s,u),i.subtreeFlags=s.subtreeFlags&14680064),l!==null?o=Pr(l,o):(o=pi(o,a,r,null),o.flags|=2),o.return=t,i.return=t,i.sibling=o,t.child=i,i=o,o=t.child,a=n.child.memoizedState,a=a===null?gf(r):{baseLanes:a.baseLanes|r,cachePool:null,transitions:a.transitions},o.memoizedState=a,o.childLanes=n.childLanes&~r,t.memoizedState=mf,i}return o=n.child,n=o.sibling,i=Pr(o,{mode:"visible",children:i.children}),!(t.mode&1)&&(i.lanes=r),i.return=t,i.sibling=null,n!==null&&(r=t.deletions,r===null?(t.deletions=[n],t.flags|=16):r.push(n)),t.child=i,t.memoizedState=null,i}function am(n,t){return t=_c({mode:"visible",children:t},n.mode,0,null),t.return=n,n.child=t}function Cl(n,t,r,i){return i!==null&&Kp(i),Cs(t,n.child,null,r),n=am(t,t.pendingProps.children),n.flags|=2,t.memoizedState=null,n}function CA(n,t,r,i,s,o,a){if(r)return t.flags&256?(t.flags&=-257,i=qd(Error(x(422))),Cl(n,t,a,i)):t.memoizedState!==null?(t.child=n.child,t.flags|=128,null):(o=i.fallback,s=t.mode,i=_c({mode:"visible",children:i.children},s,0,null),o=pi(o,s,a,null),o.flags|=2,i.return=t,o.return=t,i.sibling=o,t.child=i,t.mode&1&&Cs(t,n.child,null,a),t.child.memoizedState=gf(a),t.memoizedState=mf,o);if(!(t.mode&1))return Cl(n,t,a,null);if(s.data==="$!"){if(i=s.nextSibling&&s.nextSibling.dataset,i)var l=i.dgst;return i=l,o=Error(x(419)),i=qd(o,i,void 0),Cl(n,t,a,i)}if(l=(a&n.childLanes)!==0,Pt||l){if(i=Je,i!==null){switch(a&-a){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(i.suspendedLanes|a)?0:s,s!==0&&s!==o.retryLane&&(o.retryLane=s,Zn(n,s),mn(i,n,s,-1))}return fm(),i=qd(Error(x(421))),Cl(n,t,a,i)}return s.data==="$?"?(t.flags|=128,t.child=n.child,t=FA.bind(null,n),s._reactRetry=t,null):(n=o.treeContext,Vt=xr(s.nextSibling),jt=t,ke=!0,fn=null,n!==null&&(Qt[Yt++]=zn,Qt[Yt++]=Bn,Qt[Yt++]=Ei,zn=n.id,Bn=n.overflow,Ei=t),t=am(t,i.children),t.flags|=4096,t)}function Yy(n,t,r){n.lanes|=t;var i=n.alternate;i!==null&&(i.lanes|=t),uf(n.return,t,r)}function Kd(n,t,r,i,s){var o=n.memoizedState;o===null?n.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:i,tail:r,tailMode:s}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=i,o.tail=r,o.tailMode=s)}function hE(n,t,r){var i=t.pendingProps,s=i.revealOrder,o=i.tail;if(kt(n,t,i.children,r),i=be.current,i&2)i=i&1|2,t.flags|=128;else{if(n!==null&&n.flags&128)e:for(n=t.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&Yy(n,r,t);else if(n.tag===19)Yy(n,r,t);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break e;for(;n.sibling===null;){if(n.return===null||n.return===t)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}i&=1}if(we(be,i),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(r=t.child,s=null;r!==null;)n=r.alternate,n!==null&&Au(n)===null&&(s=r),r=r.sibling;r=s,r===null?(s=t.child,t.child=null):(s=r.sibling,r.sibling=null),Kd(t,!1,s,r,o);break;case"backwards":for(r=null,s=t.child,t.child=null;s!==null;){if(n=s.alternate,n!==null&&Au(n)===null){t.child=s;break}n=s.sibling,s.sibling=r,r=s,s=n}Kd(t,!0,r,null,o);break;case"together":Kd(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Jl(n,t){!(t.mode&1)&&n!==null&&(n.alternate=null,t.alternate=null,t.flags|=2)}function er(n,t,r){if(n!==null&&(t.dependencies=n.dependencies),Ii|=t.lanes,!(r&t.childLanes))return null;if(n!==null&&t.child!==n.child)throw Error(x(153));if(t.child!==null){for(n=t.child,r=Pr(n,n.pendingProps),t.child=r,r.return=t;n.sibling!==null;)n=n.sibling,r=r.sibling=Pr(n,n.pendingProps),r.return=t;r.sibling=null}return t.child}function kA(n,t,r){switch(t.tag){case 3:cE(t),_s();break;case 5:U1(t);break;case 1:Ot(t.type)&&Su(t);break;case 4:Zp(t,t.stateNode.containerInfo);break;case 10:var i=t.type._context,s=t.memoizedProps.value;we(_u,i._currentValue),i._currentValue=s;break;case 13:if(i=t.memoizedState,i!==null)return i.dehydrated!==null?(we(be,be.current&1),t.flags|=128,null):r&t.child.childLanes?dE(n,t,r):(we(be,be.current&1),n=er(n,t,r),n!==null?n.sibling:null);we(be,be.current&1);break;case 19:if(i=(r&t.childLanes)!==0,n.flags&128){if(i)return hE(n,t,r);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),we(be,be.current),i)break;return null;case 22:case 23:return t.lanes=0,lE(n,t,r)}return er(n,t,r)}var fE,yf,pE,mE;fE=function(n,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)n.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};yf=function(){};pE=function(n,t,r,i){var s=n.memoizedProps;if(s!==i){n=t.stateNode,si(xn.current);var o=null;switch(r){case"input":s=Fh(n,s),i=Fh(n,i),o=[];break;case"select":s=Pe({},s,{value:void 0}),i=Pe({},i,{value:void 0}),o=[];break;case"textarea":s=jh(n,s),i=jh(n,i),o=[];break;default:typeof s.onClick!="function"&&typeof i.onClick=="function"&&(n.onclick=wu)}Bh(r,i);var a;r=null;for(c in s)if(!i.hasOwnProperty(c)&&s.hasOwnProperty(c)&&s[c]!=null)if(c==="style"){var l=s[c];for(a in l)l.hasOwnProperty(a)&&(r||(r={}),r[a]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(Xo.hasOwnProperty(c)?o||(o=[]):(o=o||[]).push(c,null));for(c in i){var u=i[c];if(l=s!=null?s[c]:void 0,i.hasOwnProperty(c)&&u!==l&&(u!=null||l!=null))if(c==="style")if(l){for(a in l)!l.hasOwnProperty(a)||u&&u.hasOwnProperty(a)||(r||(r={}),r[a]="");for(a in u)u.hasOwnProperty(a)&&l[a]!==u[a]&&(r||(r={}),r[a]=u[a])}else r||(o||(o=[]),o.push(c,r)),r=u;else c==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,l=l?l.__html:void 0,u!=null&&l!==u&&(o=o||[]).push(c,u)):c==="children"?typeof u!="string"&&typeof u!="number"||(o=o||[]).push(c,""+u):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(Xo.hasOwnProperty(c)?(u!=null&&c==="onScroll"&&Ie("scroll",n),o||l===u||(o=[])):(o=o||[]).push(c,u))}r&&(o=o||[]).push("style",r);var c=o;(t.updateQueue=c)&&(t.flags|=4)}};mE=function(n,t,r,i){r!==i&&(t.flags|=4)};function co(n,t){if(!ke)switch(n.tailMode){case"hidden":t=n.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?n.tail=null:r.sibling=null;break;case"collapsed":r=n.tail;for(var i=null;r!==null;)r.alternate!==null&&(i=r),r=r.sibling;i===null?t||n.tail===null?n.tail=null:n.tail.sibling=null:i.sibling=null}}function ft(n){var t=n.alternate!==null&&n.alternate.child===n.child,r=0,i=0;if(t)for(var s=n.child;s!==null;)r|=s.lanes|s.childLanes,i|=s.subtreeFlags&14680064,i|=s.flags&14680064,s.return=n,s=s.sibling;else for(s=n.child;s!==null;)r|=s.lanes|s.childLanes,i|=s.subtreeFlags,i|=s.flags,s.return=n,s=s.sibling;return n.subtreeFlags|=i,n.childLanes=r,t}function AA(n,t,r){var i=t.pendingProps;switch(qp(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ft(t),null;case 1:return Ot(t.type)&&Eu(),ft(t),null;case 3:return i=t.stateNode,ks(),_e($t),_e(It),tm(),i.pendingContext&&(i.context=i.pendingContext,i.pendingContext=null),(n===null||n.child===null)&&(Tl(t)?t.flags|=4:n===null||n.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,fn!==null&&(Cf(fn),fn=null))),yf(n,t),ft(t),null;case 5:em(t);var s=si(ua.current);if(r=t.type,n!==null&&t.stateNode!=null)pE(n,t,r,i,s),n.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!i){if(t.stateNode===null)throw Error(x(166));return ft(t),null}if(n=si(xn.current),Tl(t)){i=t.stateNode,r=t.type;var o=t.memoizedProps;switch(i[Cn]=t,i[aa]=o,n=(t.mode&1)!==0,r){case"dialog":Ie("cancel",i),Ie("close",i);break;case"iframe":case"object":case"embed":Ie("load",i);break;case"video":case"audio":for(s=0;s<_o.length;s++)Ie(_o[s],i);break;case"source":Ie("error",i);break;case"img":case"image":case"link":Ie("error",i),Ie("load",i);break;case"details":Ie("toggle",i);break;case"input":sy(i,o),Ie("invalid",i);break;case"select":i._wrapperState={wasMultiple:!!o.multiple},Ie("invalid",i);break;case"textarea":ay(i,o),Ie("invalid",i)}Bh(r,o),s=null;for(var a in o)if(o.hasOwnProperty(a)){var l=o[a];a==="children"?typeof l=="string"?i.textContent!==l&&(o.suppressHydrationWarning!==!0&&Il(i.textContent,l,n),s=["children",l]):typeof l=="number"&&i.textContent!==""+l&&(o.suppressHydrationWarning!==!0&&Il(i.textContent,l,n),s=["children",""+l]):Xo.hasOwnProperty(a)&&l!=null&&a==="onScroll"&&Ie("scroll",i)}switch(r){case"input":pl(i),oy(i,o,!0);break;case"textarea":pl(i),ly(i);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(i.onclick=wu)}i=s,t.updateQueue=i,i!==null&&(t.flags|=4)}else{a=s.nodeType===9?s:s.ownerDocument,n==="http://www.w3.org/1999/xhtml"&&(n=zw(r)),n==="http://www.w3.org/1999/xhtml"?r==="script"?(n=a.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild)):typeof i.is=="string"?n=a.createElement(r,{is:i.is}):(n=a.createElement(r),r==="select"&&(a=n,i.multiple?a.multiple=!0:i.size&&(a.size=i.size))):n=a.createElementNS(n,r),n[Cn]=t,n[aa]=i,fE(n,t,!1,!1),t.stateNode=n;e:{switch(a=Hh(r,i),r){case"dialog":Ie("cancel",n),Ie("close",n),s=i;break;case"iframe":case"object":case"embed":Ie("load",n),s=i;break;case"video":case"audio":for(s=0;s<_o.length;s++)Ie(_o[s],n);s=i;break;case"source":Ie("error",n),s=i;break;case"img":case"image":case"link":Ie("error",n),Ie("load",n),s=i;break;case"details":Ie("toggle",n),s=i;break;case"input":sy(n,i),s=Fh(n,i),Ie("invalid",n);break;case"option":s=i;break;case"select":n._wrapperState={wasMultiple:!!i.multiple},s=Pe({},i,{value:void 0}),Ie("invalid",n);break;case"textarea":ay(n,i),s=jh(n,i),Ie("invalid",n);break;default:s=i}Bh(r,s),l=s;for(o in l)if(l.hasOwnProperty(o)){var u=l[o];o==="style"?Ww(n,u):o==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,u!=null&&Bw(n,u)):o==="children"?typeof u=="string"?(r!=="textarea"||u!=="")&&Jo(n,u):typeof u=="number"&&Jo(n,""+u):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(Xo.hasOwnProperty(o)?u!=null&&o==="onScroll"&&Ie("scroll",n):u!=null&&bp(n,o,u,a))}switch(r){case"input":pl(n),oy(n,i,!1);break;case"textarea":pl(n),ly(n);break;case"option":i.value!=null&&n.setAttribute("value",""+Vr(i.value));break;case"select":n.multiple=!!i.multiple,o=i.value,o!=null?us(n,!!i.multiple,o,!1):i.defaultValue!=null&&us(n,!!i.multiple,i.defaultValue,!0);break;default:typeof s.onClick=="function"&&(n.onclick=wu)}switch(r){case"button":case"input":case"select":case"textarea":i=!!i.autoFocus;break e;case"img":i=!0;break e;default:i=!1}}i&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return ft(t),null;case 6:if(n&&t.stateNode!=null)mE(n,t,n.memoizedProps,i);else{if(typeof i!="string"&&t.stateNode===null)throw Error(x(166));if(r=si(ua.current),si(xn.current),Tl(t)){if(i=t.stateNode,r=t.memoizedProps,i[Cn]=t,(o=i.nodeValue!==r)&&(n=jt,n!==null))switch(n.tag){case 3:Il(i.nodeValue,r,(n.mode&1)!==0);break;case 5:n.memoizedProps.suppressHydrationWarning!==!0&&Il(i.nodeValue,r,(n.mode&1)!==0)}o&&(t.flags|=4)}else i=(r.nodeType===9?r:r.ownerDocument).createTextNode(i),i[Cn]=t,t.stateNode=i}return ft(t),null;case 13:if(_e(be),i=t.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(ke&&Vt!==null&&t.mode&1&&!(t.flags&128))D1(),_s(),t.flags|=98560,o=!1;else if(o=Tl(t),i!==null&&i.dehydrated!==null){if(n===null){if(!o)throw Error(x(318));if(o=t.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(x(317));o[Cn]=t}else _s(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;ft(t),o=!1}else fn!==null&&(Cf(fn),fn=null),o=!0;if(!o)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(i=i!==null,i!==(n!==null&&n.memoizedState!==null)&&i&&(t.child.flags|=8192,t.mode&1&&(n===null||be.current&1?Ge===0&&(Ge=3):fm())),t.updateQueue!==null&&(t.flags|=4),ft(t),null);case 4:return ks(),yf(n,t),n===null&&sa(t.stateNode.containerInfo),ft(t),null;case 10:return Yp(t.type._context),ft(t),null;case 17:return Ot(t.type)&&Eu(),ft(t),null;case 19:if(_e(be),o=t.memoizedState,o===null)return ft(t),null;if(i=(t.flags&128)!==0,a=o.rendering,a===null)if(i)co(o,!1);else{if(Ge!==0||n!==null&&n.flags&128)for(n=t.child;n!==null;){if(a=Au(n),a!==null){for(t.flags|=128,co(o,!1),i=a.updateQueue,i!==null&&(t.updateQueue=i,t.flags|=4),t.subtreeFlags=0,i=r,r=t.child;r!==null;)o=r,n=i,o.flags&=14680066,a=o.alternate,a===null?(o.childLanes=0,o.lanes=n,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=a.childLanes,o.lanes=a.lanes,o.child=a.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=a.memoizedProps,o.memoizedState=a.memoizedState,o.updateQueue=a.updateQueue,o.type=a.type,n=a.dependencies,o.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),r=r.sibling;return we(be,be.current&1|2),t.child}n=n.sibling}o.tail!==null&&Ue()>Rs&&(t.flags|=128,i=!0,co(o,!1),t.lanes=4194304)}else{if(!i)if(n=Au(a),n!==null){if(t.flags|=128,i=!0,r=n.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),co(o,!0),o.tail===null&&o.tailMode==="hidden"&&!a.alternate&&!ke)return ft(t),null}else 2*Ue()-o.renderingStartTime>Rs&&r!==1073741824&&(t.flags|=128,i=!0,co(o,!1),t.lanes=4194304);o.isBackwards?(a.sibling=t.child,t.child=a):(r=o.last,r!==null?r.sibling=a:t.child=a,o.last=a)}return o.tail!==null?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=Ue(),t.sibling=null,r=be.current,we(be,i?r&1|2:r&1),t):(ft(t),null);case 22:case 23:return hm(),i=t.memoizedState!==null,n!==null&&n.memoizedState!==null!==i&&(t.flags|=8192),i&&t.mode&1?Ut&1073741824&&(ft(t),t.subtreeFlags&6&&(t.flags|=8192)):ft(t),null;case 24:return null;case 25:return null}throw Error(x(156,t.tag))}function RA(n,t){switch(qp(t),t.tag){case 1:return Ot(t.type)&&Eu(),n=t.flags,n&65536?(t.flags=n&-65537|128,t):null;case 3:return ks(),_e($t),_e(It),tm(),n=t.flags,n&65536&&!(n&128)?(t.flags=n&-65537|128,t):null;case 5:return em(t),null;case 13:if(_e(be),n=t.memoizedState,n!==null&&n.dehydrated!==null){if(t.alternate===null)throw Error(x(340));_s()}return n=t.flags,n&65536?(t.flags=n&-65537|128,t):null;case 19:return _e(be),null;case 4:return ks(),null;case 10:return Yp(t.type._context),null;case 22:case 23:return hm(),null;case 24:return null;default:return null}}var kl=!1,gt=!1,xA=typeof WeakSet=="function"?WeakSet:Set,M=null;function rs(n,t){var r=n.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(i){Oe(n,t,i)}else r.current=null}function vf(n,t,r){try{r()}catch(i){Oe(n,t,i)}}var Xy=!1;function NA(n,t){if(ef=gu,n=w1(),Hp(n)){if("selectionStart"in n)var r={start:n.selectionStart,end:n.selectionEnd};else e:{r=(r=n.ownerDocument)&&r.defaultView||window;var i=r.getSelection&&r.getSelection();if(i&&i.rangeCount!==0){r=i.anchorNode;var s=i.anchorOffset,o=i.focusNode;i=i.focusOffset;try{r.nodeType,o.nodeType}catch{r=null;break e}var a=0,l=-1,u=-1,c=0,d=0,h=n,f=null;t:for(;;){for(var m;h!==r||s!==0&&h.nodeType!==3||(l=a+s),h!==o||i!==0&&h.nodeType!==3||(u=a+i),h.nodeType===3&&(a+=h.nodeValue.length),(m=h.firstChild)!==null;)f=h,h=m;for(;;){if(h===n)break t;if(f===r&&++c===s&&(l=a),f===o&&++d===i&&(u=a),(m=h.nextSibling)!==null)break;h=f,f=h.parentNode}h=m}r=l===-1||u===-1?null:{start:l,end:u}}else r=null}r=r||{start:0,end:0}}else r=null;for(tf={focusedElem:n,selectionRange:r},gu=!1,M=t;M!==null;)if(t=M,n=t.child,(t.subtreeFlags&1028)!==0&&n!==null)n.return=t,M=n;else for(;M!==null;){t=M;try{var E=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(E!==null){var S=E.memoizedProps,I=E.memoizedState,y=t.stateNode,p=y.getSnapshotBeforeUpdate(t.elementType===t.type?S:cn(t.type,S),I);y.__reactInternalSnapshotBeforeUpdate=p}break;case 3:var v=t.stateNode.containerInfo;v.nodeType===1?v.textContent="":v.nodeType===9&&v.documentElement&&v.removeChild(v.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(x(163))}}catch(g){Oe(t,t.return,g)}if(n=t.sibling,n!==null){n.return=t.return,M=n;break}M=t.return}return E=Xy,Xy=!1,E}function Uo(n,t,r){var i=t.updateQueue;if(i=i!==null?i.lastEffect:null,i!==null){var s=i=i.next;do{if((s.tag&n)===n){var o=s.destroy;s.destroy=void 0,o!==void 0&&vf(t,r,o)}s=s.next}while(s!==i)}}function Ic(n,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&n)===n){var i=r.create;r.destroy=i()}r=r.next}while(r!==t)}}function wf(n){var t=n.ref;if(t!==null){var r=n.stateNode;switch(n.tag){case 5:n=r;break;default:n=r}typeof t=="function"?t(n):t.current=n}}function gE(n){var t=n.alternate;t!==null&&(n.alternate=null,gE(t)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(t=n.stateNode,t!==null&&(delete t[Cn],delete t[aa],delete t[sf],delete t[hA],delete t[fA])),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}function yE(n){return n.tag===5||n.tag===3||n.tag===4}function Jy(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||yE(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function Ef(n,t,r){var i=n.tag;if(i===5||i===6)n=n.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(n,t):r.insertBefore(n,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(n,r)):(t=r,t.appendChild(n)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=wu));else if(i!==4&&(n=n.child,n!==null))for(Ef(n,t,r),n=n.sibling;n!==null;)Ef(n,t,r),n=n.sibling}function Sf(n,t,r){var i=n.tag;if(i===5||i===6)n=n.stateNode,t?r.insertBefore(n,t):r.appendChild(n);else if(i!==4&&(n=n.child,n!==null))for(Sf(n,t,r),n=n.sibling;n!==null;)Sf(n,t,r),n=n.sibling}var rt=null,hn=!1;function ur(n,t,r){for(r=r.child;r!==null;)vE(n,t,r),r=r.sibling}function vE(n,t,r){if(Rn&&typeof Rn.onCommitFiberUnmount=="function")try{Rn.onCommitFiberUnmount(pc,r)}catch{}switch(r.tag){case 5:gt||rs(r,t);case 6:var i=rt,s=hn;rt=null,ur(n,t,r),rt=i,hn=s,rt!==null&&(hn?(n=rt,r=r.stateNode,n.nodeType===8?n.parentNode.removeChild(r):n.removeChild(r)):rt.removeChild(r.stateNode));break;case 18:rt!==null&&(hn?(n=rt,r=r.stateNode,n.nodeType===8?Vd(n.parentNode,r):n.nodeType===1&&Vd(n,r),na(n)):Vd(rt,r.stateNode));break;case 4:i=rt,s=hn,rt=r.stateNode.containerInfo,hn=!0,ur(n,t,r),rt=i,hn=s;break;case 0:case 11:case 14:case 15:if(!gt&&(i=r.updateQueue,i!==null&&(i=i.lastEffect,i!==null))){s=i=i.next;do{var o=s,a=o.destroy;o=o.tag,a!==void 0&&(o&2||o&4)&&vf(r,t,a),s=s.next}while(s!==i)}ur(n,t,r);break;case 1:if(!gt&&(rs(r,t),i=r.stateNode,typeof i.componentWillUnmount=="function"))try{i.props=r.memoizedProps,i.state=r.memoizedState,i.componentWillUnmount()}catch(l){Oe(r,t,l)}ur(n,t,r);break;case 21:ur(n,t,r);break;case 22:r.mode&1?(gt=(i=gt)||r.memoizedState!==null,ur(n,t,r),gt=i):ur(n,t,r);break;default:ur(n,t,r)}}function Zy(n){var t=n.updateQueue;if(t!==null){n.updateQueue=null;var r=n.stateNode;r===null&&(r=n.stateNode=new xA),t.forEach(function(i){var s=UA.bind(null,n,i);r.has(i)||(r.add(i),i.then(s,s))})}}function ln(n,t){var r=t.deletions;if(r!==null)for(var i=0;i<r.length;i++){var s=r[i];try{var o=n,a=t,l=a;e:for(;l!==null;){switch(l.tag){case 5:rt=l.stateNode,hn=!1;break e;case 3:rt=l.stateNode.containerInfo,hn=!0;break e;case 4:rt=l.stateNode.containerInfo,hn=!0;break e}l=l.return}if(rt===null)throw Error(x(160));vE(o,a,s),rt=null,hn=!1;var u=s.alternate;u!==null&&(u.return=null),s.return=null}catch(c){Oe(s,t,c)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)wE(t,n),t=t.sibling}function wE(n,t){var r=n.alternate,i=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:if(ln(t,n),Tn(n),i&4){try{Uo(3,n,n.return),Ic(3,n)}catch(S){Oe(n,n.return,S)}try{Uo(5,n,n.return)}catch(S){Oe(n,n.return,S)}}break;case 1:ln(t,n),Tn(n),i&512&&r!==null&&rs(r,r.return);break;case 5:if(ln(t,n),Tn(n),i&512&&r!==null&&rs(r,r.return),n.flags&32){var s=n.stateNode;try{Jo(s,"")}catch(S){Oe(n,n.return,S)}}if(i&4&&(s=n.stateNode,s!=null)){var o=n.memoizedProps,a=r!==null?r.memoizedProps:o,l=n.type,u=n.updateQueue;if(n.updateQueue=null,u!==null)try{l==="input"&&o.type==="radio"&&o.name!=null&&Vw(s,o),Hh(l,a);var c=Hh(l,o);for(a=0;a<u.length;a+=2){var d=u[a],h=u[a+1];d==="style"?Ww(s,h):d==="dangerouslySetInnerHTML"?Bw(s,h):d==="children"?Jo(s,h):bp(s,d,h,c)}switch(l){case"input":Uh(s,o);break;case"textarea":jw(s,o);break;case"select":var f=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!o.multiple;var m=o.value;m!=null?us(s,!!o.multiple,m,!1):f!==!!o.multiple&&(o.defaultValue!=null?us(s,!!o.multiple,o.defaultValue,!0):us(s,!!o.multiple,o.multiple?[]:"",!1))}s[aa]=o}catch(S){Oe(n,n.return,S)}}break;case 6:if(ln(t,n),Tn(n),i&4){if(n.stateNode===null)throw Error(x(162));s=n.stateNode,o=n.memoizedProps;try{s.nodeValue=o}catch(S){Oe(n,n.return,S)}}break;case 3:if(ln(t,n),Tn(n),i&4&&r!==null&&r.memoizedState.isDehydrated)try{na(t.containerInfo)}catch(S){Oe(n,n.return,S)}break;case 4:ln(t,n),Tn(n);break;case 13:ln(t,n),Tn(n),s=n.child,s.flags&8192&&(o=s.memoizedState!==null,s.stateNode.isHidden=o,!o||s.alternate!==null&&s.alternate.memoizedState!==null||(cm=Ue())),i&4&&Zy(n);break;case 22:if(d=r!==null&&r.memoizedState!==null,n.mode&1?(gt=(c=gt)||d,ln(t,n),gt=c):ln(t,n),Tn(n),i&8192){if(c=n.memoizedState!==null,(n.stateNode.isHidden=c)&&!d&&n.mode&1)for(M=n,d=n.child;d!==null;){for(h=M=d;M!==null;){switch(f=M,m=f.child,f.tag){case 0:case 11:case 14:case 15:Uo(4,f,f.return);break;case 1:rs(f,f.return);var E=f.stateNode;if(typeof E.componentWillUnmount=="function"){i=f,r=f.return;try{t=i,E.props=t.memoizedProps,E.state=t.memoizedState,E.componentWillUnmount()}catch(S){Oe(i,r,S)}}break;case 5:rs(f,f.return);break;case 22:if(f.memoizedState!==null){tv(h);continue}}m!==null?(m.return=f,M=m):tv(h)}d=d.sibling}e:for(d=null,h=n;;){if(h.tag===5){if(d===null){d=h;try{s=h.stateNode,c?(o=s.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(l=h.stateNode,u=h.memoizedProps.style,a=u!=null&&u.hasOwnProperty("display")?u.display:null,l.style.display=Hw("display",a))}catch(S){Oe(n,n.return,S)}}}else if(h.tag===6){if(d===null)try{h.stateNode.nodeValue=c?"":h.memoizedProps}catch(S){Oe(n,n.return,S)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===n)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===n)break e;for(;h.sibling===null;){if(h.return===null||h.return===n)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:ln(t,n),Tn(n),i&4&&Zy(n);break;case 21:break;default:ln(t,n),Tn(n)}}function Tn(n){var t=n.flags;if(t&2){try{e:{for(var r=n.return;r!==null;){if(yE(r)){var i=r;break e}r=r.return}throw Error(x(160))}switch(i.tag){case 5:var s=i.stateNode;i.flags&32&&(Jo(s,""),i.flags&=-33);var o=Jy(n);Sf(n,o,s);break;case 3:case 4:var a=i.stateNode.containerInfo,l=Jy(n);Ef(n,l,a);break;default:throw Error(x(161))}}catch(u){Oe(n,n.return,u)}n.flags&=-3}t&4096&&(n.flags&=-4097)}function bA(n,t,r){M=n,EE(n)}function EE(n,t,r){for(var i=(n.mode&1)!==0;M!==null;){var s=M,o=s.child;if(s.tag===22&&i){var a=s.memoizedState!==null||kl;if(!a){var l=s.alternate,u=l!==null&&l.memoizedState!==null||gt;l=kl;var c=gt;if(kl=a,(gt=u)&&!c)for(M=s;M!==null;)a=M,u=a.child,a.tag===22&&a.memoizedState!==null?nv(s):u!==null?(u.return=a,M=u):nv(s);for(;o!==null;)M=o,EE(o),o=o.sibling;M=s,kl=l,gt=c}ev(n)}else s.subtreeFlags&8772&&o!==null?(o.return=s,M=o):ev(n)}}function ev(n){for(;M!==null;){var t=M;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:gt||Ic(5,t);break;case 1:var i=t.stateNode;if(t.flags&4&&!gt)if(r===null)i.componentDidMount();else{var s=t.elementType===t.type?r.memoizedProps:cn(t.type,r.memoizedProps);i.componentDidUpdate(s,r.memoizedState,i.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;o!==null&&Ly(t,o,i);break;case 3:var a=t.updateQueue;if(a!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}Ly(t,a,r)}break;case 5:var l=t.stateNode;if(r===null&&t.flags&4){r=l;var u=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":u.autoFocus&&r.focus();break;case"img":u.src&&(r.src=u.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var c=t.alternate;if(c!==null){var d=c.memoizedState;if(d!==null){var h=d.dehydrated;h!==null&&na(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(x(163))}gt||t.flags&512&&wf(t)}catch(f){Oe(t,t.return,f)}}if(t===n){M=null;break}if(r=t.sibling,r!==null){r.return=t.return,M=r;break}M=t.return}}function tv(n){for(;M!==null;){var t=M;if(t===n){M=null;break}var r=t.sibling;if(r!==null){r.return=t.return,M=r;break}M=t.return}}function nv(n){for(;M!==null;){var t=M;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{Ic(4,t)}catch(u){Oe(t,r,u)}break;case 1:var i=t.stateNode;if(typeof i.componentDidMount=="function"){var s=t.return;try{i.componentDidMount()}catch(u){Oe(t,s,u)}}var o=t.return;try{wf(t)}catch(u){Oe(t,o,u)}break;case 5:var a=t.return;try{wf(t)}catch(u){Oe(t,a,u)}}}catch(u){Oe(t,t.return,u)}if(t===n){M=null;break}var l=t.sibling;if(l!==null){l.return=t.return,M=l;break}M=t.return}}var DA=Math.ceil,Nu=or.ReactCurrentDispatcher,lm=or.ReactCurrentOwner,tn=or.ReactCurrentBatchConfig,oe=0,Je=null,Be=null,ot=0,Ut=0,is=Gr(0),Ge=0,fa=null,Ii=0,Tc=0,um=0,Vo=null,Dt=null,cm=0,Rs=1/0,Un=null,bu=!1,If=null,br=null,Al=!1,Tr=null,Du=0,jo=0,Tf=null,Zl=-1,eu=0;function Rt(){return oe&6?Ue():Zl!==-1?Zl:Zl=Ue()}function Dr(n){return n.mode&1?oe&2&&ot!==0?ot&-ot:mA.transition!==null?(eu===0&&(eu=r1()),eu):(n=pe,n!==0||(n=window.event,n=n===void 0?16:c1(n.type)),n):1}function mn(n,t,r,i){if(50<jo)throw jo=0,Tf=null,Error(x(185));Pa(n,r,i),(!(oe&2)||n!==Je)&&(n===Je&&(!(oe&2)&&(Tc|=r),Ge===4&&gr(n,ot)),Mt(n,i),r===1&&oe===0&&!(t.mode&1)&&(Rs=Ue()+500,wc&&Qr()))}function Mt(n,t){var r=n.callbackNode;mk(n,t);var i=mu(n,n===Je?ot:0);if(i===0)r!==null&&dy(r),n.callbackNode=null,n.callbackPriority=0;else if(t=i&-i,n.callbackPriority!==t){if(r!=null&&dy(r),t===1)n.tag===0?pA(rv.bind(null,n)):x1(rv.bind(null,n)),cA(function(){!(oe&6)&&Qr()}),r=null;else{switch(i1(i)){case 1:r=Mp;break;case 4:r=t1;break;case 16:r=pu;break;case 536870912:r=n1;break;default:r=pu}r=RE(r,SE.bind(null,n))}n.callbackPriority=t,n.callbackNode=r}}function SE(n,t){if(Zl=-1,eu=0,oe&6)throw Error(x(327));var r=n.callbackNode;if(ps()&&n.callbackNode!==r)return null;var i=mu(n,n===Je?ot:0);if(i===0)return null;if(i&30||i&n.expiredLanes||t)t=Pu(n,i);else{t=i;var s=oe;oe|=2;var o=TE();(Je!==n||ot!==t)&&(Un=null,Rs=Ue()+500,fi(n,t));do try{OA();break}catch(l){IE(n,l)}while(1);Qp(),Nu.current=o,oe=s,Be!==null?t=0:(Je=null,ot=0,t=Ge)}if(t!==0){if(t===2&&(s=Qh(n),s!==0&&(i=s,t=_f(n,s))),t===1)throw r=fa,fi(n,0),gr(n,i),Mt(n,Ue()),r;if(t===6)gr(n,i);else{if(s=n.current.alternate,!(i&30)&&!PA(s)&&(t=Pu(n,i),t===2&&(o=Qh(n),o!==0&&(i=o,t=_f(n,o))),t===1))throw r=fa,fi(n,0),gr(n,i),Mt(n,Ue()),r;switch(n.finishedWork=s,n.finishedLanes=i,t){case 0:case 1:throw Error(x(345));case 2:ei(n,Dt,Un);break;case 3:if(gr(n,i),(i&130023424)===i&&(t=cm+500-Ue(),10<t)){if(mu(n,0)!==0)break;if(s=n.suspendedLanes,(s&i)!==i){Rt(),n.pingedLanes|=n.suspendedLanes&s;break}n.timeoutHandle=rf(ei.bind(null,n,Dt,Un),t);break}ei(n,Dt,Un);break;case 4:if(gr(n,i),(i&4194240)===i)break;for(t=n.eventTimes,s=-1;0<i;){var a=31-pn(i);o=1<<a,a=t[a],a>s&&(s=a),i&=~o}if(i=s,i=Ue()-i,i=(120>i?120:480>i?480:1080>i?1080:1920>i?1920:3e3>i?3e3:4320>i?4320:1960*DA(i/1960))-i,10<i){n.timeoutHandle=rf(ei.bind(null,n,Dt,Un),i);break}ei(n,Dt,Un);break;case 5:ei(n,Dt,Un);break;default:throw Error(x(329))}}}return Mt(n,Ue()),n.callbackNode===r?SE.bind(null,n):null}function _f(n,t){var r=Vo;return n.current.memoizedState.isDehydrated&&(fi(n,t).flags|=256),n=Pu(n,t),n!==2&&(t=Dt,Dt=r,t!==null&&Cf(t)),n}function Cf(n){Dt===null?Dt=n:Dt.push.apply(Dt,n)}function PA(n){for(var t=n;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var i=0;i<r.length;i++){var s=r[i],o=s.getSnapshot;s=s.value;try{if(!gn(o(),s))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===n)break;for(;t.sibling===null;){if(t.return===null||t.return===n)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function gr(n,t){for(t&=~um,t&=~Tc,n.suspendedLanes|=t,n.pingedLanes&=~t,n=n.expirationTimes;0<t;){var r=31-pn(t),i=1<<r;n[r]=-1,t&=~i}}function rv(n){if(oe&6)throw Error(x(327));ps();var t=mu(n,0);if(!(t&1))return Mt(n,Ue()),null;var r=Pu(n,t);if(n.tag!==0&&r===2){var i=Qh(n);i!==0&&(t=i,r=_f(n,i))}if(r===1)throw r=fa,fi(n,0),gr(n,t),Mt(n,Ue()),r;if(r===6)throw Error(x(345));return n.finishedWork=n.current.alternate,n.finishedLanes=t,ei(n,Dt,Un),Mt(n,Ue()),null}function dm(n,t){var r=oe;oe|=1;try{return n(t)}finally{oe=r,oe===0&&(Rs=Ue()+500,wc&&Qr())}}function Ti(n){Tr!==null&&Tr.tag===0&&!(oe&6)&&ps();var t=oe;oe|=1;var r=tn.transition,i=pe;try{if(tn.transition=null,pe=1,n)return n()}finally{pe=i,tn.transition=r,oe=t,!(oe&6)&&Qr()}}function hm(){Ut=is.current,_e(is)}function fi(n,t){n.finishedWork=null,n.finishedLanes=0;var r=n.timeoutHandle;if(r!==-1&&(n.timeoutHandle=-1,uA(r)),Be!==null)for(r=Be.return;r!==null;){var i=r;switch(qp(i),i.tag){case 1:i=i.type.childContextTypes,i!=null&&Eu();break;case 3:ks(),_e($t),_e(It),tm();break;case 5:em(i);break;case 4:ks();break;case 13:_e(be);break;case 19:_e(be);break;case 10:Yp(i.type._context);break;case 22:case 23:hm()}r=r.return}if(Je=n,Be=n=Pr(n.current,null),ot=Ut=t,Ge=0,fa=null,um=Tc=Ii=0,Dt=Vo=null,ii!==null){for(t=0;t<ii.length;t++)if(r=ii[t],i=r.interleaved,i!==null){r.interleaved=null;var s=i.next,o=r.pending;if(o!==null){var a=o.next;o.next=s,i.next=a}r.pending=i}ii=null}return n}function IE(n,t){do{var r=Be;try{if(Qp(),Yl.current=xu,Ru){for(var i=De.memoizedState;i!==null;){var s=i.queue;s!==null&&(s.pending=null),i=i.next}Ru=!1}if(Si=0,Xe=Ke=De=null,Fo=!1,ca=0,lm.current=null,r===null||r.return===null){Ge=1,fa=t,Be=null;break}e:{var o=n,a=r.return,l=r,u=t;if(t=ot,l.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){var c=u,d=l,h=d.tag;if(!(d.mode&1)&&(h===0||h===11||h===15)){var f=d.alternate;f?(d.updateQueue=f.updateQueue,d.memoizedState=f.memoizedState,d.lanes=f.lanes):(d.updateQueue=null,d.memoizedState=null)}var m=Hy(a);if(m!==null){m.flags&=-257,Wy(m,a,l,o,t),m.mode&1&&By(o,c,t),t=m,u=c;var E=t.updateQueue;if(E===null){var S=new Set;S.add(u),t.updateQueue=S}else E.add(u);break e}else{if(!(t&1)){By(o,c,t),fm();break e}u=Error(x(426))}}else if(ke&&l.mode&1){var I=Hy(a);if(I!==null){!(I.flags&65536)&&(I.flags|=256),Wy(I,a,l,o,t),Kp(As(u,l));break e}}o=u=As(u,l),Ge!==4&&(Ge=2),Vo===null?Vo=[o]:Vo.push(o),o=a;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t;var y=sE(o,u,t);My(o,y);break e;case 1:l=u;var p=o.type,v=o.stateNode;if(!(o.flags&128)&&(typeof p.getDerivedStateFromError=="function"||v!==null&&typeof v.componentDidCatch=="function"&&(br===null||!br.has(v)))){o.flags|=65536,t&=-t,o.lanes|=t;var g=oE(o,l,t);My(o,g);break e}}o=o.return}while(o!==null)}CE(r)}catch(C){t=C,Be===r&&r!==null&&(Be=r=r.return);continue}break}while(1)}function TE(){var n=Nu.current;return Nu.current=xu,n===null?xu:n}function fm(){(Ge===0||Ge===3||Ge===2)&&(Ge=4),Je===null||!(Ii&268435455)&&!(Tc&268435455)||gr(Je,ot)}function Pu(n,t){var r=oe;oe|=2;var i=TE();(Je!==n||ot!==t)&&(Un=null,fi(n,t));do try{$A();break}catch(s){IE(n,s)}while(1);if(Qp(),oe=r,Nu.current=i,Be!==null)throw Error(x(261));return Je=null,ot=0,Ge}function $A(){for(;Be!==null;)_E(Be)}function OA(){for(;Be!==null&&!ok();)_E(Be)}function _E(n){var t=AE(n.alternate,n,Ut);n.memoizedProps=n.pendingProps,t===null?CE(n):Be=t,lm.current=null}function CE(n){var t=n;do{var r=t.alternate;if(n=t.return,t.flags&32768){if(r=RA(r,t),r!==null){r.flags&=32767,Be=r;return}if(n!==null)n.flags|=32768,n.subtreeFlags=0,n.deletions=null;else{Ge=6,Be=null;return}}else if(r=AA(r,t,Ut),r!==null){Be=r;return}if(t=t.sibling,t!==null){Be=t;return}Be=t=n}while(t!==null);Ge===0&&(Ge=5)}function ei(n,t,r){var i=pe,s=tn.transition;try{tn.transition=null,pe=1,MA(n,t,r,i)}finally{tn.transition=s,pe=i}return null}function MA(n,t,r,i){do ps();while(Tr!==null);if(oe&6)throw Error(x(327));r=n.finishedWork;var s=n.finishedLanes;if(r===null)return null;if(n.finishedWork=null,n.finishedLanes=0,r===n.current)throw Error(x(177));n.callbackNode=null,n.callbackPriority=0;var o=r.lanes|r.childLanes;if(gk(n,o),n===Je&&(Be=Je=null,ot=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||Al||(Al=!0,RE(pu,function(){return ps(),null})),o=(r.flags&15990)!==0,r.subtreeFlags&15990||o){o=tn.transition,tn.transition=null;var a=pe;pe=1;var l=oe;oe|=4,lm.current=null,NA(n,r),wE(r,n),nA(tf),gu=!!ef,tf=ef=null,n.current=r,bA(r),ak(),oe=l,pe=a,tn.transition=o}else n.current=r;if(Al&&(Al=!1,Tr=n,Du=s),o=n.pendingLanes,o===0&&(br=null),ck(r.stateNode),Mt(n,Ue()),t!==null)for(i=n.onRecoverableError,r=0;r<t.length;r++)s=t[r],i(s.value,{componentStack:s.stack,digest:s.digest});if(bu)throw bu=!1,n=If,If=null,n;return Du&1&&n.tag!==0&&ps(),o=n.pendingLanes,o&1?n===Tf?jo++:(jo=0,Tf=n):jo=0,Qr(),null}function ps(){if(Tr!==null){var n=i1(Du),t=tn.transition,r=pe;try{if(tn.transition=null,pe=16>n?16:n,Tr===null)var i=!1;else{if(n=Tr,Tr=null,Du=0,oe&6)throw Error(x(331));var s=oe;for(oe|=4,M=n.current;M!==null;){var o=M,a=o.child;if(M.flags&16){var l=o.deletions;if(l!==null){for(var u=0;u<l.length;u++){var c=l[u];for(M=c;M!==null;){var d=M;switch(d.tag){case 0:case 11:case 15:Uo(8,d,o)}var h=d.child;if(h!==null)h.return=d,M=h;else for(;M!==null;){d=M;var f=d.sibling,m=d.return;if(gE(d),d===c){M=null;break}if(f!==null){f.return=m,M=f;break}M=m}}}var E=o.alternate;if(E!==null){var S=E.child;if(S!==null){E.child=null;do{var I=S.sibling;S.sibling=null,S=I}while(S!==null)}}M=o}}if(o.subtreeFlags&2064&&a!==null)a.return=o,M=a;else e:for(;M!==null;){if(o=M,o.flags&2048)switch(o.tag){case 0:case 11:case 15:Uo(9,o,o.return)}var y=o.sibling;if(y!==null){y.return=o.return,M=y;break e}M=o.return}}var p=n.current;for(M=p;M!==null;){a=M;var v=a.child;if(a.subtreeFlags&2064&&v!==null)v.return=a,M=v;else e:for(a=p;M!==null;){if(l=M,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:Ic(9,l)}}catch(C){Oe(l,l.return,C)}if(l===a){M=null;break e}var g=l.sibling;if(g!==null){g.return=l.return,M=g;break e}M=l.return}}if(oe=s,Qr(),Rn&&typeof Rn.onPostCommitFiberRoot=="function")try{Rn.onPostCommitFiberRoot(pc,n)}catch{}i=!0}return i}finally{pe=r,tn.transition=t}}return!1}function iv(n,t,r){t=As(r,t),t=sE(n,t,1),n=Nr(n,t,1),t=Rt(),n!==null&&(Pa(n,1,t),Mt(n,t))}function Oe(n,t,r){if(n.tag===3)iv(n,n,r);else for(;t!==null;){if(t.tag===3){iv(t,n,r);break}else if(t.tag===1){var i=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof i.componentDidCatch=="function"&&(br===null||!br.has(i))){n=As(r,n),n=oE(t,n,1),t=Nr(t,n,1),n=Rt(),t!==null&&(Pa(t,1,n),Mt(t,n));break}}t=t.return}}function LA(n,t,r){var i=n.pingCache;i!==null&&i.delete(t),t=Rt(),n.pingedLanes|=n.suspendedLanes&r,Je===n&&(ot&r)===r&&(Ge===4||Ge===3&&(ot&130023424)===ot&&500>Ue()-cm?fi(n,0):um|=r),Mt(n,t)}function kE(n,t){t===0&&(n.mode&1?(t=yl,yl<<=1,!(yl&130023424)&&(yl=4194304)):t=1);var r=Rt();n=Zn(n,t),n!==null&&(Pa(n,t,r),Mt(n,r))}function FA(n){var t=n.memoizedState,r=0;t!==null&&(r=t.retryLane),kE(n,r)}function UA(n,t){var r=0;switch(n.tag){case 13:var i=n.stateNode,s=n.memoizedState;s!==null&&(r=s.retryLane);break;case 19:i=n.stateNode;break;default:throw Error(x(314))}i!==null&&i.delete(t),kE(n,r)}var AE;AE=function(n,t,r){if(n!==null)if(n.memoizedProps!==t.pendingProps||$t.current)Pt=!0;else{if(!(n.lanes&r)&&!(t.flags&128))return Pt=!1,kA(n,t,r);Pt=!!(n.flags&131072)}else Pt=!1,ke&&t.flags&1048576&&N1(t,Tu,t.index);switch(t.lanes=0,t.tag){case 2:var i=t.type;Jl(n,t),n=t.pendingProps;var s=Ts(t,It.current);fs(t,r),s=rm(null,t,i,n,s,r);var o=im();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ot(i)?(o=!0,Su(t)):o=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,Jp(t),s.updater=Ec,t.stateNode=s,s._reactInternals=t,df(t,i,n,r),t=pf(null,t,i,!0,o,r)):(t.tag=0,ke&&o&&Wp(t),kt(null,t,s,r),t=t.child),t;case 16:i=t.elementType;e:{switch(Jl(n,t),n=t.pendingProps,s=i._init,i=s(i._payload),t.type=i,s=t.tag=jA(i),n=cn(i,n),s){case 0:t=ff(null,t,i,n,r);break e;case 1:t=Gy(null,t,i,n,r);break e;case 11:t=qy(null,t,i,n,r);break e;case 14:t=Ky(null,t,i,cn(i.type,n),r);break e}throw Error(x(306,i,""))}return t;case 0:return i=t.type,s=t.pendingProps,s=t.elementType===i?s:cn(i,s),ff(n,t,i,s,r);case 1:return i=t.type,s=t.pendingProps,s=t.elementType===i?s:cn(i,s),Gy(n,t,i,s,r);case 3:e:{if(cE(t),n===null)throw Error(x(387));i=t.pendingProps,o=t.memoizedState,s=o.element,$1(n,t),ku(t,i,null,r);var a=t.memoizedState;if(i=a.element,o.isDehydrated)if(o={element:i,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},t.updateQueue.baseState=o,t.memoizedState=o,t.flags&256){s=As(Error(x(423)),t),t=Qy(n,t,i,r,s);break e}else if(i!==s){s=As(Error(x(424)),t),t=Qy(n,t,i,r,s);break e}else for(Vt=xr(t.stateNode.containerInfo.firstChild),jt=t,ke=!0,fn=null,r=F1(t,null,i,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(_s(),i===s){t=er(n,t,r);break e}kt(n,t,i,r)}t=t.child}return t;case 5:return U1(t),n===null&&lf(t),i=t.type,s=t.pendingProps,o=n!==null?n.memoizedProps:null,a=s.children,nf(i,s)?a=null:o!==null&&nf(i,o)&&(t.flags|=32),uE(n,t),kt(n,t,a,r),t.child;case 6:return n===null&&lf(t),null;case 13:return dE(n,t,r);case 4:return Zp(t,t.stateNode.containerInfo),i=t.pendingProps,n===null?t.child=Cs(t,null,i,r):kt(n,t,i,r),t.child;case 11:return i=t.type,s=t.pendingProps,s=t.elementType===i?s:cn(i,s),qy(n,t,i,s,r);case 7:return kt(n,t,t.pendingProps,r),t.child;case 8:return kt(n,t,t.pendingProps.children,r),t.child;case 12:return kt(n,t,t.pendingProps.children,r),t.child;case 10:e:{if(i=t.type._context,s=t.pendingProps,o=t.memoizedProps,a=s.value,we(_u,i._currentValue),i._currentValue=a,o!==null)if(gn(o.value,a)){if(o.children===s.children&&!$t.current){t=er(n,t,r);break e}}else for(o=t.child,o!==null&&(o.return=t);o!==null;){var l=o.dependencies;if(l!==null){a=o.child;for(var u=l.firstContext;u!==null;){if(u.context===i){if(o.tag===1){u=Gn(-1,r&-r),u.tag=2;var c=o.updateQueue;if(c!==null){c=c.shared;var d=c.pending;d===null?u.next=u:(u.next=d.next,d.next=u),c.pending=u}}o.lanes|=r,u=o.alternate,u!==null&&(u.lanes|=r),uf(o.return,r,t),l.lanes|=r;break}u=u.next}}else if(o.tag===10)a=o.type===t.type?null:o.child;else if(o.tag===18){if(a=o.return,a===null)throw Error(x(341));a.lanes|=r,l=a.alternate,l!==null&&(l.lanes|=r),uf(a,r,t),a=o.sibling}else a=o.child;if(a!==null)a.return=o;else for(a=o;a!==null;){if(a===t){a=null;break}if(o=a.sibling,o!==null){o.return=a.return,a=o;break}a=a.return}o=a}kt(n,t,s.children,r),t=t.child}return t;case 9:return s=t.type,i=t.pendingProps.children,fs(t,r),s=sn(s),i=i(s),t.flags|=1,kt(n,t,i,r),t.child;case 14:return i=t.type,s=cn(i,t.pendingProps),s=cn(i.type,s),Ky(n,t,i,s,r);case 15:return aE(n,t,t.type,t.pendingProps,r);case 17:return i=t.type,s=t.pendingProps,s=t.elementType===i?s:cn(i,s),Jl(n,t),t.tag=1,Ot(i)?(n=!0,Su(t)):n=!1,fs(t,r),M1(t,i,s),df(t,i,s,r),pf(null,t,i,!0,n,r);case 19:return hE(n,t,r);case 22:return lE(n,t,r)}throw Error(x(156,t.tag))};function RE(n,t){return e1(n,t)}function VA(n,t,r,i){this.tag=n,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Zt(n,t,r,i){return new VA(n,t,r,i)}function pm(n){return n=n.prototype,!(!n||!n.isReactComponent)}function jA(n){if(typeof n=="function")return pm(n)?1:0;if(n!=null){if(n=n.$$typeof,n===Pp)return 11;if(n===$p)return 14}return 2}function Pr(n,t){var r=n.alternate;return r===null?(r=Zt(n.tag,t,n.key,n.mode),r.elementType=n.elementType,r.type=n.type,r.stateNode=n.stateNode,r.alternate=n,n.alternate=r):(r.pendingProps=t,r.type=n.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=n.flags&14680064,r.childLanes=n.childLanes,r.lanes=n.lanes,r.child=n.child,r.memoizedProps=n.memoizedProps,r.memoizedState=n.memoizedState,r.updateQueue=n.updateQueue,t=n.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=n.sibling,r.index=n.index,r.ref=n.ref,r}function tu(n,t,r,i,s,o){var a=2;if(i=n,typeof n=="function")pm(n)&&(a=1);else if(typeof n=="string")a=5;else e:switch(n){case Gi:return pi(r.children,s,o,t);case Dp:a=8,s|=8;break;case $h:return n=Zt(12,r,t,s|2),n.elementType=$h,n.lanes=o,n;case Oh:return n=Zt(13,r,t,s),n.elementType=Oh,n.lanes=o,n;case Mh:return n=Zt(19,r,t,s),n.elementType=Mh,n.lanes=o,n;case Lw:return _c(r,s,o,t);default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case Ow:a=10;break e;case Mw:a=9;break e;case Pp:a=11;break e;case $p:a=14;break e;case fr:a=16,i=null;break e}throw Error(x(130,n==null?n:typeof n,""))}return t=Zt(a,r,t,s),t.elementType=n,t.type=i,t.lanes=o,t}function pi(n,t,r,i){return n=Zt(7,n,i,t),n.lanes=r,n}function _c(n,t,r,i){return n=Zt(22,n,i,t),n.elementType=Lw,n.lanes=r,n.stateNode={isHidden:!1},n}function Gd(n,t,r){return n=Zt(6,n,null,t),n.lanes=r,n}function Qd(n,t,r){return t=Zt(4,n.children!==null?n.children:[],n.key,t),t.lanes=r,t.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},t}function zA(n,t,r,i,s){this.tag=t,this.containerInfo=n,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=xd(0),this.expirationTimes=xd(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=xd(0),this.identifierPrefix=i,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function mm(n,t,r,i,s,o,a,l,u){return n=new zA(n,t,r,l,u),t===1?(t=1,o===!0&&(t|=8)):t=0,o=Zt(3,null,null,t),n.current=o,o.stateNode=n,o.memoizedState={element:i,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},Jp(o),n}function BA(n,t,r){var i=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Ki,key:i==null?null:""+i,children:n,containerInfo:t,implementation:r}}function xE(n){if(!n)return jr;n=n._reactInternals;e:{if($i(n)!==n||n.tag!==1)throw Error(x(170));var t=n;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ot(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(x(171))}if(n.tag===1){var r=n.type;if(Ot(r))return R1(n,r,t)}return t}function NE(n,t,r,i,s,o,a,l,u){return n=mm(r,i,!0,n,s,o,a,l,u),n.context=xE(null),r=n.current,i=Rt(),s=Dr(r),o=Gn(i,s),o.callback=t??null,Nr(r,o,s),n.current.lanes=s,Pa(n,s,i),Mt(n,i),n}function Cc(n,t,r,i){var s=t.current,o=Rt(),a=Dr(s);return r=xE(r),t.context===null?t.context=r:t.pendingContext=r,t=Gn(o,a),t.payload={element:n},i=i===void 0?null:i,i!==null&&(t.callback=i),n=Nr(s,t,a),n!==null&&(mn(n,s,a,o),Ql(n,s,a)),a}function $u(n){if(n=n.current,!n.child)return null;switch(n.child.tag){case 5:return n.child.stateNode;default:return n.child.stateNode}}function sv(n,t){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var r=n.retryLane;n.retryLane=r!==0&&r<t?r:t}}function gm(n,t){sv(n,t),(n=n.alternate)&&sv(n,t)}function HA(){return null}var bE=typeof reportError=="function"?reportError:function(n){console.error(n)};function ym(n){this._internalRoot=n}kc.prototype.render=ym.prototype.render=function(n){var t=this._internalRoot;if(t===null)throw Error(x(409));Cc(n,t,null,null)};kc.prototype.unmount=ym.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var t=n.containerInfo;Ti(function(){Cc(null,n,null,null)}),t[Jn]=null}};function kc(n){this._internalRoot=n}kc.prototype.unstable_scheduleHydration=function(n){if(n){var t=a1();n={blockedOn:null,target:n,priority:t};for(var r=0;r<mr.length&&t!==0&&t<mr[r].priority;r++);mr.splice(r,0,n),r===0&&u1(n)}};function vm(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function Ac(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11&&(n.nodeType!==8||n.nodeValue!==" react-mount-point-unstable "))}function ov(){}function WA(n,t,r,i,s){if(s){if(typeof i=="function"){var o=i;i=function(){var c=$u(a);o.call(c)}}var a=NE(t,i,n,0,null,!1,!1,"",ov);return n._reactRootContainer=a,n[Jn]=a.current,sa(n.nodeType===8?n.parentNode:n),Ti(),a}for(;s=n.lastChild;)n.removeChild(s);if(typeof i=="function"){var l=i;i=function(){var c=$u(u);l.call(c)}}var u=mm(n,0,!1,null,null,!1,!1,"",ov);return n._reactRootContainer=u,n[Jn]=u.current,sa(n.nodeType===8?n.parentNode:n),Ti(function(){Cc(t,u,r,i)}),u}function Rc(n,t,r,i,s){var o=r._reactRootContainer;if(o){var a=o;if(typeof s=="function"){var l=s;s=function(){var u=$u(a);l.call(u)}}Cc(t,a,n,s)}else a=WA(r,t,n,s,i);return $u(a)}s1=function(n){switch(n.tag){case 3:var t=n.stateNode;if(t.current.memoizedState.isDehydrated){var r=To(t.pendingLanes);r!==0&&(Lp(t,r|1),Mt(t,Ue()),!(oe&6)&&(Rs=Ue()+500,Qr()))}break;case 13:Ti(function(){var i=Zn(n,1);if(i!==null){var s=Rt();mn(i,n,1,s)}}),gm(n,1)}};Fp=function(n){if(n.tag===13){var t=Zn(n,134217728);if(t!==null){var r=Rt();mn(t,n,134217728,r)}gm(n,134217728)}};o1=function(n){if(n.tag===13){var t=Dr(n),r=Zn(n,t);if(r!==null){var i=Rt();mn(r,n,t,i)}gm(n,t)}};a1=function(){return pe};l1=function(n,t){var r=pe;try{return pe=n,t()}finally{pe=r}};qh=function(n,t,r){switch(t){case"input":if(Uh(n,r),t=r.name,r.type==="radio"&&t!=null){for(r=n;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var i=r[t];if(i!==n&&i.form===n.form){var s=vc(i);if(!s)throw Error(x(90));Uw(i),Uh(i,s)}}}break;case"textarea":jw(n,r);break;case"select":t=r.value,t!=null&&us(n,!!r.multiple,t,!1)}};Gw=dm;Qw=Ti;var qA={usingClientEntryPoint:!1,Events:[Oa,Ji,vc,qw,Kw,dm]},ho={findFiberByHostInstance:ri,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},KA={bundleType:ho.bundleType,version:ho.version,rendererPackageName:ho.rendererPackageName,rendererConfig:ho.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:or.ReactCurrentDispatcher,findHostInstanceByFiber:function(n){return n=Jw(n),n===null?null:n.stateNode},findFiberByHostInstance:ho.findFiberByHostInstance||HA,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Rl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Rl.isDisabled&&Rl.supportsFiber)try{pc=Rl.inject(KA),Rn=Rl}catch{}}qt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=qA;qt.createPortal=function(n,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!vm(t))throw Error(x(200));return BA(n,t,null,r)};qt.createRoot=function(n,t){if(!vm(n))throw Error(x(299));var r=!1,i="",s=bE;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(i=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=mm(n,1,!1,null,null,r,!1,i,s),n[Jn]=t.current,sa(n.nodeType===8?n.parentNode:n),new ym(t)};qt.findDOMNode=function(n){if(n==null)return null;if(n.nodeType===1)return n;var t=n._reactInternals;if(t===void 0)throw typeof n.render=="function"?Error(x(188)):(n=Object.keys(n).join(","),Error(x(268,n)));return n=Jw(t),n=n===null?null:n.stateNode,n};qt.flushSync=function(n){return Ti(n)};qt.hydrate=function(n,t,r){if(!Ac(t))throw Error(x(200));return Rc(null,n,t,!0,r)};qt.hydrateRoot=function(n,t,r){if(!vm(n))throw Error(x(405));var i=r!=null&&r.hydratedSources||null,s=!1,o="",a=bE;if(r!=null&&(r.unstable_strictMode===!0&&(s=!0),r.identifierPrefix!==void 0&&(o=r.identifierPrefix),r.onRecoverableError!==void 0&&(a=r.onRecoverableError)),t=NE(t,null,n,1,r??null,s,!1,o,a),n[Jn]=t.current,sa(n),i)for(n=0;n<i.length;n++)r=i[n],s=r._getVersion,s=s(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,s]:t.mutableSourceEagerHydrationData.push(r,s);return new kc(t)};qt.render=function(n,t,r){if(!Ac(t))throw Error(x(200));return Rc(null,n,t,!1,r)};qt.unmountComponentAtNode=function(n){if(!Ac(n))throw Error(x(40));return n._reactRootContainer?(Ti(function(){Rc(null,null,n,!1,function(){n._reactRootContainer=null,n[Jn]=null})}),!0):!1};qt.unstable_batchedUpdates=dm;qt.unstable_renderSubtreeIntoContainer=function(n,t,r,i){if(!Ac(r))throw Error(x(200));if(n==null||n._reactInternals===void 0)throw Error(x(38));return Rc(n,t,r,!1,i)};qt.version="18.2.0-next-9e3b772b8-20220608";function DE(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(DE)}catch(n){console.error(n)}}DE(),Nw.exports=qt;var wm=Nw.exports,av=wm;Dh.createRoot=av.createRoot,Dh.hydrateRoot=av.hydrateRoot;/**
 * @remix-run/router v1.6.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function le(){return le=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(n[i]=r[i])}return n},le.apply(this,arguments)}var je;(function(n){n.Pop="POP",n.Push="PUSH",n.Replace="REPLACE"})(je||(je={}));const lv="popstate";function GA(n){n===void 0&&(n={});function t(i,s){let{pathname:o,search:a,hash:l}=i.location;return pa("",{pathname:o,search:a,hash:l},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function r(i,s){return typeof s=="string"?s:La(s)}return YA(t,r,null,n)}function ie(n,t){if(n===!1||n===null||typeof n>"u")throw new Error(t)}function xs(n,t){if(!n){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function QA(){return Math.random().toString(36).substr(2,8)}function uv(n,t){return{usr:n.state,key:n.key,idx:t}}function pa(n,t,r,i){return r===void 0&&(r=null),le({pathname:typeof n=="string"?n:n.pathname,search:"",hash:""},typeof t=="string"?ar(t):t,{state:r,key:t&&t.key||i||QA()})}function La(n){let{pathname:t="/",search:r="",hash:i=""}=n;return r&&r!=="?"&&(t+=r.charAt(0)==="?"?r:"?"+r),i&&i!=="#"&&(t+=i.charAt(0)==="#"?i:"#"+i),t}function ar(n){let t={};if(n){let r=n.indexOf("#");r>=0&&(t.hash=n.substr(r),n=n.substr(0,r));let i=n.indexOf("?");i>=0&&(t.search=n.substr(i),n=n.substr(0,i)),n&&(t.pathname=n)}return t}function YA(n,t,r,i){i===void 0&&(i={});let{window:s=document.defaultView,v5Compat:o=!1}=i,a=s.history,l=je.Pop,u=null,c=d();c==null&&(c=0,a.replaceState(le({},a.state,{idx:c}),""));function d(){return(a.state||{idx:null}).idx}function h(){l=je.Pop;let I=d(),y=I==null?null:I-c;c=I,u&&u({action:l,location:S.location,delta:y})}function f(I,y){l=je.Push;let p=pa(S.location,I,y);r&&r(p,I),c=d()+1;let v=uv(p,c),g=S.createHref(p);try{a.pushState(v,"",g)}catch(C){if(C instanceof DOMException&&C.name==="DataCloneError")throw C;s.location.assign(g)}o&&u&&u({action:l,location:S.location,delta:1})}function m(I,y){l=je.Replace;let p=pa(S.location,I,y);r&&r(p,I),c=d();let v=uv(p,c),g=S.createHref(p);a.replaceState(v,"",g),o&&u&&u({action:l,location:S.location,delta:0})}function E(I){let y=s.location.origin!=="null"?s.location.origin:s.location.href,p=typeof I=="string"?I:La(I);return ie(y,"No window.location.(origin|href) available to create URL for href: "+p),new URL(p,y)}let S={get action(){return l},get location(){return n(s,a)},listen(I){if(u)throw new Error("A history only accepts one active listener");return s.addEventListener(lv,h),u=I,()=>{s.removeEventListener(lv,h),u=null}},createHref(I){return t(s,I)},createURL:E,encodeLocation(I){let y=E(I);return{pathname:y.pathname,search:y.search,hash:y.hash}},push:f,replace:m,go(I){return a.go(I)}};return S}var qe;(function(n){n.data="data",n.deferred="deferred",n.redirect="redirect",n.error="error"})(qe||(qe={}));const XA=new Set(["lazy","caseSensitive","path","id","index","children"]);function JA(n){return n.index===!0}function kf(n,t,r,i){return r===void 0&&(r=[]),i===void 0&&(i={}),n.map((s,o)=>{let a=[...r,o],l=typeof s.id=="string"?s.id:a.join("-");if(ie(s.index!==!0||!s.children,"Cannot specify children on an index route"),ie(!i[l],'Found a route id collision on id "'+l+`".  Route id's must be globally unique within Data Router usages`),JA(s)){let u=le({},s,t(s),{id:l});return i[l]=u,u}else{let u=le({},s,t(s),{id:l,children:void 0});return i[l]=u,s.children&&(u.children=kf(s.children,t,a,i)),u}})}function ss(n,t,r){r===void 0&&(r="/");let i=typeof t=="string"?ar(t):t,s=Fa(i.pathname||"/",r);if(s==null)return null;let o=PE(n);ZA(o);let a=null;for(let l=0;a==null&&l<o.length;++l)a=lR(o[l],dR(s));return a}function PE(n,t,r,i){t===void 0&&(t=[]),r===void 0&&(r=[]),i===void 0&&(i="");let s=(o,a,l)=>{let u={relativePath:l===void 0?o.path||"":l,caseSensitive:o.caseSensitive===!0,childrenIndex:a,route:o};u.relativePath.startsWith("/")&&(ie(u.relativePath.startsWith(i),'Absolute route path "'+u.relativePath+'" nested under path '+('"'+i+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),u.relativePath=u.relativePath.slice(i.length));let c=$r([i,u.relativePath]),d=r.concat(u);o.children&&o.children.length>0&&(ie(o.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),PE(o.children,t,d,c)),!(o.path==null&&!o.index)&&t.push({path:c,score:oR(c,o.index),routesMeta:d})};return n.forEach((o,a)=>{var l;if(o.path===""||!((l=o.path)!=null&&l.includes("?")))s(o,a);else for(let u of $E(o.path))s(o,a,u)}),t}function $E(n){let t=n.split("/");if(t.length===0)return[];let[r,...i]=t,s=r.endsWith("?"),o=r.replace(/\?$/,"");if(i.length===0)return s?[o,""]:[o];let a=$E(i.join("/")),l=[];return l.push(...a.map(u=>u===""?o:[o,u].join("/"))),s&&l.push(...a),l.map(u=>n.startsWith("/")&&u===""?"/":u)}function ZA(n){n.sort((t,r)=>t.score!==r.score?r.score-t.score:aR(t.routesMeta.map(i=>i.childrenIndex),r.routesMeta.map(i=>i.childrenIndex)))}const eR=/^:\w+$/,tR=3,nR=2,rR=1,iR=10,sR=-2,cv=n=>n==="*";function oR(n,t){let r=n.split("/"),i=r.length;return r.some(cv)&&(i+=sR),t&&(i+=nR),r.filter(s=>!cv(s)).reduce((s,o)=>s+(eR.test(o)?tR:o===""?rR:iR),i)}function aR(n,t){return n.length===t.length&&n.slice(0,-1).every((i,s)=>i===t[s])?n[n.length-1]-t[t.length-1]:0}function lR(n,t){let{routesMeta:r}=n,i={},s="/",o=[];for(let a=0;a<r.length;++a){let l=r[a],u=a===r.length-1,c=s==="/"?t:t.slice(s.length)||"/",d=uR({path:l.relativePath,caseSensitive:l.caseSensitive,end:u},c);if(!d)return null;Object.assign(i,d.params);let h=l.route;o.push({params:i,pathname:$r([s,d.pathname]),pathnameBase:mR($r([s,d.pathnameBase])),route:h}),d.pathnameBase!=="/"&&(s=$r([s,d.pathnameBase]))}return o}function uR(n,t){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[r,i]=cR(n.path,n.caseSensitive,n.end),s=t.match(r);if(!s)return null;let o=s[0],a=o.replace(/(.)\/+$/,"$1"),l=s.slice(1);return{params:i.reduce((c,d,h)=>{if(d==="*"){let f=l[h]||"";a=o.slice(0,o.length-f.length).replace(/(.)\/+$/,"$1")}return c[d]=hR(l[h]||"",d),c},{}),pathname:o,pathnameBase:a,pattern:n}}function cR(n,t,r){t===void 0&&(t=!1),r===void 0&&(r=!0),xs(n==="*"||!n.endsWith("*")||n.endsWith("/*"),'Route path "'+n+'" will be treated as if it were '+('"'+n.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+n.replace(/\*$/,"/*")+'".'));let i=[],s="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/\/:(\w+)/g,(a,l)=>(i.push(l),"/([^\\/]+)"));return n.endsWith("*")?(i.push("*"),s+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?s+="\\/*$":n!==""&&n!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,t?void 0:"i"),i]}function dR(n){try{return decodeURI(n)}catch(t){return xs(!1,'The URL path "'+n+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),n}}function hR(n,t){try{return decodeURIComponent(n)}catch(r){return xs(!1,'The value for the URL param "'+t+'" will not be decoded because'+(' the string "'+n+'" is a malformed URL segment. This is probably')+(" due to a bad percent encoding ("+r+").")),n}}function Fa(n,t){if(t==="/")return n;if(!n.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,i=n.charAt(r);return i&&i!=="/"?null:n.slice(r)||"/"}function fR(n,t){t===void 0&&(t="/");let{pathname:r,search:i="",hash:s=""}=typeof n=="string"?ar(n):n;return{pathname:r?r.startsWith("/")?r:pR(r,t):t,search:gR(i),hash:yR(s)}}function pR(n,t){let r=t.replace(/\/+$/,"").split("/");return n.split("/").forEach(s=>{s===".."?r.length>1&&r.pop():s!=="."&&r.push(s)}),r.length>1?r.join("/"):"/"}function Yd(n,t,r,i){return"Cannot include a '"+n+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(i)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Em(n){return n.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function OE(n,t,r,i){i===void 0&&(i=!1);let s;typeof n=="string"?s=ar(n):(s=le({},n),ie(!s.pathname||!s.pathname.includes("?"),Yd("?","pathname","search",s)),ie(!s.pathname||!s.pathname.includes("#"),Yd("#","pathname","hash",s)),ie(!s.search||!s.search.includes("#"),Yd("#","search","hash",s)));let o=n===""||s.pathname==="",a=o?"/":s.pathname,l;if(i||a==null)l=r;else{let h=t.length-1;if(a.startsWith("..")){let f=a.split("/");for(;f[0]==="..";)f.shift(),h-=1;s.pathname=f.join("/")}l=h>=0?t[h]:"/"}let u=fR(s,l),c=a&&a!=="/"&&a.endsWith("/"),d=(o||a===".")&&r.endsWith("/");return!u.pathname.endsWith("/")&&(c||d)&&(u.pathname+="/"),u}const $r=n=>n.join("/").replace(/\/\/+/g,"/"),mR=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),gR=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,yR=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n,ME=function(t,r){r===void 0&&(r=302);let i=r;typeof i=="number"?i={status:i}:typeof i.status>"u"&&(i.status=302);let s=new Headers(i.headers);return s.set("Location",t),new Response(null,le({},i,{headers:s}))};class Sm{constructor(t,r,i,s){s===void 0&&(s=!1),this.status=t,this.statusText=r||"",this.internal=s,i instanceof Error?(this.data=i.toString(),this.error=i):this.data=i}}function LE(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}const FE=["post","put","patch","delete"],vR=new Set(FE),wR=["get",...FE],ER=new Set(wR),SR=new Set([301,302,303,307,308]),IR=new Set([307,308]),Xd={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0},TR={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0},dv={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},UE=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,_R=n=>({hasErrorBoundary:!!n.hasErrorBoundary});function CR(n){const t=n.window?n.window:typeof window<"u"?window:void 0,r=typeof t<"u"&&typeof t.document<"u"&&typeof t.document.createElement<"u",i=!r;ie(n.routes.length>0,"You must provide a non-empty routes array to createRouter");let s;if(n.mapRouteProperties)s=n.mapRouteProperties;else if(n.detectErrorBoundary){let T=n.detectErrorBoundary;s=_=>({hasErrorBoundary:T(_)})}else s=_R;let o={},a=kf(n.routes,s,void 0,o),l,u=n.basename||"/",c=le({v7_normalizeFormMethod:!1,v7_prependBasename:!1},n.future),d=null,h=new Set,f=null,m=null,E=null,S=n.hydrationData!=null,I=ss(a,n.history.location,u),y=null;if(I==null){let T=dn(404,{pathname:n.history.location.pathname}),{matches:_,route:A}=vv(a);I=_,y={[A.id]:T}}let p=!I.some(T=>T.route.lazy)&&(!I.some(T=>T.route.loader)||n.hydrationData!=null),v,g={historyAction:n.history.action,location:n.history.location,matches:I,initialized:p,navigation:Xd,restoreScrollPosition:n.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:n.hydrationData&&n.hydrationData.loaderData||{},actionData:n.hydrationData&&n.hydrationData.actionData||null,errors:n.hydrationData&&n.hydrationData.errors||y,fetchers:new Map,blockers:new Map},C=je.Pop,b=!1,R,$=!1,G=!1,H=[],Re=[],fe=new Map,_t=0,an=-1,Ct=new Map,ut=new Set,ct=new Map,D=new Map,U=new Map,z=!1;function de(){return d=n.history.listen(T=>{let{action:_,location:A,delta:P}=T;if(z){z=!1;return}xs(U.size===0||P!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let W=Yg({currentLocation:g.location,nextLocation:A,historyAction:_});if(W&&P!=null){z=!0,n.history.go(P*-1),ll(W,{state:"blocked",location:A,proceed(){ll(W,{state:"proceeding",proceed:void 0,reset:void 0,location:A}),n.history.go(P)},reset(){no(W),ve({blockers:new Map(v.state.blockers)})}});return}return Ft(_,A)}),g.initialized||Ft(je.Pop,g.location),v}function re(){d&&d(),h.clear(),R&&R.abort(),g.fetchers.forEach((T,_)=>yd(_)),g.blockers.forEach((T,_)=>no(_))}function Ln(T){return h.add(T),()=>h.delete(T)}function ve(T){g=le({},g,T),h.forEach(_=>_(g))}function he(T,_){var A,P;let W=g.actionData!=null&&g.navigation.formMethod!=null&&Vn(g.navigation.formMethod)&&g.navigation.state==="loading"&&((A=T.state)==null?void 0:A._isRedirect)!==!0,Q;_.actionData?Object.keys(_.actionData).length>0?Q=_.actionData:Q=null:W?Q=g.actionData:Q=null;let Y=_.loaderData?yv(g.loaderData,_.loaderData,_.matches||[],_.errors):g.loaderData;for(let[V]of U)no(V);let X=b===!0||g.navigation.formMethod!=null&&Vn(g.navigation.formMethod)&&((P=T.state)==null?void 0:P._isRedirect)!==!0;l&&(a=l,l=void 0),ve(le({},_,{actionData:Q,loaderData:Y,historyAction:C,location:T,initialized:!0,navigation:Xd,revalidation:"idle",restoreScrollPosition:Xg(T,_.matches||g.matches),preventScrollReset:X,blockers:new Map(g.blockers)})),$||C===je.Pop||(C===je.Push?n.history.push(T,T.state):C===je.Replace&&n.history.replace(T,T.state)),C=je.Pop,b=!1,$=!1,G=!1,H=[],Re=[]}async function xe(T,_){if(typeof T=="number"){n.history.go(T);return}let A=Af(g.location,g.matches,u,c.v7_prependBasename,T,_==null?void 0:_.fromRouteId,_==null?void 0:_.relative),{path:P,submission:W,error:Q}=hv(c.v7_normalizeFormMethod,!1,A,_),Y=g.location,X=pa(g.location,P,_&&_.state);X=le({},X,n.history.encodeLocation(X));let V=_&&_.replace!=null?_.replace:void 0,ae=je.Push;V===!0?ae=je.Replace:V===!1||W!=null&&Vn(W.formMethod)&&W.formAction===g.location.pathname+g.location.search&&(ae=je.Replace);let ge=_&&"preventScrollReset"in _?_.preventScrollReset===!0:void 0,dt=Yg({currentLocation:Y,nextLocation:X,historyAction:ae});if(dt){ll(dt,{state:"blocked",location:X,proceed(){ll(dt,{state:"proceeding",proceed:void 0,reset:void 0,location:X}),xe(T,_)},reset(){no(dt),ve({blockers:new Map(g.blockers)})}});return}return await Ft(ae,X,{submission:W,pendingError:Q,preventScrollReset:ge,replace:_&&_.replace})}function Ee(){if(md(),ve({revalidation:"loading"}),g.navigation.state!=="submitting"){if(g.navigation.state==="idle"){Ft(g.historyAction,g.location,{startUninterruptedRevalidation:!0});return}Ft(C||g.historyAction,g.navigation.location,{overrideNavigation:g.navigation})}}async function Ft(T,_,A){R&&R.abort(),R=null,C=T,$=(A&&A.startUninterruptedRevalidation)===!0,EC(g.location,g.matches),b=(A&&A.preventScrollReset)===!0;let P=l||a,W=A&&A.overrideNavigation,Q=ss(P,_,u);if(!Q){let Qe=dn(404,{pathname:_.pathname}),{matches:tt,route:In}=vv(P);vd(),he(_,{matches:tt,loaderData:{},errors:{[In.id]:Qe}});return}if(g.initialized&&!G&&NR(g.location,_)&&!(A&&A.submission&&Vn(A.submission.formMethod))){he(_,{matches:Q});return}R=new AbortController;let Y=po(n.history,_,R.signal,A&&A.submission),X,V;if(A&&A.pendingError)V={[os(Q).route.id]:A.pendingError};else if(A&&A.submission&&Vn(A.submission.formMethod)){let Qe=await fC(Y,_,A.submission,Q,{replace:A.replace});if(Qe.shortCircuited)return;X=Qe.pendingActionData,V=Qe.pendingActionError,W=le({state:"loading",location:_},A.submission),Y=new Request(Y.url,{signal:Y.signal})}let{shortCircuited:ae,loaderData:ge,errors:dt}=await pC(Y,_,Q,W,A&&A.submission,A&&A.fetcherSubmission,A&&A.replace,X,V);ae||(R=null,he(_,le({matches:Q},X?{actionData:X}:{},{loaderData:ge,errors:dt})))}async function fC(T,_,A,P,W){md();let Q=le({state:"submitting",location:_},A);ve({navigation:Q});let Y,X=Rf(P,_);if(!X.route.action&&!X.route.lazy)Y={type:qe.error,error:dn(405,{method:T.method,pathname:_.pathname,routeId:X.route.id})};else if(Y=await fo("action",T,X,P,o,s,u),T.signal.aborted)return{shortCircuited:!0};if(ms(Y)){let V;return W&&W.replace!=null?V=W.replace:V=Y.location===g.location.pathname+g.location.search,await to(g,Y,{submission:A,replace:V}),{shortCircuited:!0}}if(zo(Y)){let V=os(P,X.route.id);return(W&&W.replace)!==!0&&(C=je.Push),{pendingActionData:{},pendingActionError:{[V.route.id]:Y.error}}}if(oi(Y))throw dn(400,{type:"defer-action"});return{pendingActionData:{[X.route.id]:Y.data}}}async function pC(T,_,A,P,W,Q,Y,X,V){let ae=P;ae||(ae=le({state:"loading",location:_,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0},W));let ge=W||Q?W||Q:ae.formMethod&&ae.formAction&&ae.formData&&ae.formEncType?{formMethod:ae.formMethod,formAction:ae.formAction,formData:ae.formData,formEncType:ae.formEncType}:void 0,dt=l||a,[Qe,tt]=fv(n.history,g,A,ge,_,G,H,Re,ct,dt,u,X,V);if(vd(Ne=>!(A&&A.some(Gt=>Gt.route.id===Ne))||Qe&&Qe.some(Gt=>Gt.route.id===Ne)),Qe.length===0&&tt.length===0){let Ne=Gg();return he(_,le({matches:A,loaderData:{},errors:V||null},X?{actionData:X}:{},Ne?{fetchers:new Map(g.fetchers)}:{})),{shortCircuited:!0}}if(!$){tt.forEach(Gt=>{let zi=g.fetchers.get(Gt.key),nt={state:"loading",data:zi&&zi.data,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0," _hasFetcherDoneAnything ":!0};g.fetchers.set(Gt.key,nt)});let Ne=X||g.actionData;ve(le({navigation:ae},Ne?Object.keys(Ne).length===0?{actionData:null}:{actionData:Ne}:{},tt.length>0?{fetchers:new Map(g.fetchers)}:{}))}an=++_t,tt.forEach(Ne=>{Ne.controller&&fe.set(Ne.key,Ne.controller)});let In=()=>tt.forEach(Ne=>ji(Ne.key));R&&R.signal.addEventListener("abort",In);let{results:ro,loaderResults:wd,fetcherResults:ul}=await qg(g.matches,A,Qe,tt,T);if(T.signal.aborted)return{shortCircuited:!0};R&&R.signal.removeEventListener("abort",In),tt.forEach(Ne=>fe.delete(Ne.key));let Fn=wv(ro);if(Fn)return await to(g,Fn,{replace:Y}),{shortCircuited:!0};let{loaderData:cl,errors:Ed}=gv(g,A,Qe,wd,V,tt,ul,D);D.forEach((Ne,Gt)=>{Ne.subscribe(zi=>{(zi||Ne.done)&&D.delete(Gt)})});let Sd=Gg(),Id=Qg(an),dl=Sd||Id||tt.length>0;return le({loaderData:cl,errors:Ed},dl?{fetchers:new Map(g.fetchers)}:{})}function Wg(T){return g.fetchers.get(T)||TR}function mC(T,_,A,P){if(i)throw new Error("router.fetch() was called during the server render, but it shouldn't be. You are likely calling a useFetcher() method in the body of your component. Try moving it to a useEffect or a callback.");fe.has(T)&&ji(T);let W=l||a,Q=Af(g.location,g.matches,u,c.v7_prependBasename,A,_,P==null?void 0:P.relative),Y=ss(W,Q,u);if(!Y){gd(T,_,dn(404,{pathname:Q}));return}let{path:X,submission:V}=hv(c.v7_normalizeFormMethod,!0,Q,P),ae=Rf(Y,X);if(b=(P&&P.preventScrollReset)===!0,V&&Vn(V.formMethod)){gC(T,_,X,ae,Y,V);return}ct.set(T,{routeId:_,path:X}),yC(T,_,X,ae,Y,V)}async function gC(T,_,A,P,W,Q){if(md(),ct.delete(T),!P.route.action&&!P.route.lazy){let nt=dn(405,{method:Q.formMethod,pathname:A,routeId:_});gd(T,_,nt);return}let Y=g.fetchers.get(T),X=le({state:"submitting"},Q,{data:Y&&Y.data," _hasFetcherDoneAnything ":!0});g.fetchers.set(T,X),ve({fetchers:new Map(g.fetchers)});let V=new AbortController,ae=po(n.history,A,V.signal,Q);fe.set(T,V);let ge=await fo("action",ae,P,W,o,s,u);if(ae.signal.aborted){fe.get(T)===V&&fe.delete(T);return}if(ms(ge)){fe.delete(T),ut.add(T);let nt=le({state:"loading"},Q,{data:void 0," _hasFetcherDoneAnything ":!0});return g.fetchers.set(T,nt),ve({fetchers:new Map(g.fetchers)}),to(g,ge,{submission:Q,isFetchActionRedirect:!0})}if(zo(ge)){gd(T,_,ge.error);return}if(oi(ge))throw dn(400,{type:"defer-action"});let dt=g.navigation.location||g.location,Qe=po(n.history,dt,V.signal),tt=l||a,In=g.navigation.state!=="idle"?ss(tt,g.navigation.location,u):g.matches;ie(In,"Didn't find any matches after fetcher action");let ro=++_t;Ct.set(T,ro);let wd=le({state:"loading",data:ge.data},Q,{" _hasFetcherDoneAnything ":!0});g.fetchers.set(T,wd);let[ul,Fn]=fv(n.history,g,In,Q,dt,G,H,Re,ct,tt,u,{[P.route.id]:ge.data},void 0);Fn.filter(nt=>nt.key!==T).forEach(nt=>{let Td=nt.key,Jg=g.fetchers.get(Td),IC={state:"loading",data:Jg&&Jg.data,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0," _hasFetcherDoneAnything ":!0};g.fetchers.set(Td,IC),nt.controller&&fe.set(Td,nt.controller)}),ve({fetchers:new Map(g.fetchers)});let cl=()=>Fn.forEach(nt=>ji(nt.key));V.signal.addEventListener("abort",cl);let{results:Ed,loaderResults:Sd,fetcherResults:Id}=await qg(g.matches,In,ul,Fn,Qe);if(V.signal.aborted)return;V.signal.removeEventListener("abort",cl),Ct.delete(T),fe.delete(T),Fn.forEach(nt=>fe.delete(nt.key));let dl=wv(Ed);if(dl)return to(g,dl);let{loaderData:Ne,errors:Gt}=gv(g,g.matches,ul,Sd,void 0,Fn,Id,D);if(g.fetchers.has(T)){let nt={state:"idle",data:ge.data,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0," _hasFetcherDoneAnything ":!0};g.fetchers.set(T,nt)}let zi=Qg(ro);g.navigation.state==="loading"&&ro>an?(ie(C,"Expected pending action"),R&&R.abort(),he(g.navigation.location,{matches:In,loaderData:Ne,errors:Gt,fetchers:new Map(g.fetchers)})):(ve(le({errors:Gt,loaderData:yv(g.loaderData,Ne,In,Gt)},zi||Fn.length>0?{fetchers:new Map(g.fetchers)}:{})),G=!1)}async function yC(T,_,A,P,W,Q){let Y=g.fetchers.get(T),X=le({state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0},Q,{data:Y&&Y.data," _hasFetcherDoneAnything ":!0});g.fetchers.set(T,X),ve({fetchers:new Map(g.fetchers)});let V=new AbortController,ae=po(n.history,A,V.signal);fe.set(T,V);let ge=await fo("loader",ae,P,W,o,s,u);if(oi(ge)&&(ge=await BE(ge,ae.signal,!0)||ge),fe.get(T)===V&&fe.delete(T),ae.signal.aborted)return;if(ms(ge)){ut.add(T),await to(g,ge);return}if(zo(ge)){let Qe=os(g.matches,_);g.fetchers.delete(T),ve({fetchers:new Map(g.fetchers),errors:{[Qe.route.id]:ge.error}});return}ie(!oi(ge),"Unhandled fetcher deferred data");let dt={state:"idle",data:ge.data,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0," _hasFetcherDoneAnything ":!0};g.fetchers.set(T,dt),ve({fetchers:new Map(g.fetchers)})}async function to(T,_,A){let{submission:P,replace:W,isFetchActionRedirect:Q}=A===void 0?{}:A;_.revalidate&&(G=!0);let Y=pa(T.location,_.location,le({_isRedirect:!0},Q?{_isFetchActionRedirect:!0}:{}));if(ie(Y,"Expected a location on the redirect navigation"),UE.test(_.location)&&r){let Qe=n.history.createURL(_.location),tt=Fa(Qe.pathname,u)==null;if(t.location.origin!==Qe.origin||tt){W?t.location.replace(_.location):t.location.assign(_.location);return}}R=null;let X=W===!0?je.Replace:je.Push,{formMethod:V,formAction:ae,formEncType:ge,formData:dt}=T.navigation;!P&&V&&ae&&dt&&ge&&(P={formMethod:V,formAction:ae,formEncType:ge,formData:dt}),IR.has(_.status)&&P&&Vn(P.formMethod)?await Ft(X,Y,{submission:le({},P,{formAction:_.location}),preventScrollReset:b}):Q?await Ft(X,Y,{overrideNavigation:{state:"loading",location:Y,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0},fetcherSubmission:P,preventScrollReset:b}):await Ft(X,Y,{overrideNavigation:{state:"loading",location:Y,formMethod:P?P.formMethod:void 0,formAction:P?P.formAction:void 0,formEncType:P?P.formEncType:void 0,formData:P?P.formData:void 0},preventScrollReset:b})}async function qg(T,_,A,P,W){let Q=await Promise.all([...A.map(V=>fo("loader",W,V,_,o,s,u)),...P.map(V=>V.matches&&V.match&&V.controller?fo("loader",po(n.history,V.path,V.controller.signal),V.match,V.matches,o,s,u):{type:qe.error,error:dn(404,{pathname:V.path})})]),Y=Q.slice(0,A.length),X=Q.slice(A.length);return await Promise.all([Ev(T,A,Y,Y.map(()=>W.signal),!1,g.loaderData),Ev(T,P.map(V=>V.match),X,P.map(V=>V.controller?V.controller.signal:null),!0)]),{results:Q,loaderResults:Y,fetcherResults:X}}function md(){G=!0,H.push(...vd()),ct.forEach((T,_)=>{fe.has(_)&&(Re.push(_),ji(_))})}function gd(T,_,A){let P=os(g.matches,_);yd(T),ve({errors:{[P.route.id]:A},fetchers:new Map(g.fetchers)})}function yd(T){let _=g.fetchers.get(T);fe.has(T)&&!(_&&_.state==="loading"&&Ct.has(T))&&ji(T),ct.delete(T),Ct.delete(T),ut.delete(T),g.fetchers.delete(T)}function ji(T){let _=fe.get(T);ie(_,"Expected fetch controller: "+T),_.abort(),fe.delete(T)}function Kg(T){for(let _ of T){let P={state:"idle",data:Wg(_).data,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0," _hasFetcherDoneAnything ":!0};g.fetchers.set(_,P)}}function Gg(){let T=[],_=!1;for(let A of ut){let P=g.fetchers.get(A);ie(P,"Expected fetcher: "+A),P.state==="loading"&&(ut.delete(A),T.push(A),_=!0)}return Kg(T),_}function Qg(T){let _=[];for(let[A,P]of Ct)if(P<T){let W=g.fetchers.get(A);ie(W,"Expected fetcher: "+A),W.state==="loading"&&(ji(A),Ct.delete(A),_.push(A))}return Kg(_),_.length>0}function vC(T,_){let A=g.blockers.get(T)||dv;return U.get(T)!==_&&U.set(T,_),A}function no(T){g.blockers.delete(T),U.delete(T)}function ll(T,_){let A=g.blockers.get(T)||dv;ie(A.state==="unblocked"&&_.state==="blocked"||A.state==="blocked"&&_.state==="blocked"||A.state==="blocked"&&_.state==="proceeding"||A.state==="blocked"&&_.state==="unblocked"||A.state==="proceeding"&&_.state==="unblocked","Invalid blocker state transition: "+A.state+" -> "+_.state),g.blockers.set(T,_),ve({blockers:new Map(g.blockers)})}function Yg(T){let{currentLocation:_,nextLocation:A,historyAction:P}=T;if(U.size===0)return;U.size>1&&xs(!1,"A router only supports one blocker at a time");let W=Array.from(U.entries()),[Q,Y]=W[W.length-1],X=g.blockers.get(Q);if(!(X&&X.state==="proceeding")&&Y({currentLocation:_,nextLocation:A,historyAction:P}))return Q}function vd(T){let _=[];return D.forEach((A,P)=>{(!T||T(P))&&(A.cancel(),_.push(P),D.delete(P))}),_}function wC(T,_,A){if(f=T,E=_,m=A||(P=>P.key),!S&&g.navigation===Xd){S=!0;let P=Xg(g.location,g.matches);P!=null&&ve({restoreScrollPosition:P})}return()=>{f=null,E=null,m=null}}function EC(T,_){if(f&&m&&E){let A=_.map(W=>Sv(W,g.loaderData)),P=m(T,A)||T.key;f[P]=E()}}function Xg(T,_){if(f&&m&&E){let A=_.map(Q=>Sv(Q,g.loaderData)),P=m(T,A)||T.key,W=f[P];if(typeof W=="number")return W}return null}function SC(T){o={},l=kf(T,s,void 0,o)}return v={get basename(){return u},get state(){return g},get routes(){return a},initialize:de,subscribe:Ln,enableScrollRestoration:wC,navigate:xe,fetch:mC,revalidate:Ee,createHref:T=>n.history.createHref(T),encodeLocation:T=>n.history.encodeLocation(T),getFetcher:Wg,deleteFetcher:yd,dispose:re,getBlocker:vC,deleteBlocker:no,_internalFetchControllers:fe,_internalActiveDeferreds:D,_internalSetRoutes:SC},v}function kR(n){return n!=null&&"formData"in n}function Af(n,t,r,i,s,o,a){let l,u;if(o!=null&&a!=="path"){l=[];for(let d of t)if(l.push(d),d.route.id===o){u=d;break}}else l=t,u=t[t.length-1];let c=OE(s||".",Em(l).map(d=>d.pathnameBase),Fa(n.pathname,r)||n.pathname,a==="path");return s==null&&(c.search=n.search,c.hash=n.hash),(s==null||s===""||s===".")&&u&&u.route.index&&!Im(c.search)&&(c.search=c.search?c.search.replace(/^\?/,"?index&"):"?index"),i&&r!=="/"&&(c.pathname=c.pathname==="/"?r:$r([r,c.pathname])),La(c)}function hv(n,t,r,i){if(!i||!kR(i))return{path:r};if(i.formMethod&&!PR(i.formMethod))return{path:r,error:dn(405,{method:i.formMethod})};let s;if(i.formData){let l=i.formMethod||"get";if(s={formMethod:n?l.toUpperCase():l.toLowerCase(),formAction:zE(r),formEncType:i&&i.formEncType||"application/x-www-form-urlencoded",formData:i.formData},Vn(s.formMethod))return{path:r,submission:s}}let o=ar(r),a=jE(i.formData);return t&&o.search&&Im(o.search)&&a.append("index",""),o.search="?"+a,{path:La(o),submission:s}}function AR(n,t){let r=n;if(t){let i=n.findIndex(s=>s.route.id===t);i>=0&&(r=n.slice(0,i))}return r}function fv(n,t,r,i,s,o,a,l,u,c,d,h,f){let m=f?Object.values(f)[0]:h?Object.values(h)[0]:void 0,E=n.createURL(t.location),S=n.createURL(s),I=f?Object.keys(f)[0]:void 0,p=AR(r,I).filter((g,C)=>{if(g.route.lazy)return!0;if(g.route.loader==null)return!1;if(RR(t.loaderData,t.matches[C],g)||a.some($=>$===g.route.id))return!0;let b=t.matches[C],R=g;return pv(g,le({currentUrl:E,currentParams:b.params,nextUrl:S,nextParams:R.params},i,{actionResult:m,defaultShouldRevalidate:o||E.pathname+E.search===S.pathname+S.search||E.search!==S.search||VE(b,R)}))}),v=[];return u.forEach((g,C)=>{if(!r.some(G=>G.route.id===g.routeId))return;let b=ss(c,g.path,d);if(!b){v.push({key:C,routeId:g.routeId,path:g.path,matches:null,match:null,controller:null});return}let R=Rf(b,g.path);if(l.includes(C)){v.push({key:C,routeId:g.routeId,path:g.path,matches:b,match:R,controller:new AbortController});return}pv(R,le({currentUrl:E,currentParams:t.matches[t.matches.length-1].params,nextUrl:S,nextParams:r[r.length-1].params},i,{actionResult:m,defaultShouldRevalidate:o}))&&v.push({key:C,routeId:g.routeId,path:g.path,matches:b,match:R,controller:new AbortController})}),[p,v]}function RR(n,t,r){let i=!t||r.route.id!==t.route.id,s=n[r.route.id]===void 0;return i||s}function VE(n,t){let r=n.route.path;return n.pathname!==t.pathname||r!=null&&r.endsWith("*")&&n.params["*"]!==t.params["*"]}function pv(n,t){if(n.route.shouldRevalidate){let r=n.route.shouldRevalidate(t);if(typeof r=="boolean")return r}return t.defaultShouldRevalidate}async function mv(n,t,r){if(!n.lazy)return;let i=await n.lazy();if(!n.lazy)return;let s=r[n.id];ie(s,"No route found in manifest");let o={};for(let a in i){let u=s[a]!==void 0&&a!=="hasErrorBoundary";xs(!u,'Route "'+s.id+'" has a static property "'+a+'" defined but its lazy function is also returning a value for this property. '+('The lazy route property "'+a+'" will be ignored.')),!u&&!XA.has(a)&&(o[a]=i[a])}Object.assign(s,o),Object.assign(s,le({},t(s),{lazy:void 0}))}async function fo(n,t,r,i,s,o,a,l,u,c){l===void 0&&(l=!1),u===void 0&&(u=!1);let d,h,f,m=I=>{let y,p=new Promise((v,g)=>y=g);return f=()=>y(),t.signal.addEventListener("abort",f),Promise.race([I({request:t,params:r.params,context:c}),p])};try{let I=r.route[n];if(r.route.lazy)if(I)h=(await Promise.all([m(I),mv(r.route,o,s)]))[0];else if(await mv(r.route,o,s),I=r.route[n],I)h=await m(I);else if(n==="action"){let y=new URL(t.url),p=y.pathname+y.search;throw dn(405,{method:t.method,pathname:p,routeId:r.route.id})}else return{type:qe.data,data:void 0};else if(I)h=await m(I);else{let y=new URL(t.url),p=y.pathname+y.search;throw dn(404,{pathname:p})}ie(h!==void 0,"You defined "+(n==="action"?"an action":"a loader")+" for route "+('"'+r.route.id+"\" but didn't return anything from your `"+n+"` ")+"function. Please return a value or `null`.")}catch(I){d=qe.error,h=I}finally{f&&t.signal.removeEventListener("abort",f)}if(DR(h)){let I=h.status;if(SR.has(I)){let v=h.headers.get("Location");if(ie(v,"Redirects returned/thrown from loaders/actions must have a Location header"),!UE.test(v))v=Af(new URL(t.url),i.slice(0,i.indexOf(r)+1),a,!0,v);else if(!l){let g=new URL(t.url),C=v.startsWith("//")?new URL(g.protocol+v):new URL(v),b=Fa(C.pathname,a)!=null;C.origin===g.origin&&b&&(v=C.pathname+C.search+C.hash)}if(l)throw h.headers.set("Location",v),h;return{type:qe.redirect,status:I,location:v,revalidate:h.headers.get("X-Remix-Revalidate")!==null}}if(u)throw{type:d||qe.data,response:h};let y,p=h.headers.get("Content-Type");return p&&/\bapplication\/json\b/.test(p)?y=await h.json():y=await h.text(),d===qe.error?{type:d,error:new Sm(I,h.statusText,y),headers:h.headers}:{type:qe.data,data:y,statusCode:h.status,headers:h.headers}}if(d===qe.error)return{type:d,error:h};if(bR(h)){var E,S;return{type:qe.deferred,deferredData:h,statusCode:(E=h.init)==null?void 0:E.status,headers:((S=h.init)==null?void 0:S.headers)&&new Headers(h.init.headers)}}return{type:qe.data,data:h}}function po(n,t,r,i){let s=n.createURL(zE(t)).toString(),o={signal:r};if(i&&Vn(i.formMethod)){let{formMethod:a,formEncType:l,formData:u}=i;o.method=a.toUpperCase(),o.body=l==="application/x-www-form-urlencoded"?jE(u):u}return new Request(s,o)}function jE(n){let t=new URLSearchParams;for(let[r,i]of n.entries())t.append(r,i instanceof File?i.name:i);return t}function xR(n,t,r,i,s){let o={},a=null,l,u=!1,c={};return r.forEach((d,h)=>{let f=t[h].route.id;if(ie(!ms(d),"Cannot handle redirect results in processLoaderData"),zo(d)){let m=os(n,f),E=d.error;i&&(E=Object.values(i)[0],i=void 0),a=a||{},a[m.route.id]==null&&(a[m.route.id]=E),o[f]=void 0,u||(u=!0,l=LE(d.error)?d.error.status:500),d.headers&&(c[f]=d.headers)}else oi(d)?(s.set(f,d.deferredData),o[f]=d.deferredData.data):o[f]=d.data,d.statusCode!=null&&d.statusCode!==200&&!u&&(l=d.statusCode),d.headers&&(c[f]=d.headers)}),i&&(a=i,o[Object.keys(i)[0]]=void 0),{loaderData:o,errors:a,statusCode:l||200,loaderHeaders:c}}function gv(n,t,r,i,s,o,a,l){let{loaderData:u,errors:c}=xR(t,r,i,s,l);for(let d=0;d<o.length;d++){let{key:h,match:f,controller:m}=o[d];ie(a!==void 0&&a[d]!==void 0,"Did not find corresponding fetcher result");let E=a[d];if(!(m&&m.signal.aborted))if(zo(E)){let S=os(n.matches,f==null?void 0:f.route.id);c&&c[S.route.id]||(c=le({},c,{[S.route.id]:E.error})),n.fetchers.delete(h)}else if(ms(E))ie(!1,"Unhandled fetcher revalidation redirect");else if(oi(E))ie(!1,"Unhandled fetcher deferred data");else{let S={state:"idle",data:E.data,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0," _hasFetcherDoneAnything ":!0};n.fetchers.set(h,S)}}return{loaderData:u,errors:c}}function yv(n,t,r,i){let s=le({},t);for(let o of r){let a=o.route.id;if(t.hasOwnProperty(a)?t[a]!==void 0&&(s[a]=t[a]):n[a]!==void 0&&o.route.loader&&(s[a]=n[a]),i&&i.hasOwnProperty(a))break}return s}function os(n,t){return(t?n.slice(0,n.findIndex(i=>i.route.id===t)+1):[...n]).reverse().find(i=>i.route.hasErrorBoundary===!0)||n[0]}function vv(n){let t=n.find(r=>r.index||!r.path||r.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:t}],route:t}}function dn(n,t){let{pathname:r,routeId:i,method:s,type:o}=t===void 0?{}:t,a="Unknown Server Error",l="Unknown @remix-run/router error";return n===400?(a="Bad Request",s&&r&&i?l="You made a "+s+' request to "'+r+'" but '+('did not provide a `loader` for route "'+i+'", ')+"so there is no way to handle the request.":o==="defer-action"&&(l="defer() is not supported in actions")):n===403?(a="Forbidden",l='Route "'+i+'" does not match URL "'+r+'"'):n===404?(a="Not Found",l='No route matches URL "'+r+'"'):n===405&&(a="Method Not Allowed",s&&r&&i?l="You made a "+s.toUpperCase()+' request to "'+r+'" but '+('did not provide an `action` for route "'+i+'", ')+"so there is no way to handle the request.":s&&(l='Invalid request method "'+s.toUpperCase()+'"')),new Sm(n||500,a,new Error(l),!0)}function wv(n){for(let t=n.length-1;t>=0;t--){let r=n[t];if(ms(r))return r}}function zE(n){let t=typeof n=="string"?ar(n):n;return La(le({},t,{hash:""}))}function NR(n,t){return n.pathname!==t.pathname||n.search!==t.search?!1:n.hash===""?t.hash!=="":n.hash===t.hash?!0:t.hash!==""}function oi(n){return n.type===qe.deferred}function zo(n){return n.type===qe.error}function ms(n){return(n&&n.type)===qe.redirect}function bR(n){let t=n;return t&&typeof t=="object"&&typeof t.data=="object"&&typeof t.subscribe=="function"&&typeof t.cancel=="function"&&typeof t.resolveData=="function"}function DR(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.headers=="object"&&typeof n.body<"u"}function PR(n){return ER.has(n.toLowerCase())}function Vn(n){return vR.has(n.toLowerCase())}async function Ev(n,t,r,i,s,o){for(let a=0;a<r.length;a++){let l=r[a],u=t[a];if(!u)continue;let c=n.find(h=>h.route.id===u.route.id),d=c!=null&&!VE(c,u)&&(o&&o[u.route.id])!==void 0;if(oi(l)&&(s||d)){let h=i[a];ie(h,"Expected an AbortSignal for revalidating fetcher deferred result"),await BE(l,h,s).then(f=>{f&&(r[a]=f||r[a])})}}}async function BE(n,t,r){if(r===void 0&&(r=!1),!await n.deferredData.resolveData(t)){if(r)try{return{type:qe.data,data:n.deferredData.unwrappedData}}catch(s){return{type:qe.error,error:s}}return{type:qe.data,data:n.deferredData.data}}}function Im(n){return new URLSearchParams(n).getAll("index").some(t=>t==="")}function Sv(n,t){let{route:r,pathname:i,params:s}=n;return{id:r.id,pathname:i,params:s,data:t[r.id],handle:r.handle}}function Rf(n,t){let r=typeof t=="string"?ar(t).search:t.search;if(n[n.length-1].route.index&&Im(r||""))return n[n.length-1];let i=Em(n);return i[i.length-1]}/**
 * React Router v6.12.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ou(){return Ou=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(n[i]=r[i])}return n},Ou.apply(this,arguments)}const xc=w.createContext(null),HE=w.createContext(null),Nc=w.createContext(null),bc=w.createContext(null),js=w.createContext({outlet:null,matches:[],isDataRoute:!1}),WE=w.createContext(null);function Dc(){return w.useContext(bc)!=null}function qE(){return Dc()||ie(!1),w.useContext(bc).location}function KE(n){w.useContext(Nc).static||w.useLayoutEffect(n)}function $R(){let{isDataRoute:n}=w.useContext(js);return n?qR():OR()}function OR(){Dc()||ie(!1);let n=w.useContext(xc),{basename:t,navigator:r}=w.useContext(Nc),{matches:i}=w.useContext(js),{pathname:s}=qE(),o=JSON.stringify(Em(i).map(u=>u.pathnameBase)),a=w.useRef(!1);return KE(()=>{a.current=!0}),w.useCallback(function(u,c){if(c===void 0&&(c={}),!a.current)return;if(typeof u=="number"){r.go(u);return}let d=OE(u,JSON.parse(o),s,c.relative==="path");n==null&&t!=="/"&&(d.pathname=d.pathname==="/"?t:$r([t,d.pathname])),(c.replace?r.replace:r.push)(d,c.state,c)},[t,r,o,s,n])}function MR(n,t,r){Dc()||ie(!1);let{navigator:i}=w.useContext(Nc),{matches:s}=w.useContext(js),o=s[s.length-1],a=o?o.params:{};o&&o.pathname;let l=o?o.pathnameBase:"/";o&&o.route;let u=qE(),c;if(t){var d;let S=typeof t=="string"?ar(t):t;l==="/"||(d=S.pathname)!=null&&d.startsWith(l)||ie(!1),c=S}else c=u;let h=c.pathname||"/",f=l==="/"?h:h.slice(l.length)||"/",m=ss(n,{pathname:f}),E=jR(m&&m.map(S=>Object.assign({},S,{params:Object.assign({},a,S.params),pathname:$r([l,i.encodeLocation?i.encodeLocation(S.pathname).pathname:S.pathname]),pathnameBase:S.pathnameBase==="/"?l:$r([l,i.encodeLocation?i.encodeLocation(S.pathnameBase).pathname:S.pathnameBase])})),s,r);return t&&E?w.createElement(bc.Provider,{value:{location:Ou({pathname:"/",search:"",hash:"",state:null,key:"default"},c),navigationType:je.Pop}},E):E}function LR(){let n=WR(),t=LE(n)?n.status+" "+n.statusText:n instanceof Error?n.message:JSON.stringify(n),r=n instanceof Error?n.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},o=null;return w.createElement(w.Fragment,null,w.createElement("h2",null,"Unexpected Application Error!"),w.createElement("h3",{style:{fontStyle:"italic"}},t),r?w.createElement("pre",{style:s},r):null,o)}const FR=w.createElement(LR,null);class UR extends w.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,r){return r.location!==t.location||r.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error||r.error,location:r.location,revalidation:t.revalidation||r.revalidation}}componentDidCatch(t,r){console.error("React Router caught the following error during render",t,r)}render(){return this.state.error?w.createElement(js.Provider,{value:this.props.routeContext},w.createElement(WE.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function VR(n){let{routeContext:t,match:r,children:i}=n,s=w.useContext(xc);return s&&s.static&&s.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=r.route.id),w.createElement(js.Provider,{value:t},i)}function jR(n,t,r){var i;if(t===void 0&&(t=[]),r===void 0&&(r=null),n==null){var s;if((s=r)!=null&&s.errors)n=r.matches;else return null}let o=n,a=(i=r)==null?void 0:i.errors;if(a!=null){let l=o.findIndex(u=>u.route.id&&(a==null?void 0:a[u.route.id]));l>=0||ie(!1),o=o.slice(0,Math.min(o.length,l+1))}return o.reduceRight((l,u,c)=>{let d=u.route.id?a==null?void 0:a[u.route.id]:null,h=null;r&&(h=u.route.errorElement||FR);let f=t.concat(o.slice(0,c+1)),m=()=>{let E;return d?E=h:u.route.Component?E=w.createElement(u.route.Component,null):u.route.element?E=u.route.element:E=l,w.createElement(VR,{match:u,routeContext:{outlet:l,matches:f,isDataRoute:r!=null},children:E})};return r&&(u.route.ErrorBoundary||u.route.errorElement||c===0)?w.createElement(UR,{location:r.location,revalidation:r.revalidation,component:h,error:d,children:m(),routeContext:{outlet:null,matches:f,isDataRoute:!0}}):m()},null)}var xf;(function(n){n.UseBlocker="useBlocker",n.UseRevalidator="useRevalidator",n.UseNavigateStable="useNavigate"})(xf||(xf={}));var ma;(function(n){n.UseBlocker="useBlocker",n.UseLoaderData="useLoaderData",n.UseActionData="useActionData",n.UseRouteError="useRouteError",n.UseNavigation="useNavigation",n.UseRouteLoaderData="useRouteLoaderData",n.UseMatches="useMatches",n.UseRevalidator="useRevalidator",n.UseNavigateStable="useNavigate",n.UseRouteId="useRouteId"})(ma||(ma={}));function zR(n){let t=w.useContext(xc);return t||ie(!1),t}function BR(n){let t=w.useContext(HE);return t||ie(!1),t}function HR(n){let t=w.useContext(js);return t||ie(!1),t}function GE(n){let t=HR(),r=t.matches[t.matches.length-1];return r.route.id||ie(!1),r.route.id}function WR(){var n;let t=w.useContext(WE),r=BR(ma.UseRouteError),i=GE(ma.UseRouteError);return t||((n=r.errors)==null?void 0:n[i])}function qR(){let{router:n}=zR(xf.UseNavigateStable),t=GE(ma.UseNavigateStable),r=w.useRef(!1);return KE(()=>{r.current=!0}),w.useCallback(function(s,o){o===void 0&&(o={}),r.current&&(typeof s=="number"?n.navigate(s):n.navigate(s,Ou({fromRouteId:t},o)))},[n,t])}const Iv="startTransition";function KR(n){let{fallbackElement:t,router:r}=n,[i,s]=w.useState(r.state),o=w.useCallback(c=>{Iv in Yo?Yo[Iv](()=>s(c)):s(c)},[s]);w.useLayoutEffect(()=>r.subscribe(o),[r,o]);let a=w.useMemo(()=>({createHref:r.createHref,encodeLocation:r.encodeLocation,go:c=>r.navigate(c),push:(c,d,h)=>r.navigate(c,{state:d,preventScrollReset:h==null?void 0:h.preventScrollReset}),replace:(c,d,h)=>r.navigate(c,{replace:!0,state:d,preventScrollReset:h==null?void 0:h.preventScrollReset})}),[r]),l=r.basename||"/",u=w.useMemo(()=>({router:r,navigator:a,static:!1,basename:l}),[r,a,l]);return w.createElement(w.Fragment,null,w.createElement(xc.Provider,{value:u},w.createElement(HE.Provider,{value:i},w.createElement(QR,{basename:l,location:i.location,navigationType:i.historyAction,navigator:a},i.initialized?w.createElement(GR,{routes:r.routes,state:i}):t))),null)}function GR(n){let{routes:t,state:r}=n;return MR(t,void 0,r)}function QR(n){let{basename:t="/",children:r=null,location:i,navigationType:s=je.Pop,navigator:o,static:a=!1}=n;Dc()&&ie(!1);let l=t.replace(/^\/*/,"/"),u=w.useMemo(()=>({basename:l,navigator:o,static:a}),[l,o,a]);typeof i=="string"&&(i=ar(i));let{pathname:c="/",search:d="",hash:h="",state:f=null,key:m="default"}=i,E=w.useMemo(()=>{let S=Fa(c,l);return S==null?null:{location:{pathname:S,search:d,hash:h,state:f,key:m},navigationType:s}},[l,c,d,h,f,m,s]);return E==null?null:w.createElement(Nc.Provider,{value:u},w.createElement(bc.Provider,{children:r,value:E}))}var Tv;(function(n){n[n.pending=0]="pending",n[n.success=1]="success",n[n.error=2]="error"})(Tv||(Tv={}));new Promise(()=>{});function YR(n){let t={hasErrorBoundary:n.ErrorBoundary!=null||n.errorElement!=null};return n.Component&&Object.assign(t,{element:w.createElement(n.Component),Component:void 0}),n.ErrorBoundary&&Object.assign(t,{errorElement:w.createElement(n.ErrorBoundary),ErrorBoundary:void 0}),t}/**
 * React Router DOM v6.12.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Mu(){return Mu=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(n[i]=r[i])}return n},Mu.apply(this,arguments)}function XR(n,t){return CR({basename:t==null?void 0:t.basename,future:Mu({},t==null?void 0:t.future,{v7_prependBasename:!0}),history:GA({window:t==null?void 0:t.window}),hydrationData:(t==null?void 0:t.hydrationData)||JR(),routes:n,mapRouteProperties:YR}).initialize()}function JR(){var n;let t=(n=window)==null?void 0:n.__staticRouterHydrationData;return t&&t.errors&&(t=Mu({},t,{errors:ZR(t.errors)})),t}function ZR(n){if(!n)return null;let t=Object.entries(n),r={};for(let[i,s]of t)if(s&&s.__type==="RouteErrorResponse")r[i]=new Sm(s.status,s.statusText,s.data,s.internal===!0);else if(s&&s.__type==="Error"){let o=new Error(s.message);o.stack="",r[i]=o}else r[i]=s;return r}var _v;(function(n){n.UseScrollRestoration="useScrollRestoration",n.UseSubmitImpl="useSubmitImpl",n.UseFetcher="useFetcher"})(_v||(_v={}));var Cv;(function(n){n.UseFetchers="useFetchers",n.UseScrollRestoration="useScrollRestoration"})(Cv||(Cv={}));/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QE=function(n){const t=[];let r=0;for(let i=0;i<n.length;i++){let s=n.charCodeAt(i);s<128?t[r++]=s:s<2048?(t[r++]=s>>6|192,t[r++]=s&63|128):(s&64512)===55296&&i+1<n.length&&(n.charCodeAt(i+1)&64512)===56320?(s=65536+((s&1023)<<10)+(n.charCodeAt(++i)&1023),t[r++]=s>>18|240,t[r++]=s>>12&63|128,t[r++]=s>>6&63|128,t[r++]=s&63|128):(t[r++]=s>>12|224,t[r++]=s>>6&63|128,t[r++]=s&63|128)}return t},ex=function(n){const t=[];let r=0,i=0;for(;r<n.length;){const s=n[r++];if(s<128)t[i++]=String.fromCharCode(s);else if(s>191&&s<224){const o=n[r++];t[i++]=String.fromCharCode((s&31)<<6|o&63)}else if(s>239&&s<365){const o=n[r++],a=n[r++],l=n[r++],u=((s&7)<<18|(o&63)<<12|(a&63)<<6|l&63)-65536;t[i++]=String.fromCharCode(55296+(u>>10)),t[i++]=String.fromCharCode(56320+(u&1023))}else{const o=n[r++],a=n[r++];t[i++]=String.fromCharCode((s&15)<<12|(o&63)<<6|a&63)}}return t.join("")},YE={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,t){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const r=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let s=0;s<n.length;s+=3){const o=n[s],a=s+1<n.length,l=a?n[s+1]:0,u=s+2<n.length,c=u?n[s+2]:0,d=o>>2,h=(o&3)<<4|l>>4;let f=(l&15)<<2|c>>6,m=c&63;u||(m=64,a||(f=64)),i.push(r[d],r[h],r[f],r[m])}return i.join("")},encodeString(n,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(n):this.encodeByteArray(QE(n),t)},decodeString(n,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(n):ex(this.decodeStringToByteArray(n,t))},decodeStringToByteArray(n,t){this.init_();const r=t?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let s=0;s<n.length;){const o=r[n.charAt(s++)],l=s<n.length?r[n.charAt(s)]:0;++s;const c=s<n.length?r[n.charAt(s)]:64;++s;const h=s<n.length?r[n.charAt(s)]:64;if(++s,o==null||l==null||c==null||h==null)throw new tx;const f=o<<2|l>>4;if(i.push(f),c!==64){const m=l<<4&240|c>>2;if(i.push(m),h!==64){const E=c<<6&192|h;i.push(E)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class tx extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const nx=function(n){const t=QE(n);return YE.encodeByteArray(t,!0)},Lu=function(n){return nx(n).replace(/\./g,"")},XE=function(n){try{return YE.decodeString(n,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rx(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ix=()=>rx().__FIREBASE_DEFAULTS__,sx=()=>{if(typeof process>"u"||typeof process.env>"u")return;const n={}.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},ox=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=n&&XE(n[1]);return t&&JSON.parse(t)},Tm=()=>{try{return ix()||sx()||ox()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},JE=n=>{var t,r;return(r=(t=Tm())===null||t===void 0?void 0:t.emulatorHosts)===null||r===void 0?void 0:r[n]},ax=n=>{const t=JE(n);if(!t)return;const r=t.lastIndexOf(":");if(r<=0||r+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const i=parseInt(t.substring(r+1),10);return t[0]==="["?[t.substring(1,r-1),i]:[t.substring(0,r),i]},ZE=()=>{var n;return(n=Tm())===null||n===void 0?void 0:n.config},eS=n=>{var t;return(t=Tm())===null||t===void 0?void 0:t[`_${n}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lx{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,r)=>{this.resolve=t,this.reject=r})}wrapCallback(t){return(r,i)=>{r?this.reject(r):this.resolve(i),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(r):t(r,i))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ux(n,t){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const r={alg:"none",type:"JWT"},i=t||"demo-project",s=n.iat||0,o=n.sub||n.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const a=Object.assign({iss:`https://securetoken.google.com/${i}`,aud:i,iat:s,exp:s+3600,auth_time:s,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},n),l="";return[Lu(JSON.stringify(r)),Lu(JSON.stringify(a)),l].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function cx(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Tt())}function tS(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function dx(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function hx(){const n=Tt();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function nS(){try{return typeof indexedDB=="object"}catch{return!1}}function rS(){return new Promise((n,t)=>{try{let r=!0;const i="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(i);s.onsuccess=()=>{s.result.close(),r||self.indexedDB.deleteDatabase(i),n(!0)},s.onupgradeneeded=()=>{r=!1},s.onerror=()=>{var o;t(((o=s.error)===null||o===void 0?void 0:o.message)||"")}}catch(r){t(r)}})}function fx(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const px="FirebaseError";class Sn extends Error{constructor(t,r,i){super(r),this.code=t,this.customData=i,this.name=px,Object.setPrototypeOf(this,Sn.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Oi.prototype.create)}}class Oi{constructor(t,r,i){this.service=t,this.serviceName=r,this.errors=i}create(t,...r){const i=r[0]||{},s=`${this.service}/${t}`,o=this.errors[t],a=o?mx(o,i):"Error",l=`${this.serviceName}: ${a} (${s}).`;return new Sn(s,l,i)}}function mx(n,t){return n.replace(gx,(r,i)=>{const s=t[i];return s!=null?String(s):`<${i}?>`})}const gx=/\{\$([^}]+)}/g;function yx(n){for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t))return!1;return!0}function ga(n,t){if(n===t)return!0;const r=Object.keys(n),i=Object.keys(t);for(const s of r){if(!i.includes(s))return!1;const o=n[s],a=t[s];if(kv(o)&&kv(a)){if(!ga(o,a))return!1}else if(o!==a)return!1}for(const s of i)if(!r.includes(s))return!1;return!0}function kv(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ua(n){const t=[];for(const[r,i]of Object.entries(n))Array.isArray(i)?i.forEach(s=>{t.push(encodeURIComponent(r)+"="+encodeURIComponent(s))}):t.push(encodeURIComponent(r)+"="+encodeURIComponent(i));return t.length?"&"+t.join("&"):""}function Co(n){const t={};return n.replace(/^\?/,"").split("&").forEach(i=>{if(i){const[s,o]=i.split("=");t[decodeURIComponent(s)]=decodeURIComponent(o)}}),t}function ko(n){const t=n.indexOf("?");if(!t)return"";const r=n.indexOf("#",t);return n.substring(t,r>0?r:void 0)}function vx(n,t){const r=new wx(n,t);return r.subscribe.bind(r)}class wx{constructor(t,r){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=r,this.task.then(()=>{t(this)}).catch(i=>{this.error(i)})}next(t){this.forEachObserver(r=>{r.next(t)})}error(t){this.forEachObserver(r=>{r.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,r,i){let s;if(t===void 0&&r===void 0&&i===void 0)throw new Error("Missing Observer.");Ex(t,["next","error","complete"])?s=t:s={next:t,error:r,complete:i},s.next===void 0&&(s.next=Jd),s.error===void 0&&(s.error=Jd),s.complete===void 0&&(s.complete=Jd);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),o}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let r=0;r<this.observers.length;r++)this.sendOne(r,t)}sendOne(t,r){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{r(this.observers[t])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Ex(n,t){if(typeof n!="object"||n===null)return!1;for(const r of t)if(r in n&&typeof n[r]=="function")return!0;return!1}function Jd(){}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sx=1e3,Ix=2,Tx=4*60*60*1e3,_x=.5;function Av(n,t=Sx,r=Ix){const i=t*Math.pow(r,n),s=Math.round(_x*i*(Math.random()-.5)*2);return Math.min(Tx,i+s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xt(n){return n&&n._delegate?n._delegate:n}class yn{constructor(t,r,i){this.name=t,this.instanceFactory=r,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ti="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cx{constructor(t,r){this.name=t,this.container=r,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const r=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(r)){const i=new lx;if(this.instancesDeferred.set(r,i),this.isInitialized(r)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:r});s&&i.resolve(s)}catch{}}return this.instancesDeferred.get(r).promise}getImmediate(t){var r;const i=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),s=(r=t==null?void 0:t.optional)!==null&&r!==void 0?r:!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(o){if(s)return null;throw o}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(Ax(t))try{this.getOrInitializeService({instanceIdentifier:ti})}catch{}for(const[r,i]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(r);try{const o=this.getOrInitializeService({instanceIdentifier:s});i.resolve(o)}catch{}}}}clearInstance(t=ti){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(r=>"INTERNAL"in r).map(r=>r.INTERNAL.delete()),...t.filter(r=>"_delete"in r).map(r=>r._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=ti){return this.instances.has(t)}getOptions(t=ti){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:r={}}=t,i=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:i,options:r});for(const[o,a]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(o);i===l&&a.resolve(s)}return s}onInit(t,r){var i;const s=this.normalizeInstanceIdentifier(r),o=(i=this.onInitCallbacks.get(s))!==null&&i!==void 0?i:new Set;o.add(t),this.onInitCallbacks.set(s,o);const a=this.instances.get(s);return a&&t(a,s),()=>{o.delete(t)}}invokeOnInitCallbacks(t,r){const i=this.onInitCallbacks.get(r);if(i)for(const s of i)try{s(t,r)}catch{}}getOrInitializeService({instanceIdentifier:t,options:r={}}){let i=this.instances.get(t);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:kx(t),options:r}),this.instances.set(t,i),this.instancesOptions.set(t,r),this.invokeOnInitCallbacks(i,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,i)}catch{}return i||null}normalizeInstanceIdentifier(t=ti){return this.component?this.component.multipleInstances?t:ti:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function kx(n){return n===ti?void 0:n}function Ax(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rx{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const r=this.getProvider(t.name);if(r.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);r.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const r=new Cx(t,this);return this.providers.set(t,r),r}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ue;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(ue||(ue={}));const xx={debug:ue.DEBUG,verbose:ue.VERBOSE,info:ue.INFO,warn:ue.WARN,error:ue.ERROR,silent:ue.SILENT},Nx=ue.INFO,bx={[ue.DEBUG]:"log",[ue.VERBOSE]:"log",[ue.INFO]:"info",[ue.WARN]:"warn",[ue.ERROR]:"error"},Dx=(n,t,...r)=>{if(t<n.logLevel)return;const i=new Date().toISOString(),s=bx[t];if(s)console[s](`[${i}]  ${n.name}:`,...r);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class Pc{constructor(t){this.name=t,this._logLevel=Nx,this._logHandler=Dx,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in ue))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?xx[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,ue.DEBUG,...t),this._logHandler(this,ue.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,ue.VERBOSE,...t),this._logHandler(this,ue.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,ue.INFO,...t),this._logHandler(this,ue.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,ue.WARN,...t),this._logHandler(this,ue.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,ue.ERROR,...t),this._logHandler(this,ue.ERROR,...t)}}const Px=(n,t)=>t.some(r=>n instanceof r);let Rv,xv;function $x(){return Rv||(Rv=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Ox(){return xv||(xv=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const iS=new WeakMap,Nf=new WeakMap,sS=new WeakMap,Zd=new WeakMap,_m=new WeakMap;function Mx(n){const t=new Promise((r,i)=>{const s=()=>{n.removeEventListener("success",o),n.removeEventListener("error",a)},o=()=>{r(Or(n.result)),s()},a=()=>{i(n.error),s()};n.addEventListener("success",o),n.addEventListener("error",a)});return t.then(r=>{r instanceof IDBCursor&&iS.set(r,n)}).catch(()=>{}),_m.set(t,n),t}function Lx(n){if(Nf.has(n))return;const t=new Promise((r,i)=>{const s=()=>{n.removeEventListener("complete",o),n.removeEventListener("error",a),n.removeEventListener("abort",a)},o=()=>{r(),s()},a=()=>{i(n.error||new DOMException("AbortError","AbortError")),s()};n.addEventListener("complete",o),n.addEventListener("error",a),n.addEventListener("abort",a)});Nf.set(n,t)}let bf={get(n,t,r){if(n instanceof IDBTransaction){if(t==="done")return Nf.get(n);if(t==="objectStoreNames")return n.objectStoreNames||sS.get(n);if(t==="store")return r.objectStoreNames[1]?void 0:r.objectStore(r.objectStoreNames[0])}return Or(n[t])},set(n,t,r){return n[t]=r,!0},has(n,t){return n instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in n}};function Fx(n){bf=n(bf)}function Ux(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...r){const i=n.call(eh(this),t,...r);return sS.set(i,t.sort?t.sort():[t]),Or(i)}:Ox().includes(n)?function(...t){return n.apply(eh(this),t),Or(iS.get(this))}:function(...t){return Or(n.apply(eh(this),t))}}function Vx(n){return typeof n=="function"?Ux(n):(n instanceof IDBTransaction&&Lx(n),Px(n,$x())?new Proxy(n,bf):n)}function Or(n){if(n instanceof IDBRequest)return Mx(n);if(Zd.has(n))return Zd.get(n);const t=Vx(n);return t!==n&&(Zd.set(n,t),_m.set(t,n)),t}const eh=n=>_m.get(n);function jx(n,t,{blocked:r,upgrade:i,blocking:s,terminated:o}={}){const a=indexedDB.open(n,t),l=Or(a);return i&&a.addEventListener("upgradeneeded",u=>{i(Or(a.result),u.oldVersion,u.newVersion,Or(a.transaction),u)}),r&&a.addEventListener("blocked",u=>r(u.oldVersion,u.newVersion,u)),l.then(u=>{o&&u.addEventListener("close",()=>o()),s&&u.addEventListener("versionchange",c=>s(c.oldVersion,c.newVersion,c))}).catch(()=>{}),l}const zx=["get","getKey","getAll","getAllKeys","count"],Bx=["put","add","delete","clear"],th=new Map;function Nv(n,t){if(!(n instanceof IDBDatabase&&!(t in n)&&typeof t=="string"))return;if(th.get(t))return th.get(t);const r=t.replace(/FromIndex$/,""),i=t!==r,s=Bx.includes(r);if(!(r in(i?IDBIndex:IDBObjectStore).prototype)||!(s||zx.includes(r)))return;const o=async function(a,...l){const u=this.transaction(a,s?"readwrite":"readonly");let c=u.store;return i&&(c=c.index(l.shift())),(await Promise.all([c[r](...l),s&&u.done]))[0]};return th.set(t,o),o}Fx(n=>({...n,get:(t,r,i)=>Nv(t,r)||n.get(t,r,i),has:(t,r)=>!!Nv(t,r)||n.has(t,r)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hx{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(r=>{if(Wx(r)){const i=r.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(r=>r).join(" ")}}function Wx(n){const t=n.getComponent();return(t==null?void 0:t.type)==="VERSION"}const Df="@firebase/app",bv="0.9.10";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _i=new Pc("@firebase/app"),qx="@firebase/app-compat",Kx="@firebase/analytics-compat",Gx="@firebase/analytics",Qx="@firebase/app-check-compat",Yx="@firebase/app-check",Xx="@firebase/auth",Jx="@firebase/auth-compat",Zx="@firebase/database",eN="@firebase/database-compat",tN="@firebase/functions",nN="@firebase/functions-compat",rN="@firebase/installations",iN="@firebase/installations-compat",sN="@firebase/messaging",oN="@firebase/messaging-compat",aN="@firebase/performance",lN="@firebase/performance-compat",uN="@firebase/remote-config",cN="@firebase/remote-config-compat",dN="@firebase/storage",hN="@firebase/storage-compat",fN="@firebase/firestore",pN="@firebase/firestore-compat",mN="firebase",gN="9.22.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pf="[DEFAULT]",yN={[Df]:"fire-core",[qx]:"fire-core-compat",[Gx]:"fire-analytics",[Kx]:"fire-analytics-compat",[Yx]:"fire-app-check",[Qx]:"fire-app-check-compat",[Xx]:"fire-auth",[Jx]:"fire-auth-compat",[Zx]:"fire-rtdb",[eN]:"fire-rtdb-compat",[tN]:"fire-fn",[nN]:"fire-fn-compat",[rN]:"fire-iid",[iN]:"fire-iid-compat",[sN]:"fire-fcm",[oN]:"fire-fcm-compat",[aN]:"fire-perf",[lN]:"fire-perf-compat",[uN]:"fire-rc",[cN]:"fire-rc-compat",[dN]:"fire-gcs",[hN]:"fire-gcs-compat",[fN]:"fire-fst",[pN]:"fire-fst-compat","fire-js":"fire-js",[mN]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fu=new Map,$f=new Map;function vN(n,t){try{n.container.addComponent(t)}catch(r){_i.debug(`Component ${t.name} failed to register with FirebaseApp ${n.name}`,r)}}function Pn(n){const t=n.name;if($f.has(t))return _i.debug(`There were multiple attempts to register component ${t}.`),!1;$f.set(t,n);for(const r of Fu.values())vN(r,n);return!0}function Mi(n,t){const r=n.container.getProvider("heartbeat").getImmediate({optional:!0});return r&&r.triggerHeartbeat(),n.container.getProvider(t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wN={["no-app"]:"No Firebase App '{$appName}' has been created - call initializeApp() first",["bad-app-name"]:"Illegal App name: '{$appName}",["duplicate-app"]:"Firebase App named '{$appName}' already exists with different options or config",["app-deleted"]:"Firebase App named '{$appName}' already deleted",["no-options"]:"Need to provide options, when not being deployed to hosting via source.",["invalid-app-argument"]:"firebase.{$appName}() takes either no argument or a Firebase App instance.",["invalid-log-argument"]:"First argument to `onLog` must be null or a function.",["idb-open"]:"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.",["idb-get"]:"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.",["idb-set"]:"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.",["idb-delete"]:"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},Mr=new Oi("app","Firebase",wN);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EN{constructor(t,r,i){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},r),this._name=r.name,this._automaticDataCollectionEnabled=r.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new yn("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Mr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zs=gN;function oS(n,t={}){let r=n;typeof t!="object"&&(t={name:t});const i=Object.assign({name:Pf,automaticDataCollectionEnabled:!1},t),s=i.name;if(typeof s!="string"||!s)throw Mr.create("bad-app-name",{appName:String(s)});if(r||(r=ZE()),!r)throw Mr.create("no-options");const o=Fu.get(s);if(o){if(ga(r,o.options)&&ga(i,o.config))return o;throw Mr.create("duplicate-app",{appName:s})}const a=new Rx(s);for(const u of $f.values())a.addComponent(u);const l=new EN(r,i,a);return Fu.set(s,l),l}function Cm(n=Pf){const t=Fu.get(n);if(!t&&n===Pf&&ZE())return oS();if(!t)throw Mr.create("no-app",{appName:n});return t}function nn(n,t,r){var i;let s=(i=yN[n])!==null&&i!==void 0?i:n;r&&(s+=`-${r}`);const o=s.match(/\s|\//),a=t.match(/\s|\//);if(o||a){const l=[`Unable to register library "${s}" with version "${t}":`];o&&l.push(`library name "${s}" contains illegal characters (whitespace or "/")`),o&&a&&l.push("and"),a&&l.push(`version name "${t}" contains illegal characters (whitespace or "/")`),_i.warn(l.join(" "));return}Pn(new yn(`${s}-version`,()=>({library:s,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SN="firebase-heartbeat-database",IN=1,ya="firebase-heartbeat-store";let nh=null;function aS(){return nh||(nh=jx(SN,IN,{upgrade:(n,t)=>{switch(t){case 0:n.createObjectStore(ya)}}}).catch(n=>{throw Mr.create("idb-open",{originalErrorMessage:n.message})})),nh}async function TN(n){try{return await(await aS()).transaction(ya).objectStore(ya).get(lS(n))}catch(t){if(t instanceof Sn)_i.warn(t.message);else{const r=Mr.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});_i.warn(r.message)}}}async function Dv(n,t){try{const i=(await aS()).transaction(ya,"readwrite");await i.objectStore(ya).put(t,lS(n)),await i.done}catch(r){if(r instanceof Sn)_i.warn(r.message);else{const i=Mr.create("idb-set",{originalErrorMessage:r==null?void 0:r.message});_i.warn(i.message)}}}function lS(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _N=1024,CN=30*24*60*60*1e3;class kN{constructor(t){this.container=t,this._heartbeatsCache=null;const r=this.container.getProvider("app").getImmediate();this._storage=new RN(r),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){const r=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=Pv();if(this._heartbeatsCache===null&&(this._heartbeatsCache=await this._heartbeatsCachePromise),!(this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(s=>s.date===i)))return this._heartbeatsCache.heartbeats.push({date:i,agent:r}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(s=>{const o=new Date(s.date).valueOf();return Date.now()-o<=CN}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache===null||this._heartbeatsCache.heartbeats.length===0)return"";const t=Pv(),{heartbeatsToSend:r,unsentEntries:i}=AN(this._heartbeatsCache.heartbeats),s=Lu(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=t,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}}function Pv(){return new Date().toISOString().substring(0,10)}function AN(n,t=_N){const r=[];let i=n.slice();for(const s of n){const o=r.find(a=>a.agent===s.agent);if(o){if(o.dates.push(s.date),$v(r)>t){o.dates.pop();break}}else if(r.push({agent:s.agent,dates:[s.date]}),$v(r)>t){r.pop();break}i=i.slice(1)}return{heartbeatsToSend:r,unsentEntries:i}}class RN{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return nS()?rS().then(()=>!0).catch(()=>!1):!1}async read(){return await this._canUseIndexedDBPromise?await TN(this.app)||{heartbeats:[]}:{heartbeats:[]}}async overwrite(t){var r;if(await this._canUseIndexedDBPromise){const s=await this.read();return Dv(this.app,{lastSentHeartbeatDate:(r=t.lastSentHeartbeatDate)!==null&&r!==void 0?r:s.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){var r;if(await this._canUseIndexedDBPromise){const s=await this.read();return Dv(this.app,{lastSentHeartbeatDate:(r=t.lastSentHeartbeatDate)!==null&&r!==void 0?r:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...t.heartbeats]})}else return}}function $v(n){return Lu(JSON.stringify({version:2,heartbeats:n})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xN(n){Pn(new yn("platform-logger",t=>new Hx(t),"PRIVATE")),Pn(new yn("heartbeat",t=>new kN(t),"PRIVATE")),nn(Df,bv,n),nn(Df,bv,"esm2017"),nn("fire-js","")}xN("");var NN="firebase",bN="9.22.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */nn(NN,bN,"app");const DN=(n,t)=>t.some(r=>n instanceof r);let Ov,Mv;function PN(){return Ov||(Ov=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function $N(){return Mv||(Mv=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const uS=new WeakMap,Of=new WeakMap,cS=new WeakMap,rh=new WeakMap,km=new WeakMap;function ON(n){const t=new Promise((r,i)=>{const s=()=>{n.removeEventListener("success",o),n.removeEventListener("error",a)},o=()=>{r(Lr(n.result)),s()},a=()=>{i(n.error),s()};n.addEventListener("success",o),n.addEventListener("error",a)});return t.then(r=>{r instanceof IDBCursor&&uS.set(r,n)}).catch(()=>{}),km.set(t,n),t}function MN(n){if(Of.has(n))return;const t=new Promise((r,i)=>{const s=()=>{n.removeEventListener("complete",o),n.removeEventListener("error",a),n.removeEventListener("abort",a)},o=()=>{r(),s()},a=()=>{i(n.error||new DOMException("AbortError","AbortError")),s()};n.addEventListener("complete",o),n.addEventListener("error",a),n.addEventListener("abort",a)});Of.set(n,t)}let Mf={get(n,t,r){if(n instanceof IDBTransaction){if(t==="done")return Of.get(n);if(t==="objectStoreNames")return n.objectStoreNames||cS.get(n);if(t==="store")return r.objectStoreNames[1]?void 0:r.objectStore(r.objectStoreNames[0])}return Lr(n[t])},set(n,t,r){return n[t]=r,!0},has(n,t){return n instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in n}};function LN(n){Mf=n(Mf)}function FN(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...r){const i=n.call(ih(this),t,...r);return cS.set(i,t.sort?t.sort():[t]),Lr(i)}:$N().includes(n)?function(...t){return n.apply(ih(this),t),Lr(uS.get(this))}:function(...t){return Lr(n.apply(ih(this),t))}}function UN(n){return typeof n=="function"?FN(n):(n instanceof IDBTransaction&&MN(n),DN(n,PN())?new Proxy(n,Mf):n)}function Lr(n){if(n instanceof IDBRequest)return ON(n);if(rh.has(n))return rh.get(n);const t=UN(n);return t!==n&&(rh.set(n,t),km.set(t,n)),t}const ih=n=>km.get(n);function VN(n,t,{blocked:r,upgrade:i,blocking:s,terminated:o}={}){const a=indexedDB.open(n,t),l=Lr(a);return i&&a.addEventListener("upgradeneeded",u=>{i(Lr(a.result),u.oldVersion,u.newVersion,Lr(a.transaction))}),r&&a.addEventListener("blocked",()=>r()),l.then(u=>{o&&u.addEventListener("close",()=>o()),s&&u.addEventListener("versionchange",()=>s())}).catch(()=>{}),l}const jN=["get","getKey","getAll","getAllKeys","count"],zN=["put","add","delete","clear"],sh=new Map;function Lv(n,t){if(!(n instanceof IDBDatabase&&!(t in n)&&typeof t=="string"))return;if(sh.get(t))return sh.get(t);const r=t.replace(/FromIndex$/,""),i=t!==r,s=zN.includes(r);if(!(r in(i?IDBIndex:IDBObjectStore).prototype)||!(s||jN.includes(r)))return;const o=async function(a,...l){const u=this.transaction(a,s?"readwrite":"readonly");let c=u.store;return i&&(c=c.index(l.shift())),(await Promise.all([c[r](...l),s&&u.done]))[0]};return sh.set(t,o),o}LN(n=>({...n,get:(t,r,i)=>Lv(t,r)||n.get(t,r,i),has:(t,r)=>!!Lv(t,r)||n.has(t,r)}));const dS="@firebase/installations",Am="0.6.4";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hS=1e4,fS=`w:${Am}`,pS="FIS_v2",BN="https://firebaseinstallations.googleapis.com/v1",HN=60*60*1e3,WN="installations",qN="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KN={["missing-app-config-values"]:'Missing App configuration value: "{$valueName}"',["not-registered"]:"Firebase Installation is not registered.",["installation-not-found"]:"Firebase Installation not found.",["request-failed"]:'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',["app-offline"]:"Could not process request. Application offline.",["delete-pending-registration"]:"Can't delete installation while there is a pending registration request."},Ci=new Oi(WN,qN,KN);function mS(n){return n instanceof Sn&&n.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gS({projectId:n}){return`${BN}/projects/${n}/installations`}function yS(n){return{token:n.token,requestStatus:2,expiresIn:QN(n.expiresIn),creationTime:Date.now()}}async function vS(n,t){const i=(await t.json()).error;return Ci.create("request-failed",{requestName:n,serverCode:i.code,serverMessage:i.message,serverStatus:i.status})}function wS({apiKey:n}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":n})}function GN(n,{refreshToken:t}){const r=wS(n);return r.append("Authorization",YN(t)),r}async function ES(n){const t=await n();return t.status>=500&&t.status<600?n():t}function QN(n){return Number(n.replace("s","000"))}function YN(n){return`${pS} ${n}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function XN({appConfig:n,heartbeatServiceProvider:t},{fid:r}){const i=gS(n),s=wS(n),o=t.getImmediate({optional:!0});if(o){const c=await o.getHeartbeatsHeader();c&&s.append("x-firebase-client",c)}const a={fid:r,authVersion:pS,appId:n.appId,sdkVersion:fS},l={method:"POST",headers:s,body:JSON.stringify(a)},u=await ES(()=>fetch(i,l));if(u.ok){const c=await u.json();return{fid:c.fid||r,registrationStatus:2,refreshToken:c.refreshToken,authToken:yS(c.authToken)}}else throw await vS("Create Installation",u)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SS(n){return new Promise(t=>{setTimeout(t,n)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JN(n){return btoa(String.fromCharCode(...n)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZN=/^[cdef][\w-]{21}$/,Lf="";function eb(){try{const n=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(n),n[0]=112+n[0]%16;const r=tb(n);return ZN.test(r)?r:Lf}catch{return Lf}}function tb(n){return JN(n).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $c(n){return`${n.appName}!${n.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IS=new Map;function TS(n,t){const r=$c(n);_S(r,t),nb(r,t)}function _S(n,t){const r=IS.get(n);if(r)for(const i of r)i(t)}function nb(n,t){const r=rb();r&&r.postMessage({key:n,fid:t}),ib()}let ai=null;function rb(){return!ai&&"BroadcastChannel"in self&&(ai=new BroadcastChannel("[Firebase] FID Change"),ai.onmessage=n=>{_S(n.data.key,n.data.fid)}),ai}function ib(){IS.size===0&&ai&&(ai.close(),ai=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sb="firebase-installations-database",ob=1,ki="firebase-installations-store";let oh=null;function Rm(){return oh||(oh=VN(sb,ob,{upgrade:(n,t)=>{switch(t){case 0:n.createObjectStore(ki)}}})),oh}async function Uu(n,t){const r=$c(n),s=(await Rm()).transaction(ki,"readwrite"),o=s.objectStore(ki),a=await o.get(r);return await o.put(t,r),await s.done,(!a||a.fid!==t.fid)&&TS(n,t.fid),t}async function CS(n){const t=$c(n),i=(await Rm()).transaction(ki,"readwrite");await i.objectStore(ki).delete(t),await i.done}async function Oc(n,t){const r=$c(n),s=(await Rm()).transaction(ki,"readwrite"),o=s.objectStore(ki),a=await o.get(r),l=t(a);return l===void 0?await o.delete(r):await o.put(l,r),await s.done,l&&(!a||a.fid!==l.fid)&&TS(n,l.fid),l}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xm(n){let t;const r=await Oc(n.appConfig,i=>{const s=ab(i),o=lb(n,s);return t=o.registrationPromise,o.installationEntry});return r.fid===Lf?{installationEntry:await t}:{installationEntry:r,registrationPromise:t}}function ab(n){const t=n||{fid:eb(),registrationStatus:0};return kS(t)}function lb(n,t){if(t.registrationStatus===0){if(!navigator.onLine){const s=Promise.reject(Ci.create("app-offline"));return{installationEntry:t,registrationPromise:s}}const r={fid:t.fid,registrationStatus:1,registrationTime:Date.now()},i=ub(n,r);return{installationEntry:r,registrationPromise:i}}else return t.registrationStatus===1?{installationEntry:t,registrationPromise:cb(n)}:{installationEntry:t}}async function ub(n,t){try{const r=await XN(n,t);return Uu(n.appConfig,r)}catch(r){throw mS(r)&&r.customData.serverCode===409?await CS(n.appConfig):await Uu(n.appConfig,{fid:t.fid,registrationStatus:0}),r}}async function cb(n){let t=await Fv(n.appConfig);for(;t.registrationStatus===1;)await SS(100),t=await Fv(n.appConfig);if(t.registrationStatus===0){const{installationEntry:r,registrationPromise:i}=await xm(n);return i||r}return t}function Fv(n){return Oc(n,t=>{if(!t)throw Ci.create("installation-not-found");return kS(t)})}function kS(n){return db(n)?{fid:n.fid,registrationStatus:0}:n}function db(n){return n.registrationStatus===1&&n.registrationTime+hS<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hb({appConfig:n,heartbeatServiceProvider:t},r){const i=fb(n,r),s=GN(n,r),o=t.getImmediate({optional:!0});if(o){const c=await o.getHeartbeatsHeader();c&&s.append("x-firebase-client",c)}const a={installation:{sdkVersion:fS,appId:n.appId}},l={method:"POST",headers:s,body:JSON.stringify(a)},u=await ES(()=>fetch(i,l));if(u.ok){const c=await u.json();return yS(c)}else throw await vS("Generate Auth Token",u)}function fb(n,{fid:t}){return`${gS(n)}/${t}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Nm(n,t=!1){let r;const i=await Oc(n.appConfig,o=>{if(!AS(o))throw Ci.create("not-registered");const a=o.authToken;if(!t&&gb(a))return o;if(a.requestStatus===1)return r=pb(n,t),o;{if(!navigator.onLine)throw Ci.create("app-offline");const l=vb(o);return r=mb(n,l),l}});return r?await r:i.authToken}async function pb(n,t){let r=await Uv(n.appConfig);for(;r.authToken.requestStatus===1;)await SS(100),r=await Uv(n.appConfig);const i=r.authToken;return i.requestStatus===0?Nm(n,t):i}function Uv(n){return Oc(n,t=>{if(!AS(t))throw Ci.create("not-registered");const r=t.authToken;return wb(r)?Object.assign(Object.assign({},t),{authToken:{requestStatus:0}}):t})}async function mb(n,t){try{const r=await hb(n,t),i=Object.assign(Object.assign({},t),{authToken:r});return await Uu(n.appConfig,i),r}catch(r){if(mS(r)&&(r.customData.serverCode===401||r.customData.serverCode===404))await CS(n.appConfig);else{const i=Object.assign(Object.assign({},t),{authToken:{requestStatus:0}});await Uu(n.appConfig,i)}throw r}}function AS(n){return n!==void 0&&n.registrationStatus===2}function gb(n){return n.requestStatus===2&&!yb(n)}function yb(n){const t=Date.now();return t<n.creationTime||n.creationTime+n.expiresIn<t+HN}function vb(n){const t={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},n),{authToken:t})}function wb(n){return n.requestStatus===1&&n.requestTime+hS<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Eb(n){const t=n,{installationEntry:r,registrationPromise:i}=await xm(t);return i?i.catch(console.error):Nm(t).catch(console.error),r.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Sb(n,t=!1){const r=n;return await Ib(r),(await Nm(r,t)).token}async function Ib(n){const{registrationPromise:t}=await xm(n);t&&await t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tb(n){if(!n||!n.options)throw ah("App Configuration");if(!n.name)throw ah("App Name");const t=["projectId","apiKey","appId"];for(const r of t)if(!n.options[r])throw ah(r);return{appName:n.name,projectId:n.options.projectId,apiKey:n.options.apiKey,appId:n.options.appId}}function ah(n){return Ci.create("missing-app-config-values",{valueName:n})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RS="installations",_b="installations-internal",Cb=n=>{const t=n.getProvider("app").getImmediate(),r=Tb(t),i=Mi(t,"heartbeat");return{app:t,appConfig:r,heartbeatServiceProvider:i,_delete:()=>Promise.resolve()}},kb=n=>{const t=n.getProvider("app").getImmediate(),r=Mi(t,RS).getImmediate();return{getId:()=>Eb(r),getToken:s=>Sb(r,s)}};function Ab(){Pn(new yn(RS,Cb,"PUBLIC")),Pn(new yn(_b,kb,"PRIVATE"))}Ab();nn(dS,Am);nn(dS,Am,"esm2017");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vu="analytics",Rb="firebase_id",xb="origin",Nb=60*1e3,bb="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",bm="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lt=new Pc("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Db={["already-exists"]:"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.",["already-initialized"]:"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.",["already-initialized-settings"]:"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.",["interop-component-reg-failed"]:"Firebase Analytics Interop Component failed to instantiate: {$reason}",["invalid-analytics-context"]:"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}",["indexeddb-unavailable"]:"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}",["fetch-throttle"]:"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.",["config-fetch-failed"]:"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}",["no-api-key"]:'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',["no-app-id"]:'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',["no-client-id"]:'The "client_id" field is empty.',["invalid-gtag-resource"]:"Trusted Types detected an invalid gtag resource: {$gtagURL}."},zt=new Oi("analytics","Analytics",Db);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pb(n){if(!n.startsWith(bm)){const t=zt.create("invalid-gtag-resource",{gtagURL:n});return Lt.warn(t.message),""}return n}function xS(n){return Promise.all(n.map(t=>t.catch(r=>r)))}function $b(n,t){let r;return window.trustedTypes&&(r=window.trustedTypes.createPolicy(n,t)),r}function Ob(n,t){const r=$b("firebase-js-sdk-policy",{createScriptURL:Pb}),i=document.createElement("script"),s=`${bm}?l=${n}&id=${t}`;i.src=r?r==null?void 0:r.createScriptURL(s):s,i.async=!0,document.head.appendChild(i)}function Mb(n){let t=[];return Array.isArray(window[n])?t=window[n]:window[n]=t,t}async function Lb(n,t,r,i,s,o){const a=i[s];try{if(a)await t[a];else{const u=(await xS(r)).find(c=>c.measurementId===s);u&&await t[u.appId]}}catch(l){Lt.error(l)}n("config",s,o)}async function Fb(n,t,r,i,s){try{let o=[];if(s&&s.send_to){let a=s.send_to;Array.isArray(a)||(a=[a]);const l=await xS(r);for(const u of a){const c=l.find(h=>h.measurementId===u),d=c&&t[c.appId];if(d)o.push(d);else{o=[];break}}}o.length===0&&(o=Object.values(t)),await Promise.all(o),n("event",i,s||{})}catch(o){Lt.error(o)}}function Ub(n,t,r,i){async function s(o,...a){try{if(o==="event"){const[l,u]=a;await Fb(n,t,r,l,u)}else if(o==="config"){const[l,u]=a;await Lb(n,t,r,i,l,u)}else if(o==="consent"){const[l]=a;n("consent","update",l)}else if(o==="get"){const[l,u,c]=a;n("get",l,u,c)}else if(o==="set"){const[l]=a;n("set",l)}else n(o,...a)}catch(l){Lt.error(l)}}return s}function Vb(n,t,r,i,s){let o=function(...a){window[i].push(arguments)};return window[s]&&typeof window[s]=="function"&&(o=window[s]),window[s]=Ub(o,n,t,r),{gtagCore:o,wrappedGtag:window[s]}}function jb(n){const t=window.document.getElementsByTagName("script");for(const r of Object.values(t))if(r.src&&r.src.includes(bm)&&r.src.includes(n))return r;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zb=30,Bb=1e3;class Hb{constructor(t={},r=Bb){this.throttleMetadata=t,this.intervalMillis=r}getThrottleMetadata(t){return this.throttleMetadata[t]}setThrottleMetadata(t,r){this.throttleMetadata[t]=r}deleteThrottleMetadata(t){delete this.throttleMetadata[t]}}const NS=new Hb;function Wb(n){return new Headers({Accept:"application/json","x-goog-api-key":n})}async function qb(n){var t;const{appId:r,apiKey:i}=n,s={method:"GET",headers:Wb(i)},o=bb.replace("{app-id}",r),a=await fetch(o,s);if(a.status!==200&&a.status!==304){let l="";try{const u=await a.json();!((t=u.error)===null||t===void 0)&&t.message&&(l=u.error.message)}catch{}throw zt.create("config-fetch-failed",{httpStatus:a.status,responseMessage:l})}return a.json()}async function Kb(n,t=NS,r){const{appId:i,apiKey:s,measurementId:o}=n.options;if(!i)throw zt.create("no-app-id");if(!s){if(o)return{measurementId:o,appId:i};throw zt.create("no-api-key")}const a=t.getThrottleMetadata(i)||{backoffCount:0,throttleEndTimeMillis:Date.now()},l=new Yb;return setTimeout(async()=>{l.abort()},r!==void 0?r:Nb),bS({appId:i,apiKey:s,measurementId:o},a,l,t)}async function bS(n,{throttleEndTimeMillis:t,backoffCount:r},i,s=NS){var o;const{appId:a,measurementId:l}=n;try{await Gb(i,t)}catch(u){if(l)return Lt.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${l} provided in the "measurementId" field in the local Firebase config. [${u==null?void 0:u.message}]`),{appId:a,measurementId:l};throw u}try{const u=await qb(n);return s.deleteThrottleMetadata(a),u}catch(u){const c=u;if(!Qb(c)){if(s.deleteThrottleMetadata(a),l)return Lt.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${l} provided in the "measurementId" field in the local Firebase config. [${c==null?void 0:c.message}]`),{appId:a,measurementId:l};throw u}const d=Number((o=c==null?void 0:c.customData)===null||o===void 0?void 0:o.httpStatus)===503?Av(r,s.intervalMillis,zb):Av(r,s.intervalMillis),h={throttleEndTimeMillis:Date.now()+d,backoffCount:r+1};return s.setThrottleMetadata(a,h),Lt.debug(`Calling attemptFetch again in ${d} millis`),bS(n,h,i,s)}}function Gb(n,t){return new Promise((r,i)=>{const s=Math.max(t-Date.now(),0),o=setTimeout(r,s);n.addEventListener(()=>{clearTimeout(o),i(zt.create("fetch-throttle",{throttleEndTimeMillis:t}))})})}function Qb(n){if(!(n instanceof Sn)||!n.customData)return!1;const t=Number(n.customData.httpStatus);return t===429||t===500||t===503||t===504}class Yb{constructor(){this.listeners=[]}addEventListener(t){this.listeners.push(t)}abort(){this.listeners.forEach(t=>t())}}async function Xb(n,t,r,i,s){if(s&&s.global){n("event",r,i);return}else{const o=await t,a=Object.assign(Object.assign({},i),{send_to:o});n("event",r,a)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Jb(){if(nS())try{await rS()}catch(n){return Lt.warn(zt.create("indexeddb-unavailable",{errorInfo:n==null?void 0:n.toString()}).message),!1}else return Lt.warn(zt.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function Zb(n,t,r,i,s,o,a){var l;const u=Kb(n);u.then(m=>{r[m.measurementId]=m.appId,n.options.measurementId&&m.measurementId!==n.options.measurementId&&Lt.warn(`The measurement ID in the local Firebase config (${n.options.measurementId}) does not match the measurement ID fetched from the server (${m.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(m=>Lt.error(m)),t.push(u);const c=Jb().then(m=>{if(m)return i.getId()}),[d,h]=await Promise.all([u,c]);jb(o)||Ob(o,d.measurementId),s("js",new Date);const f=(l=a==null?void 0:a.config)!==null&&l!==void 0?l:{};return f[xb]="firebase",f.update=!0,h!=null&&(f[Rb]=h),s("config",d.measurementId,f),d.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e2{constructor(t){this.app=t}_delete(){return delete Bo[this.app.options.appId],Promise.resolve()}}let Bo={},Vv=[];const jv={};let lh="dataLayer",t2="gtag",zv,DS,Bv=!1;function n2(){const n=[];if(tS()&&n.push("This is a browser extension environment."),fx()||n.push("Cookies are not available."),n.length>0){const t=n.map((i,s)=>`(${s+1}) ${i}`).join(" "),r=zt.create("invalid-analytics-context",{errorInfo:t});Lt.warn(r.message)}}function r2(n,t,r){n2();const i=n.options.appId;if(!i)throw zt.create("no-app-id");if(!n.options.apiKey)if(n.options.measurementId)Lt.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${n.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw zt.create("no-api-key");if(Bo[i]!=null)throw zt.create("already-exists",{id:i});if(!Bv){Mb(lh);const{wrappedGtag:o,gtagCore:a}=Vb(Bo,Vv,jv,lh,t2);DS=o,zv=a,Bv=!0}return Bo[i]=Zb(n,Vv,jv,t,zv,lh,r),new e2(n)}function i2(n=Cm()){n=xt(n);const t=Mi(n,Vu);return t.isInitialized()?t.getImmediate():s2(n)}function s2(n,t={}){const r=Mi(n,Vu);if(r.isInitialized()){const s=r.getImmediate();if(ga(t,r.getOptions()))return s;throw zt.create("already-initialized")}return r.initialize({options:t})}function o2(n,t,r,i){n=xt(n),Xb(DS,Bo[n.app.options.appId],t,r,i).catch(s=>Lt.error(s))}const Hv="@firebase/analytics",Wv="0.10.0";function a2(){Pn(new yn(Vu,(t,{options:r})=>{const i=t.getProvider("app").getImmediate(),s=t.getProvider("installations-internal").getImmediate();return r2(i,s,r)},"PUBLIC")),Pn(new yn("analytics-internal",n,"PRIVATE")),nn(Hv,Wv),nn(Hv,Wv,"esm2017");function n(t){try{const r=t.getProvider(Vu).getImmediate();return{logEvent:(i,s,o)=>o2(r,i,s,o)}}catch(r){throw zt.create("interop-component-reg-failed",{reason:r})}}}a2();function Dm(n,t){var r={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&t.indexOf(i)<0&&(r[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,i=Object.getOwnPropertySymbols(n);s<i.length;s++)t.indexOf(i[s])<0&&Object.prototype.propertyIsEnumerable.call(n,i[s])&&(r[i[s]]=n[i[s]]);return r}function PS(){return{["dependent-sdk-initialized-before-auth"]:"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const l2=PS,$S=new Oi("auth","Firebase",PS());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ju=new Pc("@firebase/auth");function u2(n,...t){ju.logLevel<=ue.WARN&&ju.warn(`Auth (${zs}): ${n}`,...t)}function nu(n,...t){ju.logLevel<=ue.ERROR&&ju.error(`Auth (${zs}): ${n}`,...t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vn(n,...t){throw Pm(n,...t)}function Nn(n,...t){return Pm(n,...t)}function c2(n,t,r){const i=Object.assign(Object.assign({},l2()),{[t]:r});return new Oi("auth","Firebase",i).create(t,{appName:n.name})}function Pm(n,...t){if(typeof n!="string"){const r=t[0],i=[...t.slice(1)];return i[0]&&(i[0].appName=n.name),n._errorFactory.create(r,...i)}return $S.create(n,...t)}function q(n,t,...r){if(!n)throw Pm(t,...r)}function Hn(n){const t="INTERNAL ASSERTION FAILED: "+n;throw nu(t),new Error(t)}function tr(n,t){n||Hn(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ff(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.href)||""}function d2(){return qv()==="http:"||qv()==="https:"}function qv(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function h2(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(d2()||tS()||"connection"in navigator)?navigator.onLine:!0}function f2(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Va{constructor(t,r){this.shortDelay=t,this.longDelay=r,tr(r>t,"Short delay should be less than long delay!"),this.isMobile=cx()||dx()}get(){return h2()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $m(n,t){tr(n.emulator,"Emulator should always be set here");const{url:r}=n.emulator;return t?`${r}${t.startsWith("/")?t.slice(1):t}`:r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OS{static initialize(t,r,i){this.fetchImpl=t,r&&(this.headersImpl=r),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;Hn("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;Hn("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;Hn("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p2={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m2=new Va(3e4,6e4);function Bs(n,t){return n.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:n.tenantId}):t}async function Hs(n,t,r,i,s={}){return MS(n,s,async()=>{let o={},a={};i&&(t==="GET"?a=i:o={body:JSON.stringify(i)});const l=Ua(Object.assign({key:n.config.apiKey},a)).slice(1),u=await n._getAdditionalHeaders();return u["Content-Type"]="application/json",n.languageCode&&(u["X-Firebase-Locale"]=n.languageCode),OS.fetch()(LS(n,n.config.apiHost,r,l),Object.assign({method:t,headers:u,referrerPolicy:"no-referrer"},o))})}async function MS(n,t,r){n._canInitEmulator=!1;const i=Object.assign(Object.assign({},p2),t);try{const s=new g2(n),o=await Promise.race([r(),s.promise]);s.clearNetworkTimeout();const a=await o.json();if("needConfirmation"in a)throw xl(n,"account-exists-with-different-credential",a);if(o.ok&&!("errorMessage"in a))return a;{const l=o.ok?a.errorMessage:a.error.message,[u,c]=l.split(" : ");if(u==="FEDERATED_USER_ID_ALREADY_LINKED")throw xl(n,"credential-already-in-use",a);if(u==="EMAIL_EXISTS")throw xl(n,"email-already-in-use",a);if(u==="USER_DISABLED")throw xl(n,"user-disabled",a);const d=i[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw c2(n,d,c);vn(n,d)}}catch(s){if(s instanceof Sn)throw s;vn(n,"network-request-failed",{message:String(s)})}}async function ja(n,t,r,i,s={}){const o=await Hs(n,t,r,i,s);return"mfaPendingCredential"in o&&vn(n,"multi-factor-auth-required",{_serverResponse:o}),o}function LS(n,t,r,i){const s=`${t}${r}?${i}`;return n.config.emulator?$m(n.config,s):`${n.config.apiScheme}://${s}`}class g2{constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((r,i)=>{this.timer=setTimeout(()=>i(Nn(this.auth,"network-request-failed")),m2.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function xl(n,t,r){const i={appName:n.name};r.email&&(i.email=r.email),r.phoneNumber&&(i.phoneNumber=r.phoneNumber);const s=Nn(n,t,i);return s.customData._tokenResponse=r,s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function y2(n,t){return Hs(n,"POST","/v1/accounts:delete",t)}async function v2(n,t){return Hs(n,"POST","/v1/accounts:lookup",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ho(n){if(n)try{const t=new Date(Number(n));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function w2(n,t=!1){const r=xt(n),i=await r.getIdToken(t),s=Om(i);q(s&&s.exp&&s.auth_time&&s.iat,r.auth,"internal-error");const o=typeof s.firebase=="object"?s.firebase:void 0,a=o==null?void 0:o.sign_in_provider;return{claims:s,token:i,authTime:Ho(uh(s.auth_time)),issuedAtTime:Ho(uh(s.iat)),expirationTime:Ho(uh(s.exp)),signInProvider:a||null,signInSecondFactor:(o==null?void 0:o.sign_in_second_factor)||null}}function uh(n){return Number(n)*1e3}function Om(n){const[t,r,i]=n.split(".");if(t===void 0||r===void 0||i===void 0)return nu("JWT malformed, contained fewer than 3 sections"),null;try{const s=XE(r);return s?JSON.parse(s):(nu("Failed to decode base64 JWT payload"),null)}catch(s){return nu("Caught error parsing JWT payload as JSON",s==null?void 0:s.toString()),null}}function E2(n){const t=Om(n);return q(t,"internal-error"),q(typeof t.exp<"u","internal-error"),q(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function va(n,t,r=!1){if(r)return t;try{return await t}catch(i){throw i instanceof Sn&&S2(i)&&n.auth.currentUser===n&&await n.auth.signOut(),i}}function S2({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I2{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){var r;if(t){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const s=((r=this.user.stsTokenManager.expirationTime)!==null&&r!==void 0?r:0)-Date.now()-3e5;return Math.max(0,s)}}schedule(t=!1){if(!this.isRunning)return;const r=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},r)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){(t==null?void 0:t.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FS{constructor(t,r){this.createdAt=t,this.lastLoginAt=r,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ho(this.lastLoginAt),this.creationTime=Ho(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zu(n){var t;const r=n.auth,i=await n.getIdToken(),s=await va(n,v2(r,{idToken:i}));q(s==null?void 0:s.users.length,r,"internal-error");const o=s.users[0];n._notifyReloadListener(o);const a=!((t=o.providerUserInfo)===null||t===void 0)&&t.length?C2(o.providerUserInfo):[],l=_2(n.providerData,a),u=n.isAnonymous,c=!(n.email&&o.passwordHash)&&!(l!=null&&l.length),d=u?c:!1,h={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:l,metadata:new FS(o.createdAt,o.lastLoginAt),isAnonymous:d};Object.assign(n,h)}async function T2(n){const t=xt(n);await zu(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function _2(n,t){return[...n.filter(i=>!t.some(s=>s.providerId===i.providerId)),...t]}function C2(n){return n.map(t=>{var{providerId:r}=t,i=Dm(t,["providerId"]);return{providerId:r,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function k2(n,t){const r=await MS(n,{},async()=>{const i=Ua({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:s,apiKey:o}=n.config,a=LS(n,s,"/v1/token",`key=${o}`),l=await n._getAdditionalHeaders();return l["Content-Type"]="application/x-www-form-urlencoded",OS.fetch()(a,{method:"POST",headers:l,body:i})});return{accessToken:r.access_token,expiresIn:r.expires_in,refreshToken:r.refresh_token}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wa{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){q(t.idToken,"internal-error"),q(typeof t.idToken<"u","internal-error"),q(typeof t.refreshToken<"u","internal-error");const r="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):E2(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,r)}async getToken(t,r=!1){return q(!this.accessToken||this.refreshToken,t,"user-token-expired"),!r&&this.accessToken&&!this.isExpired?this.accessToken:this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null}clearRefreshToken(){this.refreshToken=null}async refresh(t,r){const{accessToken:i,refreshToken:s,expiresIn:o}=await k2(t,r);this.updateTokensAndExpiration(i,s,Number(o))}updateTokensAndExpiration(t,r,i){this.refreshToken=r||null,this.accessToken=t||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(t,r){const{refreshToken:i,accessToken:s,expirationTime:o}=r,a=new wa;return i&&(q(typeof i=="string","internal-error",{appName:t}),a.refreshToken=i),s&&(q(typeof s=="string","internal-error",{appName:t}),a.accessToken=s),o&&(q(typeof o=="number","internal-error",{appName:t}),a.expirationTime=o),a}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new wa,this.toJSON())}_performRefresh(){return Hn("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cr(n,t){q(typeof n=="string"||typeof n>"u","internal-error",{appName:t})}class mi{constructor(t){var{uid:r,auth:i,stsTokenManager:s}=t,o=Dm(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new I2(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=r,this.auth=i,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new FS(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(t){const r=await va(this,this.stsTokenManager.getToken(this.auth,t));return q(r,this.auth,"internal-error"),this.accessToken!==r&&(this.accessToken=r,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),r}getIdTokenResult(t){return w2(this,t)}reload(){return T2(this)}_assign(t){this!==t&&(q(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(r=>Object.assign({},r)),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const r=new mi(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}));return r.metadata._copy(this.metadata),r}_onReload(t){q(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,r=!1){let i=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),i=!0),r&&await zu(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){const t=await this.getIdToken();return await va(this,y2(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>Object.assign({},t)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,r){var i,s,o,a,l,u,c,d;const h=(i=r.displayName)!==null&&i!==void 0?i:void 0,f=(s=r.email)!==null&&s!==void 0?s:void 0,m=(o=r.phoneNumber)!==null&&o!==void 0?o:void 0,E=(a=r.photoURL)!==null&&a!==void 0?a:void 0,S=(l=r.tenantId)!==null&&l!==void 0?l:void 0,I=(u=r._redirectEventId)!==null&&u!==void 0?u:void 0,y=(c=r.createdAt)!==null&&c!==void 0?c:void 0,p=(d=r.lastLoginAt)!==null&&d!==void 0?d:void 0,{uid:v,emailVerified:g,isAnonymous:C,providerData:b,stsTokenManager:R}=r;q(v&&R,t,"internal-error");const $=wa.fromJSON(this.name,R);q(typeof v=="string",t,"internal-error"),cr(h,t.name),cr(f,t.name),q(typeof g=="boolean",t,"internal-error"),q(typeof C=="boolean",t,"internal-error"),cr(m,t.name),cr(E,t.name),cr(S,t.name),cr(I,t.name),cr(y,t.name),cr(p,t.name);const G=new mi({uid:v,auth:t,email:f,emailVerified:g,displayName:h,isAnonymous:C,photoURL:E,phoneNumber:m,tenantId:S,stsTokenManager:$,createdAt:y,lastLoginAt:p});return b&&Array.isArray(b)&&(G.providerData=b.map(H=>Object.assign({},H))),I&&(G._redirectEventId=I),G}static async _fromIdTokenResponse(t,r,i=!1){const s=new wa;s.updateFromServerResponse(r);const o=new mi({uid:r.localId,auth:t,stsTokenManager:s,isAnonymous:i});return await zu(o),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kv=new Map;function Wn(n){tr(n instanceof Function,"Expected a class definition");let t=Kv.get(n);return t?(tr(t instanceof n,"Instance stored in cache mismatched with class"),t):(t=new n,Kv.set(n,t),t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class US{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,r){this.storage[t]=r}async _get(t){const r=this.storage[t];return r===void 0?null:r}async _remove(t){delete this.storage[t]}_addListener(t,r){}_removeListener(t,r){}}US.type="NONE";const Gv=US;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ru(n,t,r){return`firebase:${n}:${t}:${r}`}class gs{constructor(t,r,i){this.persistence=t,this.auth=r,this.userKey=i;const{config:s,name:o}=this.auth;this.fullUserKey=ru(this.userKey,s.apiKey,o),this.fullPersistenceKey=ru("persistence",s.apiKey,o),this.boundEventHandler=r._onStorageEvent.bind(r),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);return t?mi._fromJSON(this.auth,t):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const r=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,r)return this.setCurrentUser(r)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,r,i="authUser"){if(!r.length)return new gs(Wn(Gv),t,i);const s=(await Promise.all(r.map(async c=>{if(await c._isAvailable())return c}))).filter(c=>c);let o=s[0]||Wn(Gv);const a=ru(i,t.config.apiKey,t.name);let l=null;for(const c of r)try{const d=await c._get(a);if(d){const h=mi._fromJSON(t,d);c!==o&&(l=h),o=c;break}}catch{}const u=s.filter(c=>c._shouldAllowMigration);return!o._shouldAllowMigration||!u.length?new gs(o,t,i):(o=u[0],l&&await o._set(a,l.toJSON()),await Promise.all(r.map(async c=>{if(c!==o)try{await c._remove(a)}catch{}})),new gs(o,t,i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qv(n){const t=n.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(zS(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(VS(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(HS(t))return"Blackberry";if(WS(t))return"Webos";if(Mm(t))return"Safari";if((t.includes("chrome/")||jS(t))&&!t.includes("edge/"))return"Chrome";if(BS(t))return"Android";{const r=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=n.match(r);if((i==null?void 0:i.length)===2)return i[1]}return"Other"}function VS(n=Tt()){return/firefox\//i.test(n)}function Mm(n=Tt()){const t=n.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function jS(n=Tt()){return/crios\//i.test(n)}function zS(n=Tt()){return/iemobile/i.test(n)}function BS(n=Tt()){return/android/i.test(n)}function HS(n=Tt()){return/blackberry/i.test(n)}function WS(n=Tt()){return/webos/i.test(n)}function Mc(n=Tt()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function A2(n=Tt()){var t;return Mc(n)&&!!(!((t=window.navigator)===null||t===void 0)&&t.standalone)}function R2(){return hx()&&document.documentMode===10}function qS(n=Tt()){return Mc(n)||BS(n)||WS(n)||HS(n)||/windows phone/i.test(n)||zS(n)}function x2(){try{return!!(window&&window!==window.top)}catch{return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KS(n,t=[]){let r;switch(n){case"Browser":r=Qv(Tt());break;case"Worker":r=`${Qv(Tt())}-${n}`;break;default:r=n}const i=t.length?t.join(","):"FirebaseCore-web";return`${r}/JsCore/${zs}/${i}`}async function GS(n,t){return Hs(n,"GET","/v2/recaptchaConfig",Bs(n,t))}function Yv(n){return n!==void 0&&n.enterprise!==void 0}class QS{constructor(t){if(this.siteKey="",this.emailPasswordEnabled=!1,t.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=t.recaptchaKey.split("/")[3],this.emailPasswordEnabled=t.recaptchaEnforcementState.some(r=>r.provider==="EMAIL_PASSWORD_PROVIDER"&&r.enforcementState!=="OFF")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function N2(){var n,t;return(t=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&t!==void 0?t:document}function YS(n){return new Promise((t,r)=>{const i=document.createElement("script");i.setAttribute("src",n),i.onload=t,i.onerror=s=>{const o=Nn("internal-error");o.customData=s,r(o)},i.type="text/javascript",i.charset="UTF-8",N2().appendChild(i)})}function b2(n){return`__${n}${Math.floor(Math.random()*1e6)}`}const D2="https://www.google.com/recaptcha/enterprise.js?render=",P2="recaptcha-enterprise",$2="NO_RECAPTCHA";class XS{constructor(t){this.type=P2,this.auth=Ws(t)}async verify(t="verify",r=!1){async function i(o){if(!r){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return o._agentRecaptchaConfig.siteKey;if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return o._tenantRecaptchaConfigs[o.tenantId].siteKey}return new Promise(async(a,l)=>{GS(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(u=>{if(u.recaptchaKey===void 0)l(new Error("recaptcha Enterprise site key undefined"));else{const c=new QS(u);return o.tenantId==null?o._agentRecaptchaConfig=c:o._tenantRecaptchaConfigs[o.tenantId]=c,a(c.siteKey)}}).catch(u=>{l(u)})})}function s(o,a,l){const u=window.grecaptcha;Yv(u)?u.enterprise.ready(()=>{u.enterprise.execute(o,{action:t}).then(c=>{a(c)}).catch(()=>{a($2)})}):l(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((o,a)=>{i(this.auth).then(l=>{if(!r&&Yv(window.grecaptcha))s(l,o,a);else{if(typeof window>"u"){a(new Error("RecaptchaVerifier is only supported in browser"));return}YS(D2+l).then(()=>{s(l,o,a)}).catch(u=>{a(u)})}}).catch(l=>{a(l)})})}}async function Bu(n,t,r,i=!1){const s=new XS(n);let o;try{o=await s.verify(r)}catch{o=await s.verify(r,!0)}const a=Object.assign({},t);return i?Object.assign(a,{captchaResp:o}):Object.assign(a,{captchaResponse:o}),Object.assign(a,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(a,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),a}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O2{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,r){const i=o=>new Promise((a,l)=>{try{const u=t(o);a(u)}catch(u){l(u)}});i.onAbort=r,this.queue.push(i);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const r=[];try{for(const i of this.queue)await i(t),i.onAbort&&r.push(i.onAbort)}catch(i){r.reverse();for(const s of r)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i==null?void 0:i.message})}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M2{constructor(t,r,i,s){this.app=t,this.heartbeatServiceProvider=r,this.appCheckServiceProvider=i,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Xv(this),this.idTokenSubscription=new Xv(this),this.beforeStateQueue=new O2(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=$S,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=s.sdkClientVersion}_initializeWithPersistence(t,r){return r&&(this._popupRedirectResolver=Wn(r)),this._initializationPromise=this.queue(async()=>{var i,s;if(!this._deleted&&(this.persistenceManager=await gs.create(this,t),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(r),this.lastNotifiedUid=((s=this.currentUser)===null||s===void 0?void 0:s.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUser(t){var r;const i=await this.assertedPersistence.getCurrentUser();let s=i,o=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const a=(r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId,l=s==null?void 0:s._redirectEventId,u=await this.tryRedirectSignIn(t);(!a||a===l)&&(u!=null&&u.user)&&(s=u.user,o=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(s)}catch(a){s=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(a))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return q(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(t){let r=null;try{r=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return r}async reloadAndSetCurrentUserOrClear(t){try{await zu(t)}catch(r){if((r==null?void 0:r.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=f2()}async _delete(){this._deleted=!0}async updateCurrentUser(t){const r=t?xt(t):null;return r&&q(r.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(r&&r._clone(this))}async _updateCurrentUser(t,r=!1){if(!this._deleted)return t&&q(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),r||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0)}setPersistence(t){return this.queue(async()=>{await this.assertedPersistence.setPersistence(Wn(t))})}async initializeRecaptchaConfig(){const t=await GS(this,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),r=new QS(t);this.tenantId==null?this._agentRecaptchaConfig=r:this._tenantRecaptchaConfigs[this.tenantId]=r,r.emailPasswordEnabled&&new XS(this).verify()}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(t){this._errorFactory=new Oi("auth","Firebase",t())}onAuthStateChanged(t,r,i){return this.registerStateListener(this.authStateSubscription,t,r,i)}beforeAuthStateChanged(t,r){return this.beforeStateQueue.pushCallback(t,r)}onIdTokenChanged(t,r,i){return this.registerStateListener(this.idTokenSubscription,t,r,i)}toJSON(){var t;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(t=this._currentUser)===null||t===void 0?void 0:t.toJSON()}}async _setRedirectUser(t,r){const i=await this.getOrInitRedirectPersistenceManager(r);return t===null?i.removeCurrentUser():i.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const r=t&&Wn(t)||this._popupRedirectResolver;q(r,this,"argument-error"),this.redirectPersistenceManager=await gs.create(this,[Wn(r._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){var r,i;return this._isInitialized&&await this.queue(async()=>{}),((r=this._currentUser)===null||r===void 0?void 0:r._redirectEventId)===t?this._currentUser:((i=this.redirectUser)===null||i===void 0?void 0:i._redirectEventId)===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var t,r;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const i=(r=(t=this.currentUser)===null||t===void 0?void 0:t.uid)!==null&&r!==void 0?r:null;this.lastNotifiedUid!==i&&(this.lastNotifiedUid=i,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,r,i,s){if(this._deleted)return()=>{};const o=typeof r=="function"?r:r.next.bind(r),a=this._isInitialized?Promise.resolve():this._initializationPromise;return q(a,this,"internal-error"),a.then(()=>o(this.currentUser)),typeof r=="function"?t.addObserver(r,i,s):t.addObserver(r)}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return q(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=KS(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var t;const r={["X-Client-Version"]:this.clientVersion};this.app.options.appId&&(r["X-Firebase-gmpid"]=this.app.options.appId);const i=await((t=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getHeartbeatsHeader());i&&(r["X-Firebase-Client"]=i);const s=await this._getAppCheckToken();return s&&(r["X-Firebase-AppCheck"]=s),r}async _getAppCheckToken(){var t;const r=await((t=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getToken());return r!=null&&r.error&&u2(`Error while retrieving App Check token: ${r.error}`),r==null?void 0:r.token}}function Ws(n){return xt(n)}class Xv{constructor(t){this.auth=t,this.observer=null,this.addObserver=vx(r=>this.observer=r)}get next(){return q(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function L2(n,t){const r=Mi(n,"auth");if(r.isInitialized()){const s=r.getImmediate(),o=r.getOptions();if(ga(o,t??{}))return s;vn(s,"already-initialized")}return r.initialize({options:t})}function F2(n,t){const r=(t==null?void 0:t.persistence)||[],i=(Array.isArray(r)?r:[r]).map(Wn);t!=null&&t.errorMap&&n._updateErrorMap(t.errorMap),n._initializeWithPersistence(i,t==null?void 0:t.popupRedirectResolver)}function U2(n,t,r){const i=Ws(n);q(i._canInitEmulator,i,"emulator-config-failed"),q(/^https?:\/\//.test(t),i,"invalid-emulator-scheme");const s=!!(r!=null&&r.disableWarnings),o=JS(t),{host:a,port:l}=V2(t),u=l===null?"":`:${l}`;i.config.emulator={url:`${o}//${a}${u}/`},i.settings.appVerificationDisabledForTesting=!0,i.emulatorConfig=Object.freeze({host:a,port:l,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:s})}),s||j2()}function JS(n){const t=n.indexOf(":");return t<0?"":n.substr(0,t+1)}function V2(n){const t=JS(n),r=/(\/\/)?([^?#/]+)/.exec(n.substr(t.length));if(!r)return{host:"",port:null};const i=r[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(i);if(s){const o=s[1];return{host:o,port:Jv(i.substr(o.length+1))}}else{const[o,a]=i.split(":");return{host:o,port:Jv(a)}}}function Jv(n){if(!n)return null;const t=Number(n);return isNaN(t)?null:t}function j2(){function n(){const t=document.createElement("p"),r=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",r.position="fixed",r.width="100%",r.backgroundColor="#ffffff",r.border=".1em solid #000000",r.color="#b50000",r.bottom="0px",r.left="0px",r.margin="0px",r.zIndex="10000",r.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lm{constructor(t,r){this.providerId=t,this.signInMethod=r}toJSON(){return Hn("not implemented")}_getIdTokenResponse(t){return Hn("not implemented")}_linkToIdToken(t,r){return Hn("not implemented")}_getReauthenticationResolver(t){return Hn("not implemented")}}async function z2(n,t){return Hs(n,"POST","/v1/accounts:update",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ch(n,t){return ja(n,"POST","/v1/accounts:signInWithPassword",Bs(n,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function B2(n,t){return ja(n,"POST","/v1/accounts:signInWithEmailLink",Bs(n,t))}async function H2(n,t){return ja(n,"POST","/v1/accounts:signInWithEmailLink",Bs(n,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ea extends Lm{constructor(t,r,i,s=null){super("password",i),this._email=t,this._password=r,this._tenantId=s}static _fromEmailAndPassword(t,r){return new Ea(t,r,"password")}static _fromEmailAndCode(t,r,i=null){return new Ea(t,r,"emailLink",i)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(t){const r=typeof t=="string"?JSON.parse(t):t;if(r!=null&&r.email&&(r!=null&&r.password)){if(r.signInMethod==="password")return this._fromEmailAndPassword(r.email,r.password);if(r.signInMethod==="emailLink")return this._fromEmailAndCode(r.email,r.password,r.tenantId)}return null}async _getIdTokenResponse(t){var r;switch(this.signInMethod){case"password":const i={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};if(!((r=t._getRecaptchaConfig())===null||r===void 0)&&r.emailPasswordEnabled){const s=await Bu(t,i,"signInWithPassword");return ch(t,s)}else return ch(t,i).catch(async s=>{if(s.code==="auth/missing-recaptcha-token"){console.log("Sign-in with email address and password is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const o=await Bu(t,i,"signInWithPassword");return ch(t,o)}else return Promise.reject(s)});case"emailLink":return B2(t,{email:this._email,oobCode:this._password});default:vn(t,"internal-error")}}async _linkToIdToken(t,r){switch(this.signInMethod){case"password":return z2(t,{idToken:r,returnSecureToken:!0,email:this._email,password:this._password});case"emailLink":return H2(t,{idToken:r,email:this._email,oobCode:this._password});default:vn(t,"internal-error")}}_getReauthenticationResolver(t){return this._getIdTokenResponse(t)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ys(n,t){return ja(n,"POST","/v1/accounts:signInWithIdp",Bs(n,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W2="http://localhost";class Ai extends Lm{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const r=new Ai(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(r.idToken=t.idToken),t.accessToken&&(r.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(r.nonce=t.nonce),t.pendingToken&&(r.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(r.accessToken=t.oauthToken,r.secret=t.oauthTokenSecret):vn("argument-error"),r}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const r=typeof t=="string"?JSON.parse(t):t,{providerId:i,signInMethod:s}=r,o=Dm(r,["providerId","signInMethod"]);if(!i||!s)return null;const a=new Ai(i,s);return a.idToken=o.idToken||void 0,a.accessToken=o.accessToken||void 0,a.secret=o.secret,a.nonce=o.nonce,a.pendingToken=o.pendingToken||null,a}_getIdTokenResponse(t){const r=this.buildRequest();return ys(t,r)}_linkToIdToken(t,r){const i=this.buildRequest();return i.idToken=r,ys(t,i)}_getReauthenticationResolver(t){const r=this.buildRequest();return r.autoCreate=!1,ys(t,r)}buildRequest(){const t={requestUri:W2,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const r={};this.idToken&&(r.id_token=this.idToken),this.accessToken&&(r.access_token=this.accessToken),this.secret&&(r.oauth_token_secret=this.secret),r.providerId=this.providerId,this.nonce&&!this.pendingToken&&(r.nonce=this.nonce),t.postBody=Ua(r)}return t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function q2(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function K2(n){const t=Co(ko(n)).link,r=t?Co(ko(t)).deep_link_id:null,i=Co(ko(n)).deep_link_id;return(i?Co(ko(i)).link:null)||i||r||t||n}class Fm{constructor(t){var r,i,s,o,a,l;const u=Co(ko(t)),c=(r=u.apiKey)!==null&&r!==void 0?r:null,d=(i=u.oobCode)!==null&&i!==void 0?i:null,h=q2((s=u.mode)!==null&&s!==void 0?s:null);q(c&&d&&h,"argument-error"),this.apiKey=c,this.operation=h,this.code=d,this.continueUrl=(o=u.continueUrl)!==null&&o!==void 0?o:null,this.languageCode=(a=u.languageCode)!==null&&a!==void 0?a:null,this.tenantId=(l=u.tenantId)!==null&&l!==void 0?l:null}static parseLink(t){const r=K2(t);try{return new Fm(r)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qs{constructor(){this.providerId=qs.PROVIDER_ID}static credential(t,r){return Ea._fromEmailAndPassword(t,r)}static credentialWithLink(t,r){const i=Fm.parseLink(r);return q(i,"argument-error"),Ea._fromEmailAndCode(t,i.code,i.tenantId)}}qs.PROVIDER_ID="password";qs.EMAIL_PASSWORD_SIGN_IN_METHOD="password";qs.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZS{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class za extends ZS{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yr extends za{constructor(){super("facebook.com")}static credential(t){return Ai._fromParams({providerId:yr.PROVIDER_ID,signInMethod:yr.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return yr.credentialFromTaggedObject(t)}static credentialFromError(t){return yr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return yr.credential(t.oauthAccessToken)}catch{return null}}}yr.FACEBOOK_SIGN_IN_METHOD="facebook.com";yr.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vr extends za{constructor(){super("google.com"),this.addScope("profile")}static credential(t,r){return Ai._fromParams({providerId:vr.PROVIDER_ID,signInMethod:vr.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:r})}static credentialFromResult(t){return vr.credentialFromTaggedObject(t)}static credentialFromError(t){return vr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:r,oauthAccessToken:i}=t;if(!r&&!i)return null;try{return vr.credential(r,i)}catch{return null}}}vr.GOOGLE_SIGN_IN_METHOD="google.com";vr.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wr extends za{constructor(){super("github.com")}static credential(t){return Ai._fromParams({providerId:wr.PROVIDER_ID,signInMethod:wr.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return wr.credentialFromTaggedObject(t)}static credentialFromError(t){return wr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return wr.credential(t.oauthAccessToken)}catch{return null}}}wr.GITHUB_SIGN_IN_METHOD="github.com";wr.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Er extends za{constructor(){super("twitter.com")}static credential(t,r){return Ai._fromParams({providerId:Er.PROVIDER_ID,signInMethod:Er.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:r})}static credentialFromResult(t){return Er.credentialFromTaggedObject(t)}static credentialFromError(t){return Er.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:r,oauthTokenSecret:i}=t;if(!r||!i)return null;try{return Er.credential(r,i)}catch{return null}}}Er.TWITTER_SIGN_IN_METHOD="twitter.com";Er.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dh(n,t){return ja(n,"POST","/v1/accounts:signUp",Bs(n,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ri{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,r,i,s=!1){const o=await mi._fromIdTokenResponse(t,i,s),a=Zv(i);return new Ri({user:o,providerId:a,_tokenResponse:i,operationType:r})}static async _forOperation(t,r,i){await t._updateTokensIfNecessary(i,!0);const s=Zv(i);return new Ri({user:t,providerId:s,_tokenResponse:i,operationType:r})}}function Zv(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hu extends Sn{constructor(t,r,i,s){var o;super(r.code,r.message),this.operationType=i,this.user=s,Object.setPrototypeOf(this,Hu.prototype),this.customData={appName:t.name,tenantId:(o=t.tenantId)!==null&&o!==void 0?o:void 0,_serverResponse:r.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(t,r,i,s){return new Hu(t,r,i,s)}}function eI(n,t,r,i){return(t==="reauthenticate"?r._getReauthenticationResolver(n):r._getIdTokenResponse(n)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?Hu._fromErrorAndOperation(n,o,t,i):o})}async function G2(n,t,r=!1){const i=await va(n,t._linkToIdToken(n.auth,await n.getIdToken()),r);return Ri._forOperation(n,"link",i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Q2(n,t,r=!1){const{auth:i}=n,s="reauthenticate";try{const o=await va(n,eI(i,s,t,n),r);q(o.idToken,i,"internal-error");const a=Om(o.idToken);q(a,i,"internal-error");const{sub:l}=a;return q(n.uid===l,i,"user-mismatch"),Ri._forOperation(n,s,o)}catch(o){throw(o==null?void 0:o.code)==="auth/user-not-found"&&vn(i,"user-mismatch"),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tI(n,t,r=!1){const i="signIn",s=await eI(n,i,t),o=await Ri._fromIdTokenResponse(n,i,s);return r||await n._updateCurrentUser(o.user),o}async function Y2(n,t){return tI(Ws(n),t)}async function X2(n,t,r){var i;const s=Ws(n),o={returnSecureToken:!0,email:t,password:r,clientType:"CLIENT_TYPE_WEB"};let a;if(!((i=s._getRecaptchaConfig())===null||i===void 0)&&i.emailPasswordEnabled){const c=await Bu(s,o,"signUpPassword");a=dh(s,c)}else a=dh(s,o).catch(async c=>{if(c.code==="auth/missing-recaptcha-token"){console.log("Sign-up is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-up flow.");const d=await Bu(s,o,"signUpPassword");return dh(s,d)}else return Promise.reject(c)});const l=await a.catch(c=>Promise.reject(c)),u=await Ri._fromIdTokenResponse(s,"signIn",l);return await s._updateCurrentUser(u.user),u}function J2(n,t,r){return Y2(xt(n),qs.credential(t,r))}function Z2(n,t,r,i){return xt(n).onIdTokenChanged(t,r,i)}function eD(n,t,r){return xt(n).beforeAuthStateChanged(t,r)}const Wu="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nI{constructor(t,r){this.storageRetriever=t,this.type=r}_isAvailable(){try{return this.storage?(this.storage.setItem(Wu,"1"),this.storage.removeItem(Wu),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,r){return this.storage.setItem(t,JSON.stringify(r)),Promise.resolve()}_get(t){const r=this.storage.getItem(t);return Promise.resolve(r?JSON.parse(r):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tD(){const n=Tt();return Mm(n)||Mc(n)}const nD=1e3,rD=10;class rI extends nI{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,r)=>this.onStorageEvent(t,r),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=tD()&&x2(),this.fallbackToPolling=qS(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const r of Object.keys(this.listeners)){const i=this.storage.getItem(r),s=this.localCache[r];i!==s&&t(r,s,i)}}onStorageEvent(t,r=!1){if(!t.key){this.forAllChangedKeys((a,l,u)=>{this.notifyListeners(a,u)});return}const i=t.key;if(r?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const a=this.storage.getItem(i);if(t.newValue!==a)t.newValue!==null?this.storage.setItem(i,t.newValue):this.storage.removeItem(i);else if(this.localCache[i]===t.newValue&&!r)return}const s=()=>{const a=this.storage.getItem(i);!r&&this.localCache[i]===a||this.notifyListeners(i,a)},o=this.storage.getItem(i);R2()&&o!==t.newValue&&t.newValue!==t.oldValue?setTimeout(s,rD):s()}notifyListeners(t,r){this.localCache[t]=r;const i=this.listeners[t];if(i)for(const s of Array.from(i))s(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,r,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:r,newValue:i}),!0)})},nD)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,r){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(r)}_removeListener(t,r){this.listeners[t]&&(this.listeners[t].delete(r),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,r){await super._set(t,r),this.localCache[t]=JSON.stringify(r)}async _get(t){const r=await super._get(t);return this.localCache[t]=JSON.stringify(r),r}async _remove(t){await super._remove(t),delete this.localCache[t]}}rI.type="LOCAL";const iD=rI;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iI extends nI{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,r){}_removeListener(t,r){}}iI.type="SESSION";const sI=iI;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sD(n){return Promise.all(n.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(r){return{fulfilled:!1,reason:r}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lc{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const r=this.receivers.find(s=>s.isListeningto(t));if(r)return r;const i=new Lc(t);return this.receivers.push(i),i}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const r=t,{eventId:i,eventType:s,data:o}=r.data,a=this.handlersMap[s];if(!(a!=null&&a.size))return;r.ports[0].postMessage({status:"ack",eventId:i,eventType:s});const l=Array.from(a).map(async c=>c(r.origin,o)),u=await sD(l);r.ports[0].postMessage({status:"done",eventId:i,eventType:s,response:u})}_subscribe(t,r){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(r)}_unsubscribe(t,r){this.handlersMap[t]&&r&&this.handlersMap[t].delete(r),(!r||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Lc.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Um(n="",t=10){let r="";for(let i=0;i<t;i++)r+=Math.floor(Math.random()*10);return n+r}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oD{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,r,i=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let o,a;return new Promise((l,u)=>{const c=Um("",20);s.port1.start();const d=setTimeout(()=>{u(new Error("unsupported_event"))},i);a={messageChannel:s,onMessage(h){const f=h;if(f.data.eventId===c)switch(f.data.status){case"ack":clearTimeout(d),o=setTimeout(()=>{u(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),l(f.data.response);break;default:clearTimeout(d),clearTimeout(o),u(new Error("invalid_response"));break}}},this.handlers.add(a),s.port1.addEventListener("message",a.onMessage),this.target.postMessage({eventType:t,eventId:c,data:r},[s.port2])}).finally(()=>{a&&this.removeMessageHandler(a)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bn(){return window}function aD(n){bn().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oI(){return typeof bn().WorkerGlobalScope<"u"&&typeof bn().importScripts=="function"}async function lD(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function uD(){var n;return((n=navigator==null?void 0:navigator.serviceWorker)===null||n===void 0?void 0:n.controller)||null}function cD(){return oI()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aI="firebaseLocalStorageDb",dD=1,qu="firebaseLocalStorage",lI="fbase_key";class Ba{constructor(t){this.request=t}toPromise(){return new Promise((t,r)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{r(this.request.error)})})}}function Fc(n,t){return n.transaction([qu],t?"readwrite":"readonly").objectStore(qu)}function hD(){const n=indexedDB.deleteDatabase(aI);return new Ba(n).toPromise()}function Uf(){const n=indexedDB.open(aI,dD);return new Promise((t,r)=>{n.addEventListener("error",()=>{r(n.error)}),n.addEventListener("upgradeneeded",()=>{const i=n.result;try{i.createObjectStore(qu,{keyPath:lI})}catch(s){r(s)}}),n.addEventListener("success",async()=>{const i=n.result;i.objectStoreNames.contains(qu)?t(i):(i.close(),await hD(),t(await Uf()))})})}async function e0(n,t,r){const i=Fc(n,!0).put({[lI]:t,value:r});return new Ba(i).toPromise()}async function fD(n,t){const r=Fc(n,!1).get(t),i=await new Ba(r).toPromise();return i===void 0?null:i.value}function t0(n,t){const r=Fc(n,!0).delete(t);return new Ba(r).toPromise()}const pD=800,mD=3;class uI{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Uf(),this.db)}async _withRetries(t){let r=0;for(;;)try{const i=await this._openDb();return await t(i)}catch(i){if(r++>mD)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return oI()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Lc._getInstance(cD()),this.receiver._subscribe("keyChanged",async(t,r)=>({keyProcessed:(await this._poll()).includes(r.key)})),this.receiver._subscribe("ping",async(t,r)=>["keyChanged"])}async initializeSender(){var t,r;if(this.activeServiceWorker=await lD(),!this.activeServiceWorker)return;this.sender=new oD(this.activeServiceWorker);const i=await this.sender._send("ping",{},800);i&&!((t=i[0])===null||t===void 0)&&t.fulfilled&&!((r=i[0])===null||r===void 0)&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||uD()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await Uf();return await e0(t,Wu,"1"),await t0(t,Wu),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,r){return this._withPendingWrite(async()=>(await this._withRetries(i=>e0(i,t,r)),this.localCache[t]=r,this.notifyServiceWorker(t)))}async _get(t){const r=await this._withRetries(i=>fD(i,t));return this.localCache[t]=r,r}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(r=>t0(r,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(s=>{const o=Fc(s,!1).getAll();return new Ba(o).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const r=[],i=new Set;for(const{fbase_key:s,value:o}of t)i.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(o)&&(this.notifyListeners(s,o),r.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!i.has(s)&&(this.notifyListeners(s,null),r.push(s));return r}notifyListeners(t,r){this.localCache[t]=r;const i=this.listeners[t];if(i)for(const s of Array.from(i))s(r)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),pD)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,r){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(r)}_removeListener(t,r){this.listeners[t]&&(this.listeners[t].delete(r),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}uI.type="LOCAL";const gD=uI;new Va(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yD(n,t){return t?Wn(t):(q(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vm extends Lm{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return ys(t,this._buildIdpRequest())}_linkToIdToken(t,r){return ys(t,this._buildIdpRequest(r))}_getReauthenticationResolver(t){return ys(t,this._buildIdpRequest())}_buildIdpRequest(t){const r={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(r.idToken=t),r}}function vD(n){return tI(n.auth,new Vm(n),n.bypassAuthState)}function wD(n){const{auth:t,user:r}=n;return q(r,t,"internal-error"),Q2(r,new Vm(n),n.bypassAuthState)}async function ED(n){const{auth:t,user:r}=n;return q(r,t,"internal-error"),G2(r,new Vm(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cI{constructor(t,r,i,s,o=!1){this.auth=t,this.resolver=i,this.user=s,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(r)?r:[r]}execute(){return new Promise(async(t,r)=>{this.pendingPromise={resolve:t,reject:r};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(t){const{urlResponse:r,sessionId:i,postBody:s,tenantId:o,error:a,type:l}=t;if(a){this.reject(a);return}const u={auth:this.auth,requestUri:r,sessionId:i,tenantId:o||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(l)(u))}catch(c){this.reject(c)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return vD;case"linkViaPopup":case"linkViaRedirect":return ED;case"reauthViaPopup":case"reauthViaRedirect":return wD;default:vn(this.auth,"internal-error")}}resolve(t){tr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){tr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SD=new Va(2e3,1e4);class as extends cI{constructor(t,r,i,s,o){super(t,r,s,o),this.provider=i,this.authWindow=null,this.pollId=null,as.currentPopupAction&&as.currentPopupAction.cancel(),as.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return q(t,this.auth,"internal-error"),t}async onExecution(){tr(this.filter.length===1,"Popup operations only handle one event");const t=Um();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(r=>{this.reject(r)}),this.resolver._isIframeWebStorageSupported(this.auth,r=>{r||this.reject(Nn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var t;return((t=this.authWindow)===null||t===void 0?void 0:t.associatedEvent)||null}cancel(){this.reject(Nn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,as.currentPopupAction=null}pollUserCancellation(){const t=()=>{var r,i;if(!((i=(r=this.authWindow)===null||r===void 0?void 0:r.window)===null||i===void 0)&&i.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Nn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,SD.get())};t()}}as.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ID="pendingRedirect",iu=new Map;class TD extends cI{constructor(t,r,i=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],r,void 0,i),this.eventId=null}async execute(){let t=iu.get(this.auth._key());if(!t){try{const i=await _D(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(i)}catch(r){t=()=>Promise.reject(r)}iu.set(this.auth._key(),t)}return this.bypassAuthState||iu.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const r=await this.auth._redirectUserForId(t.eventId);if(r)return this.user=r,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function _D(n,t){const r=AD(t),i=kD(n);if(!await i._isAvailable())return!1;const s=await i._get(r)==="true";return await i._remove(r),s}function CD(n,t){iu.set(n._key(),t)}function kD(n){return Wn(n._redirectPersistence)}function AD(n){return ru(ID,n.config.apiKey,n.name)}async function RD(n,t,r=!1){const i=Ws(n),s=yD(i,t),a=await new TD(i,s,r).execute();return a&&!r&&(delete a.user._redirectEventId,await i._persistUserIfCurrent(a.user),await i._setRedirectUser(null,t)),a}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xD=10*60*1e3;class ND{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let r=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(t,i)&&(r=!0,this.sendToConsumer(t,i),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!bD(t)||(this.hasHandledPotentialRedirect=!0,r||(this.queuedRedirectEvent=t,r=!0)),r}sendToConsumer(t,r){var i;if(t.error&&!dI(t)){const s=((i=t.error.code)===null||i===void 0?void 0:i.split("auth/")[1])||"internal-error";r.onError(Nn(this.auth,s))}else r.onAuthEvent(t)}isEventForConsumer(t,r){const i=r.eventId===null||!!t.eventId&&t.eventId===r.eventId;return r.filter.includes(t.type)&&i}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=xD&&this.cachedEventUids.clear(),this.cachedEventUids.has(n0(t))}saveEventToCache(t){this.cachedEventUids.add(n0(t)),this.lastProcessedEventTime=Date.now()}}function n0(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(t=>t).join("-")}function dI({type:n,error:t}){return n==="unknown"&&(t==null?void 0:t.code)==="auth/no-auth-event"}function bD(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return dI(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function DD(n,t={}){return Hs(n,"GET","/v1/projects",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PD=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,$D=/^https?/;async function OD(n){if(n.config.emulator)return;const{authorizedDomains:t}=await DD(n);for(const r of t)try{if(MD(r))return}catch{}vn(n,"unauthorized-domain")}function MD(n){const t=Ff(),{protocol:r,hostname:i}=new URL(t);if(n.startsWith("chrome-extension://")){const a=new URL(n);return a.hostname===""&&i===""?r==="chrome-extension:"&&n.replace("chrome-extension://","")===t.replace("chrome-extension://",""):r==="chrome-extension:"&&a.hostname===i}if(!$D.test(r))return!1;if(PD.test(n))return i===n;const s=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(i)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LD=new Va(3e4,6e4);function r0(){const n=bn().___jsl;if(n!=null&&n.H){for(const t of Object.keys(n.H))if(n.H[t].r=n.H[t].r||[],n.H[t].L=n.H[t].L||[],n.H[t].r=[...n.H[t].L],n.CP)for(let r=0;r<n.CP.length;r++)n.CP[r]=null}}function FD(n){return new Promise((t,r)=>{var i,s,o;function a(){r0(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{r0(),r(Nn(n,"network-request-failed"))},timeout:LD.get()})}if(!((s=(i=bn().gapi)===null||i===void 0?void 0:i.iframes)===null||s===void 0)&&s.Iframe)t(gapi.iframes.getContext());else if(!((o=bn().gapi)===null||o===void 0)&&o.load)a();else{const l=b2("iframefcb");return bn()[l]=()=>{gapi.load?a():r(Nn(n,"network-request-failed"))},YS(`https://apis.google.com/js/api.js?onload=${l}`).catch(u=>r(u))}}).catch(t=>{throw su=null,t})}let su=null;function UD(n){return su=su||FD(n),su}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VD=new Va(5e3,15e3),jD="__/auth/iframe",zD="emulator/auth/iframe",BD={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},HD=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function WD(n){const t=n.config;q(t.authDomain,n,"auth-domain-config-required");const r=t.emulator?$m(t,zD):`https://${n.config.authDomain}/${jD}`,i={apiKey:t.apiKey,appName:n.name,v:zs},s=HD.get(n.config.apiHost);s&&(i.eid=s);const o=n._getFrameworks();return o.length&&(i.fw=o.join(",")),`${r}?${Ua(i).slice(1)}`}async function qD(n){const t=await UD(n),r=bn().gapi;return q(r,n,"internal-error"),t.open({where:document.body,url:WD(n),messageHandlersFilter:r.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:BD,dontclear:!0},i=>new Promise(async(s,o)=>{await i.restyle({setHideOnLeave:!1});const a=Nn(n,"network-request-failed"),l=bn().setTimeout(()=>{o(a)},VD.get());function u(){bn().clearTimeout(l),s(i)}i.ping(u).then(u,()=>{o(a)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KD={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},GD=500,QD=600,YD="_blank",XD="http://localhost";class i0{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function JD(n,t,r,i=GD,s=QD){const o=Math.max((window.screen.availHeight-s)/2,0).toString(),a=Math.max((window.screen.availWidth-i)/2,0).toString();let l="";const u=Object.assign(Object.assign({},KD),{width:i.toString(),height:s.toString(),top:o,left:a}),c=Tt().toLowerCase();r&&(l=jS(c)?YD:r),VS(c)&&(t=t||XD,u.scrollbars="yes");const d=Object.entries(u).reduce((f,[m,E])=>`${f}${m}=${E},`,"");if(A2(c)&&l!=="_self")return ZD(t||"",l),new i0(null);const h=window.open(t||"",l,d);q(h,n,"popup-blocked");try{h.focus()}catch{}return new i0(h)}function ZD(n,t){const r=document.createElement("a");r.href=n,r.target=t;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),r.dispatchEvent(i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eP="__/auth/handler",tP="emulator/auth/handler",nP=encodeURIComponent("fac");async function s0(n,t,r,i,s,o){q(n.config.authDomain,n,"auth-domain-config-required"),q(n.config.apiKey,n,"invalid-api-key");const a={apiKey:n.config.apiKey,appName:n.name,authType:r,redirectUrl:i,v:zs,eventId:s};if(t instanceof ZS){t.setDefaultLanguage(n.languageCode),a.providerId=t.providerId||"",yx(t.getCustomParameters())||(a.customParameters=JSON.stringify(t.getCustomParameters()));for(const[d,h]of Object.entries(o||{}))a[d]=h}if(t instanceof za){const d=t.getScopes().filter(h=>h!=="");d.length>0&&(a.scopes=d.join(","))}n.tenantId&&(a.tid=n.tenantId);const l=a;for(const d of Object.keys(l))l[d]===void 0&&delete l[d];const u=await n._getAppCheckToken(),c=u?`#${nP}=${encodeURIComponent(u)}`:"";return`${rP(n)}?${Ua(l).slice(1)}${c}`}function rP({config:n}){return n.emulator?$m(n,tP):`https://${n.authDomain}/${eP}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hh="webStorageSupport";class iP{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=sI,this._completeRedirectFn=RD,this._overrideRedirectResult=CD}async _openPopup(t,r,i,s){var o;tr((o=this.eventManagers[t._key()])===null||o===void 0?void 0:o.manager,"_initialize() not called before _openPopup()");const a=await s0(t,r,i,Ff(),s);return JD(t,a,Um())}async _openRedirect(t,r,i,s){await this._originValidation(t);const o=await s0(t,r,i,Ff(),s);return aD(o),new Promise(()=>{})}_initialize(t){const r=t._key();if(this.eventManagers[r]){const{manager:s,promise:o}=this.eventManagers[r];return s?Promise.resolve(s):(tr(o,"If manager is not set, promise should be"),o)}const i=this.initAndGetManager(t);return this.eventManagers[r]={promise:i},i.catch(()=>{delete this.eventManagers[r]}),i}async initAndGetManager(t){const r=await qD(t),i=new ND(t);return r.register("authEvent",s=>(q(s==null?void 0:s.authEvent,t,"invalid-auth-event"),{status:i.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:i},this.iframes[t._key()]=r,i}_isIframeWebStorageSupported(t,r){this.iframes[t._key()].send(hh,{type:hh},s=>{var o;const a=(o=s==null?void 0:s[0])===null||o===void 0?void 0:o[hh];a!==void 0&&r(!!a),vn(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const r=t._key();return this.originValidationPromises[r]||(this.originValidationPromises[r]=OD(t)),this.originValidationPromises[r]}get _shouldInitProactively(){return qS()||Mm()||Mc()}}const sP=iP;var o0="@firebase/auth",a0="0.23.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oP{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){var t;return this.assertAuthConfigured(),((t=this.auth.currentUser)===null||t===void 0?void 0:t.uid)||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const r=this.auth.onIdTokenChanged(i=>{t((i==null?void 0:i.stsTokenManager.accessToken)||null)});this.internalListeners.set(t,r),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const r=this.internalListeners.get(t);r&&(this.internalListeners.delete(t),r(),this.updateProactiveRefresh())}assertAuthConfigured(){q(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aP(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}function lP(n){Pn(new yn("auth",(t,{options:r})=>{const i=t.getProvider("app").getImmediate(),s=t.getProvider("heartbeat"),o=t.getProvider("app-check-internal"),{apiKey:a,authDomain:l}=i.options;q(a&&!a.includes(":"),"invalid-api-key",{appName:i.name});const u={apiKey:a,authDomain:l,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:KS(n)},c=new M2(i,s,o,u);return F2(c,r),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,r,i)=>{t.getProvider("auth-internal").initialize()})),Pn(new yn("auth-internal",t=>{const r=Ws(t.getProvider("auth").getImmediate());return(i=>new oP(i))(r)},"PRIVATE").setInstantiationMode("EXPLICIT")),nn(o0,a0,aP(n)),nn(o0,a0,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uP=5*60,cP=eS("authIdTokenMaxAge")||uP;let l0=null;const dP=n=>async t=>{const r=t&&await t.getIdTokenResult(),i=r&&(new Date().getTime()-Date.parse(r.issuedAtTime))/1e3;if(i&&i>cP)return;const s=r==null?void 0:r.token;l0!==s&&(l0=s,await fetch(n,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function hP(n=Cm()){const t=Mi(n,"auth");if(t.isInitialized())return t.getImmediate();const r=L2(n,{popupRedirectResolver:sP,persistence:[gD,iD,sI]}),i=eS("authTokenSyncURL");if(i){const o=dP(i);eD(r,o,()=>o(r.currentUser)),Z2(r,a=>o(a))}const s=JE("auth");return s&&U2(r,`http://${s}`),r}lP("Browser");var fP=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},O,jm=jm||{},J=fP||self;function Ku(){}function Uc(n){var t=typeof n;return t=t!="object"?t:n?Array.isArray(n)?"array":t:"null",t=="array"||t=="object"&&typeof n.length=="number"}function Ha(n){var t=typeof n;return t=="object"&&n!=null||t=="function"}function pP(n){return Object.prototype.hasOwnProperty.call(n,fh)&&n[fh]||(n[fh]=++mP)}var fh="closure_uid_"+(1e9*Math.random()>>>0),mP=0;function gP(n,t,r){return n.call.apply(n.bind,arguments)}function yP(n,t,r){if(!n)throw Error();if(2<arguments.length){var i=Array.prototype.slice.call(arguments,2);return function(){var s=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(s,i),n.apply(t,s)}}return function(){return n.apply(t,arguments)}}function wt(n,t,r){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?wt=gP:wt=yP,wt.apply(null,arguments)}function Nl(n,t){var r=Array.prototype.slice.call(arguments,1);return function(){var i=r.slice();return i.push.apply(i,arguments),n.apply(this,i)}}function et(n,t){function r(){}r.prototype=t.prototype,n.$=t.prototype,n.prototype=new r,n.prototype.constructor=n,n.ac=function(i,s,o){for(var a=Array(arguments.length-2),l=2;l<arguments.length;l++)a[l-2]=arguments[l];return t.prototype[s].apply(i,a)}}function Yr(){this.s=this.s,this.o=this.o}var vP=0;Yr.prototype.s=!1;Yr.prototype.ra=function(){!this.s&&(this.s=!0,this.N(),vP!=0)&&pP(this)};Yr.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const hI=Array.prototype.indexOf?function(n,t){return Array.prototype.indexOf.call(n,t,void 0)}:function(n,t){if(typeof n=="string")return typeof t!="string"||t.length!=1?-1:n.indexOf(t,0);for(let r=0;r<n.length;r++)if(r in n&&n[r]===t)return r;return-1};function zm(n){const t=n.length;if(0<t){const r=Array(t);for(let i=0;i<t;i++)r[i]=n[i];return r}return[]}function u0(n,t){for(let r=1;r<arguments.length;r++){const i=arguments[r];if(Uc(i)){const s=n.length||0,o=i.length||0;n.length=s+o;for(let a=0;a<o;a++)n[s+a]=i[a]}else n.push(i)}}function Et(n,t){this.type=n,this.g=this.target=t,this.defaultPrevented=!1}Et.prototype.h=function(){this.defaultPrevented=!0};var wP=function(){if(!J.addEventListener||!Object.defineProperty)return!1;var n=!1,t=Object.defineProperty({},"passive",{get:function(){n=!0}});try{J.addEventListener("test",Ku,t),J.removeEventListener("test",Ku,t)}catch{}return n}();function Gu(n){return/^[\s\xa0]*$/.test(n)}var c0=String.prototype.trim?function(n){return n.trim()}:function(n){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(n)[1]};function ph(n,t){return n<t?-1:n>t?1:0}function Vc(){var n=J.navigator;return n&&(n=n.userAgent)?n:""}function kn(n){return Vc().indexOf(n)!=-1}function Bm(n){return Bm[" "](n),n}Bm[" "]=Ku;function fI(n,t,r){return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=r(t)}var EP=kn("Opera"),Ns=kn("Trident")||kn("MSIE"),pI=kn("Edge"),Vf=pI||Ns,mI=kn("Gecko")&&!(Vc().toLowerCase().indexOf("webkit")!=-1&&!kn("Edge"))&&!(kn("Trident")||kn("MSIE"))&&!kn("Edge"),SP=Vc().toLowerCase().indexOf("webkit")!=-1&&!kn("Edge");function gI(){var n=J.document;return n?n.documentMode:void 0}var Qu;e:{var mh="",gh=function(){var n=Vc();if(mI)return/rv:([^\);]+)(\)|;)/.exec(n);if(pI)return/Edge\/([\d\.]+)/.exec(n);if(Ns)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n);if(SP)return/WebKit\/(\S+)/.exec(n);if(EP)return/(?:Version)[ \/]?(\S+)/.exec(n)}();if(gh&&(mh=gh?gh[1]:""),Ns){var yh=gI();if(yh!=null&&yh>parseFloat(mh)){Qu=String(yh);break e}}Qu=mh}var IP={};function TP(){return fI(IP,9,function(){let n=0;const t=c0(String(Qu)).split("."),r=c0("9").split("."),i=Math.max(t.length,r.length);for(let a=0;n==0&&a<i;a++){var s=t[a]||"",o=r[a]||"";do{if(s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],s[0].length==0&&o[0].length==0)break;n=ph(s[1].length==0?0:parseInt(s[1],10),o[1].length==0?0:parseInt(o[1],10))||ph(s[2].length==0,o[2].length==0)||ph(s[2],o[2]),s=s[3],o=o[3]}while(n==0)}return 0<=n})}var jf;if(J.document&&Ns){var d0=gI();jf=d0||parseInt(Qu,10)||void 0}else jf=void 0;var _P=jf;function Sa(n,t){if(Et.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var r=this.type=n.type,i=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=t,t=n.relatedTarget){if(mI){e:{try{Bm(t.nodeName);var s=!0;break e}catch{}s=!1}s||(t=null)}}else r=="mouseover"?t=n.fromElement:r=="mouseout"&&(t=n.toElement);this.relatedTarget=t,i?(this.clientX=i.clientX!==void 0?i.clientX:i.pageX,this.clientY=i.clientY!==void 0?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0):(this.clientX=n.clientX!==void 0?n.clientX:n.pageX,this.clientY=n.clientY!==void 0?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType=typeof n.pointerType=="string"?n.pointerType:CP[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&Sa.$.h.call(this)}}et(Sa,Et);var CP={2:"touch",3:"pen",4:"mouse"};Sa.prototype.h=function(){Sa.$.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var Wa="closure_listenable_"+(1e6*Math.random()|0),kP=0;function AP(n,t,r,i,s){this.listener=n,this.proxy=null,this.src=t,this.type=r,this.capture=!!i,this.la=s,this.key=++kP,this.fa=this.ia=!1}function jc(n){n.fa=!0,n.listener=null,n.proxy=null,n.src=null,n.la=null}function Hm(n,t,r){for(const i in n)t.call(r,n[i],i,n)}function yI(n){const t={};for(const r in n)t[r]=n[r];return t}const h0="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function vI(n,t){let r,i;for(let s=1;s<arguments.length;s++){i=arguments[s];for(r in i)n[r]=i[r];for(let o=0;o<h0.length;o++)r=h0[o],Object.prototype.hasOwnProperty.call(i,r)&&(n[r]=i[r])}}function zc(n){this.src=n,this.g={},this.h=0}zc.prototype.add=function(n,t,r,i,s){var o=n.toString();n=this.g[o],n||(n=this.g[o]=[],this.h++);var a=Bf(n,t,i,s);return-1<a?(t=n[a],r||(t.ia=!1)):(t=new AP(t,this.src,o,!!i,s),t.ia=r,n.push(t)),t};function zf(n,t){var r=t.type;if(r in n.g){var i=n.g[r],s=hI(i,t),o;(o=0<=s)&&Array.prototype.splice.call(i,s,1),o&&(jc(t),n.g[r].length==0&&(delete n.g[r],n.h--))}}function Bf(n,t,r,i){for(var s=0;s<n.length;++s){var o=n[s];if(!o.fa&&o.listener==t&&o.capture==!!r&&o.la==i)return s}return-1}var Wm="closure_lm_"+(1e6*Math.random()|0),vh={};function wI(n,t,r,i,s){if(i&&i.once)return SI(n,t,r,i,s);if(Array.isArray(t)){for(var o=0;o<t.length;o++)wI(n,t[o],r,i,s);return null}return r=Gm(r),n&&n[Wa]?n.O(t,r,Ha(i)?!!i.capture:!!i,s):EI(n,t,r,!1,i,s)}function EI(n,t,r,i,s,o){if(!t)throw Error("Invalid event type");var a=Ha(s)?!!s.capture:!!s,l=Km(n);if(l||(n[Wm]=l=new zc(n)),r=l.add(t,r,i,a,o),r.proxy)return r;if(i=RP(),r.proxy=i,i.src=n,i.listener=r,n.addEventListener)wP||(s=a),s===void 0&&(s=!1),n.addEventListener(t.toString(),i,s);else if(n.attachEvent)n.attachEvent(TI(t.toString()),i);else if(n.addListener&&n.removeListener)n.addListener(i);else throw Error("addEventListener and attachEvent are unavailable.");return r}function RP(){function n(r){return t.call(n.src,n.listener,r)}const t=xP;return n}function SI(n,t,r,i,s){if(Array.isArray(t)){for(var o=0;o<t.length;o++)SI(n,t[o],r,i,s);return null}return r=Gm(r),n&&n[Wa]?n.P(t,r,Ha(i)?!!i.capture:!!i,s):EI(n,t,r,!0,i,s)}function II(n,t,r,i,s){if(Array.isArray(t))for(var o=0;o<t.length;o++)II(n,t[o],r,i,s);else i=Ha(i)?!!i.capture:!!i,r=Gm(r),n&&n[Wa]?(n=n.i,t=String(t).toString(),t in n.g&&(o=n.g[t],r=Bf(o,r,i,s),-1<r&&(jc(o[r]),Array.prototype.splice.call(o,r,1),o.length==0&&(delete n.g[t],n.h--)))):n&&(n=Km(n))&&(t=n.g[t.toString()],n=-1,t&&(n=Bf(t,r,i,s)),(r=-1<n?t[n]:null)&&qm(r))}function qm(n){if(typeof n!="number"&&n&&!n.fa){var t=n.src;if(t&&t[Wa])zf(t.i,n);else{var r=n.type,i=n.proxy;t.removeEventListener?t.removeEventListener(r,i,n.capture):t.detachEvent?t.detachEvent(TI(r),i):t.addListener&&t.removeListener&&t.removeListener(i),(r=Km(t))?(zf(r,n),r.h==0&&(r.src=null,t[Wm]=null)):jc(n)}}}function TI(n){return n in vh?vh[n]:vh[n]="on"+n}function xP(n,t){if(n.fa)n=!0;else{t=new Sa(t,this);var r=n.listener,i=n.la||n.src;n.ia&&qm(n),n=r.call(i,t)}return n}function Km(n){return n=n[Wm],n instanceof zc?n:null}var wh="__closure_events_fn_"+(1e9*Math.random()>>>0);function Gm(n){return typeof n=="function"?n:(n[wh]||(n[wh]=function(t){return n.handleEvent(t)}),n[wh])}function Ze(){Yr.call(this),this.i=new zc(this),this.S=this,this.J=null}et(Ze,Yr);Ze.prototype[Wa]=!0;Ze.prototype.removeEventListener=function(n,t,r,i){II(this,n,t,r,i)};function at(n,t){var r,i=n.J;if(i)for(r=[];i;i=i.J)r.push(i);if(n=n.S,i=t.type||t,typeof t=="string")t=new Et(t,n);else if(t instanceof Et)t.target=t.target||n;else{var s=t;t=new Et(i,n),vI(t,s)}if(s=!0,r)for(var o=r.length-1;0<=o;o--){var a=t.g=r[o];s=bl(a,i,!0,t)&&s}if(a=t.g=n,s=bl(a,i,!0,t)&&s,s=bl(a,i,!1,t)&&s,r)for(o=0;o<r.length;o++)a=t.g=r[o],s=bl(a,i,!1,t)&&s}Ze.prototype.N=function(){if(Ze.$.N.call(this),this.i){var n=this.i,t;for(t in n.g){for(var r=n.g[t],i=0;i<r.length;i++)jc(r[i]);delete n.g[t],n.h--}}this.J=null};Ze.prototype.O=function(n,t,r,i){return this.i.add(String(n),t,!1,r,i)};Ze.prototype.P=function(n,t,r,i){return this.i.add(String(n),t,!0,r,i)};function bl(n,t,r,i){if(t=n.i.g[String(t)],!t)return!0;t=t.concat();for(var s=!0,o=0;o<t.length;++o){var a=t[o];if(a&&!a.fa&&a.capture==r){var l=a.listener,u=a.la||a.src;a.ia&&zf(n.i,a),s=l.call(u,i)!==!1&&s}}return s&&!i.defaultPrevented}var Qm=J.JSON.stringify;function NP(){var n=kI;let t=null;return n.g&&(t=n.g,n.g=n.g.next,n.g||(n.h=null),t.next=null),t}class bP{constructor(){this.h=this.g=null}add(t,r){const i=_I.get();i.set(t,r),this.h?this.h.next=i:this.g=i,this.h=i}}var _I=new class{constructor(n,t){this.i=n,this.j=t,this.h=0,this.g=null}get(){let n;return 0<this.h?(this.h--,n=this.g,this.g=n.next,n.next=null):n=this.i(),n}}(()=>new DP,n=>n.reset());class DP{constructor(){this.next=this.g=this.h=null}set(t,r){this.h=t,this.g=r,this.next=null}reset(){this.next=this.g=this.h=null}}function PP(n){J.setTimeout(()=>{throw n},0)}function CI(n,t){Hf||$P(),Wf||(Hf(),Wf=!0),kI.add(n,t)}var Hf;function $P(){var n=J.Promise.resolve(void 0);Hf=function(){n.then(OP)}}var Wf=!1,kI=new bP;function OP(){for(var n;n=NP();){try{n.h.call(n.g)}catch(r){PP(r)}var t=_I;t.j(n),100>t.h&&(t.h++,n.next=t.g,t.g=n)}Wf=!1}function Bc(n,t){Ze.call(this),this.h=n||1,this.g=t||J,this.j=wt(this.qb,this),this.l=Date.now()}et(Bc,Ze);O=Bc.prototype;O.ga=!1;O.T=null;O.qb=function(){if(this.ga){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-n):(this.T&&(this.g.clearTimeout(this.T),this.T=null),at(this,"tick"),this.ga&&(Ym(this),this.start()))}};O.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function Ym(n){n.ga=!1,n.T&&(n.g.clearTimeout(n.T),n.T=null)}O.N=function(){Bc.$.N.call(this),Ym(this),delete this.g};function Xm(n,t,r){if(typeof n=="function")r&&(n=wt(n,r));else if(n&&typeof n.handleEvent=="function")n=wt(n.handleEvent,n);else throw Error("Invalid listener argument");return 2147483647<Number(t)?-1:J.setTimeout(n,t||0)}function AI(n){n.g=Xm(()=>{n.g=null,n.i&&(n.i=!1,AI(n))},n.j);const t=n.h;n.h=null,n.m.apply(null,t)}class MP extends Yr{constructor(t,r){super(),this.m=t,this.j=r,this.h=null,this.i=!1,this.g=null}l(t){this.h=arguments,this.g?this.i=!0:AI(this)}N(){super.N(),this.g&&(J.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ia(n){Yr.call(this),this.h=n,this.g={}}et(Ia,Yr);var f0=[];function RI(n,t,r,i){Array.isArray(r)||(r&&(f0[0]=r.toString()),r=f0);for(var s=0;s<r.length;s++){var o=wI(t,r[s],i||n.handleEvent,!1,n.h||n);if(!o)break;n.g[o.key]=o}}function xI(n){Hm(n.g,function(t,r){this.g.hasOwnProperty(r)&&qm(t)},n),n.g={}}Ia.prototype.N=function(){Ia.$.N.call(this),xI(this)};Ia.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function Hc(){this.g=!0}Hc.prototype.Ea=function(){this.g=!1};function LP(n,t,r,i,s,o){n.info(function(){if(n.g)if(o)for(var a="",l=o.split("&"),u=0;u<l.length;u++){var c=l[u].split("=");if(1<c.length){var d=c[0];c=c[1];var h=d.split("_");a=2<=h.length&&h[1]=="type"?a+(d+"="+c+"&"):a+(d+"=redacted&")}}else a=null;else a=o;return"XMLHTTP REQ ("+i+") [attempt "+s+"]: "+t+`
`+r+`
`+a})}function FP(n,t,r,i,s,o,a){n.info(function(){return"XMLHTTP RESP ("+i+") [ attempt "+s+"]: "+t+`
`+r+`
`+o+" "+a})}function ls(n,t,r,i){n.info(function(){return"XMLHTTP TEXT ("+t+"): "+VP(n,r)+(i?" "+i:"")})}function UP(n,t){n.info(function(){return"TIMEOUT: "+t})}Hc.prototype.info=function(){};function VP(n,t){if(!n.g)return t;if(!t)return null;try{var r=JSON.parse(t);if(r){for(n=0;n<r.length;n++)if(Array.isArray(r[n])){var i=r[n];if(!(2>i.length)){var s=i[1];if(Array.isArray(s)&&!(1>s.length)){var o=s[0];if(o!="noop"&&o!="stop"&&o!="close")for(var a=1;a<s.length;a++)s[a]=""}}}}return Qm(r)}catch{return t}}var Li={},p0=null;function Wc(){return p0=p0||new Ze}Li.Ta="serverreachability";function NI(n){Et.call(this,Li.Ta,n)}et(NI,Et);function Ta(n){const t=Wc();at(t,new NI(t))}Li.STAT_EVENT="statevent";function bI(n,t){Et.call(this,Li.STAT_EVENT,n),this.stat=t}et(bI,Et);function At(n){const t=Wc();at(t,new bI(t,n))}Li.Ua="timingevent";function DI(n,t){Et.call(this,Li.Ua,n),this.size=t}et(DI,Et);function qa(n,t){if(typeof n!="function")throw Error("Fn must not be null and must be a function");return J.setTimeout(function(){n()},t)}var qc={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},PI={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function Jm(){}Jm.prototype.h=null;function m0(n){return n.h||(n.h=n.i())}function $I(){}var Ka={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function Zm(){Et.call(this,"d")}et(Zm,Et);function eg(){Et.call(this,"c")}et(eg,Et);var qf;function Kc(){}et(Kc,Jm);Kc.prototype.g=function(){return new XMLHttpRequest};Kc.prototype.i=function(){return{}};qf=new Kc;function Ga(n,t,r,i){this.l=n,this.j=t,this.m=r,this.W=i||1,this.U=new Ia(this),this.P=jP,n=Vf?125:void 0,this.V=new Bc(n),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.aa=-1,this.J=!1,this.O=0,this.M=null,this.ca=this.K=this.ba=this.S=!1,this.h=new OI}function OI(){this.i=null,this.g="",this.h=!1}var jP=45e3,Kf={},Yu={};O=Ga.prototype;O.setTimeout=function(n){this.P=n};function Gf(n,t,r){n.L=1,n.v=Qc(nr(t)),n.s=r,n.S=!0,MI(n,null)}function MI(n,t){n.G=Date.now(),Qa(n),n.A=nr(n.v);var r=n.A,i=n.W;Array.isArray(i)||(i=[String(i)]),HI(r.i,"t",i),n.C=0,r=n.l.I,n.h=new OI,n.g=dT(n.l,r?t:null,!n.s),0<n.O&&(n.M=new MP(wt(n.Pa,n,n.g),n.O)),RI(n.U,n.g,"readystatechange",n.nb),t=n.I?yI(n.I):{},n.s?(n.u||(n.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",n.g.ha(n.A,n.u,n.s,t)):(n.u="GET",n.g.ha(n.A,n.u,null,t)),Ta(),LP(n.j,n.u,n.A,n.m,n.W,n.s)}O.nb=function(n){n=n.target;const t=this.M;t&&qn(n)==3?t.l():this.Pa(n)};O.Pa=function(n){try{if(n==this.g)e:{const d=qn(this.g);var t=this.g.Ia();const h=this.g.da();if(!(3>d)&&(d!=3||Vf||this.g&&(this.h.h||this.g.ja()||w0(this.g)))){this.J||d!=4||t==7||(t==8||0>=h?Ta(3):Ta(2)),Gc(this);var r=this.g.da();this.aa=r;t:if(LI(this)){var i=w0(this.g);n="";var s=i.length,o=qn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){li(this),Wo(this);var a="";break t}this.h.i=new J.TextDecoder}for(t=0;t<s;t++)this.h.h=!0,n+=this.h.i.decode(i[t],{stream:o&&t==s-1});i.splice(0,s),this.h.g+=n,this.C=0,a=this.h.g}else a=this.g.ja();if(this.i=r==200,FP(this.j,this.u,this.A,this.m,this.W,d,r),this.i){if(this.ba&&!this.K){t:{if(this.g){var l,u=this.g;if((l=u.g?u.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Gu(l)){var c=l;break t}}c=null}if(r=c)ls(this.j,this.m,r,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Qf(this,r);else{this.i=!1,this.o=3,At(12),li(this),Wo(this);break e}}this.S?(FI(this,d,a),Vf&&this.i&&d==3&&(RI(this.U,this.V,"tick",this.mb),this.V.start())):(ls(this.j,this.m,a,null),Qf(this,a)),d==4&&li(this),this.i&&!this.J&&(d==4?aT(this.l,this):(this.i=!1,Qa(this)))}else r==400&&0<a.indexOf("Unknown SID")?(this.o=3,At(12)):(this.o=0,At(13)),li(this),Wo(this)}}}catch{}finally{}};function LI(n){return n.g?n.u=="GET"&&n.L!=2&&n.l.Ha:!1}function FI(n,t,r){let i=!0,s;for(;!n.J&&n.C<r.length;)if(s=zP(n,r),s==Yu){t==4&&(n.o=4,At(14),i=!1),ls(n.j,n.m,null,"[Incomplete Response]");break}else if(s==Kf){n.o=4,At(15),ls(n.j,n.m,r,"[Invalid Chunk]"),i=!1;break}else ls(n.j,n.m,s,null),Qf(n,s);LI(n)&&s!=Yu&&s!=Kf&&(n.h.g="",n.C=0),t!=4||r.length!=0||n.h.h||(n.o=1,At(16),i=!1),n.i=n.i&&i,i?0<r.length&&!n.ca&&(n.ca=!0,t=n.l,t.g==n&&t.ca&&!t.L&&(t.j.info("Great, no buffering proxy detected. Bytes received: "+r.length),ag(t),t.L=!0,At(11))):(ls(n.j,n.m,r,"[Invalid Chunked Response]"),li(n),Wo(n))}O.mb=function(){if(this.g){var n=qn(this.g),t=this.g.ja();this.C<t.length&&(Gc(this),FI(this,n,t),this.i&&n!=4&&Qa(this))}};function zP(n,t){var r=n.C,i=t.indexOf(`
`,r);return i==-1?Yu:(r=Number(t.substring(r,i)),isNaN(r)?Kf:(i+=1,i+r>t.length?Yu:(t=t.substr(i,r),n.C=i+r,t)))}O.cancel=function(){this.J=!0,li(this)};function Qa(n){n.Y=Date.now()+n.P,UI(n,n.P)}function UI(n,t){if(n.B!=null)throw Error("WatchDog timer not null");n.B=qa(wt(n.lb,n),t)}function Gc(n){n.B&&(J.clearTimeout(n.B),n.B=null)}O.lb=function(){this.B=null;const n=Date.now();0<=n-this.Y?(UP(this.j,this.A),this.L!=2&&(Ta(),At(17)),li(this),this.o=2,Wo(this)):UI(this,this.Y-n)};function Wo(n){n.l.H==0||n.J||aT(n.l,n)}function li(n){Gc(n);var t=n.M;t&&typeof t.ra=="function"&&t.ra(),n.M=null,Ym(n.V),xI(n.U),n.g&&(t=n.g,n.g=null,t.abort(),t.ra())}function Qf(n,t){try{var r=n.l;if(r.H!=0&&(r.g==n||Yf(r.h,n))){if(!n.K&&Yf(r.h,n)&&r.H==3){try{var i=r.Ja.g.parse(t)}catch{i=null}if(Array.isArray(i)&&i.length==3){var s=i;if(s[0]==0){e:if(!r.u){if(r.g)if(r.g.G+3e3<n.G)Zu(r),Jc(r);else break e;og(r),At(18)}}else r.Fa=s[1],0<r.Fa-r.V&&37500>s[2]&&r.M&&r.A==0&&!r.v&&(r.v=qa(wt(r.ib,r),6e3));if(1>=KI(r.h)&&r.na){try{r.na()}catch{}r.na=void 0}}else ui(r,11)}else if((n.K||r.g==n)&&Zu(r),!Gu(t))for(s=r.Ja.g.parse(t),t=0;t<s.length;t++){let c=s[t];if(r.V=c[0],c=c[1],r.H==2)if(c[0]=="c"){r.J=c[1],r.oa=c[2];const d=c[3];d!=null&&(r.qa=d,r.j.info("VER="+r.qa));const h=c[4];h!=null&&(r.Ga=h,r.j.info("SVER="+r.Ga));const f=c[5];f!=null&&typeof f=="number"&&0<f&&(i=1.5*f,r.K=i,r.j.info("backChannelRequestTimeoutMs_="+i)),i=r;const m=n.g;if(m){const E=m.g?m.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(E){var o=i.h;o.g||E.indexOf("spdy")==-1&&E.indexOf("quic")==-1&&E.indexOf("h2")==-1||(o.j=o.l,o.g=new Set,o.h&&(tg(o,o.h),o.h=null))}if(i.F){const S=m.g?m.g.getResponseHeader("X-HTTP-Session-Id"):null;S&&(i.Da=S,Ae(i.G,i.F,S))}}r.H=3,r.l&&r.l.Ba(),r.ca&&(r.S=Date.now()-n.G,r.j.info("Handshake RTT: "+r.S+"ms")),i=r;var a=n;if(i.wa=cT(i,i.I?i.oa:null,i.Y),a.K){GI(i.h,a);var l=a,u=i.K;u&&l.setTimeout(u),l.B&&(Gc(l),Qa(l)),i.g=a}else sT(i);0<r.i.length&&Zc(r)}else c[0]!="stop"&&c[0]!="close"||ui(r,7);else r.H==3&&(c[0]=="stop"||c[0]=="close"?c[0]=="stop"?ui(r,7):sg(r):c[0]!="noop"&&r.l&&r.l.Aa(c),r.A=0)}}Ta(4)}catch{}}function BP(n){if(n.Z&&typeof n.Z=="function")return n.Z();if(typeof Map<"u"&&n instanceof Map||typeof Set<"u"&&n instanceof Set)return Array.from(n.values());if(typeof n=="string")return n.split("");if(Uc(n)){for(var t=[],r=n.length,i=0;i<r;i++)t.push(n[i]);return t}t=[],r=0;for(i in n)t[r++]=n[i];return t}function HP(n){if(n.sa&&typeof n.sa=="function")return n.sa();if(!n.Z||typeof n.Z!="function"){if(typeof Map<"u"&&n instanceof Map)return Array.from(n.keys());if(!(typeof Set<"u"&&n instanceof Set)){if(Uc(n)||typeof n=="string"){var t=[];n=n.length;for(var r=0;r<n;r++)t.push(r);return t}t=[],r=0;for(const i in n)t[r++]=i;return t}}}function VI(n,t){if(n.forEach&&typeof n.forEach=="function")n.forEach(t,void 0);else if(Uc(n)||typeof n=="string")Array.prototype.forEach.call(n,t,void 0);else for(var r=HP(n),i=BP(n),s=i.length,o=0;o<s;o++)t.call(void 0,i[o],r&&r[o],n)}var jI=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function WP(n,t){if(n){n=n.split("&");for(var r=0;r<n.length;r++){var i=n[r].indexOf("="),s=null;if(0<=i){var o=n[r].substring(0,i);s=n[r].substring(i+1)}else o=n[r];t(o,s?decodeURIComponent(s.replace(/\+/g," ")):"")}}}function gi(n,t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,n instanceof gi){this.h=t!==void 0?t:n.h,Xu(this,n.j),this.s=n.s,this.g=n.g,Ju(this,n.m),this.l=n.l,t=n.i;var r=new _a;r.i=t.i,t.g&&(r.g=new Map(t.g),r.h=t.h),g0(this,r),this.o=n.o}else n&&(r=String(n).match(jI))?(this.h=!!t,Xu(this,r[1]||"",!0),this.s=Ao(r[2]||""),this.g=Ao(r[3]||"",!0),Ju(this,r[4]),this.l=Ao(r[5]||"",!0),g0(this,r[6]||"",!0),this.o=Ao(r[7]||"")):(this.h=!!t,this.i=new _a(null,this.h))}gi.prototype.toString=function(){var n=[],t=this.j;t&&n.push(Ro(t,y0,!0),":");var r=this.g;return(r||t=="file")&&(n.push("//"),(t=this.s)&&n.push(Ro(t,y0,!0),"@"),n.push(encodeURIComponent(String(r)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),r=this.m,r!=null&&n.push(":",String(r))),(r=this.l)&&(this.g&&r.charAt(0)!="/"&&n.push("/"),n.push(Ro(r,r.charAt(0)=="/"?GP:KP,!0))),(r=this.i.toString())&&n.push("?",r),(r=this.o)&&n.push("#",Ro(r,YP)),n.join("")};function nr(n){return new gi(n)}function Xu(n,t,r){n.j=r?Ao(t,!0):t,n.j&&(n.j=n.j.replace(/:$/,""))}function Ju(n,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);n.m=t}else n.m=null}function g0(n,t,r){t instanceof _a?(n.i=t,XP(n.i,n.h)):(r||(t=Ro(t,QP)),n.i=new _a(t,n.h))}function Ae(n,t,r){n.i.set(t,r)}function Qc(n){return Ae(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function Ao(n,t){return n?t?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function Ro(n,t,r){return typeof n=="string"?(n=encodeURI(n).replace(t,qP),r&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function qP(n){return n=n.charCodeAt(0),"%"+(n>>4&15).toString(16)+(n&15).toString(16)}var y0=/[#\/\?@]/g,KP=/[#\?:]/g,GP=/[#\?]/g,QP=/[#\?@]/g,YP=/#/g;function _a(n,t){this.h=this.g=null,this.i=n||null,this.j=!!t}function Xr(n){n.g||(n.g=new Map,n.h=0,n.i&&WP(n.i,function(t,r){n.add(decodeURIComponent(t.replace(/\+/g," ")),r)}))}O=_a.prototype;O.add=function(n,t){Xr(this),this.i=null,n=Ks(this,n);var r=this.g.get(n);return r||this.g.set(n,r=[]),r.push(t),this.h+=1,this};function zI(n,t){Xr(n),t=Ks(n,t),n.g.has(t)&&(n.i=null,n.h-=n.g.get(t).length,n.g.delete(t))}function BI(n,t){return Xr(n),t=Ks(n,t),n.g.has(t)}O.forEach=function(n,t){Xr(this),this.g.forEach(function(r,i){r.forEach(function(s){n.call(t,s,i,this)},this)},this)};O.sa=function(){Xr(this);const n=Array.from(this.g.values()),t=Array.from(this.g.keys()),r=[];for(let i=0;i<t.length;i++){const s=n[i];for(let o=0;o<s.length;o++)r.push(t[i])}return r};O.Z=function(n){Xr(this);let t=[];if(typeof n=="string")BI(this,n)&&(t=t.concat(this.g.get(Ks(this,n))));else{n=Array.from(this.g.values());for(let r=0;r<n.length;r++)t=t.concat(n[r])}return t};O.set=function(n,t){return Xr(this),this.i=null,n=Ks(this,n),BI(this,n)&&(this.h-=this.g.get(n).length),this.g.set(n,[t]),this.h+=1,this};O.get=function(n,t){return n?(n=this.Z(n),0<n.length?String(n[0]):t):t};function HI(n,t,r){zI(n,t),0<r.length&&(n.i=null,n.g.set(Ks(n,t),zm(r)),n.h+=r.length)}O.toString=function(){if(this.i)return this.i;if(!this.g)return"";const n=[],t=Array.from(this.g.keys());for(var r=0;r<t.length;r++){var i=t[r];const o=encodeURIComponent(String(i)),a=this.Z(i);for(i=0;i<a.length;i++){var s=o;a[i]!==""&&(s+="="+encodeURIComponent(String(a[i]))),n.push(s)}}return this.i=n.join("&")};function Ks(n,t){return t=String(t),n.j&&(t=t.toLowerCase()),t}function XP(n,t){t&&!n.j&&(Xr(n),n.i=null,n.g.forEach(function(r,i){var s=i.toLowerCase();i!=s&&(zI(this,i),HI(this,s,r))},n)),n.j=t}var JP=class{constructor(n,t){this.h=n,this.g=t}};function WI(n){this.l=n||ZP,J.PerformanceNavigationTiming?(n=J.performance.getEntriesByType("navigation"),n=0<n.length&&(n[0].nextHopProtocol=="hq"||n[0].nextHopProtocol=="h2")):n=!!(J.g&&J.g.Ka&&J.g.Ka()&&J.g.Ka().ec),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var ZP=10;function qI(n){return n.h?!0:n.g?n.g.size>=n.j:!1}function KI(n){return n.h?1:n.g?n.g.size:0}function Yf(n,t){return n.h?n.h==t:n.g?n.g.has(t):!1}function tg(n,t){n.g?n.g.add(t):n.h=t}function GI(n,t){n.h&&n.h==t?n.h=null:n.g&&n.g.has(t)&&n.g.delete(t)}WI.prototype.cancel=function(){if(this.i=QI(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const n of this.g.values())n.cancel();this.g.clear()}};function QI(n){if(n.h!=null)return n.i.concat(n.h.F);if(n.g!=null&&n.g.size!==0){let t=n.i;for(const r of n.g.values())t=t.concat(r.F);return t}return zm(n.i)}function ng(){}ng.prototype.stringify=function(n){return J.JSON.stringify(n,void 0)};ng.prototype.parse=function(n){return J.JSON.parse(n,void 0)};function e$(){this.g=new ng}function t$(n,t,r){const i=r||"";try{VI(n,function(s,o){let a=s;Ha(s)&&(a=Qm(s)),t.push(i+o+"="+encodeURIComponent(a))})}catch(s){throw t.push(i+"type="+encodeURIComponent("_badmap")),s}}function n$(n,t){const r=new Hc;if(J.Image){const i=new Image;i.onload=Nl(Dl,r,i,"TestLoadImage: loaded",!0,t),i.onerror=Nl(Dl,r,i,"TestLoadImage: error",!1,t),i.onabort=Nl(Dl,r,i,"TestLoadImage: abort",!1,t),i.ontimeout=Nl(Dl,r,i,"TestLoadImage: timeout",!1,t),J.setTimeout(function(){i.ontimeout&&i.ontimeout()},1e4),i.src=n}else t(!1)}function Dl(n,t,r,i,s){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,s(i)}catch{}}function Ya(n){this.l=n.fc||null,this.j=n.ob||!1}et(Ya,Jm);Ya.prototype.g=function(){return new Yc(this.l,this.j)};Ya.prototype.i=function(n){return function(){return n}}({});function Yc(n,t){Ze.call(this),this.F=n,this.u=t,this.m=void 0,this.readyState=rg,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}et(Yc,Ze);var rg=0;O=Yc.prototype;O.open=function(n,t){if(this.readyState!=rg)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=t,this.readyState=1,Ca(this)};O.send=function(n){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(t.body=n),(this.F||J).fetch(new Request(this.B,t)).then(this.$a.bind(this),this.ka.bind(this))};O.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Xa(this)),this.readyState=rg};O.$a=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,Ca(this)),this.g&&(this.readyState=3,Ca(this),this.g)))if(this.responseType==="arraybuffer")n.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof J.ReadableStream<"u"&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;YI(this)}else n.text().then(this.Za.bind(this),this.ka.bind(this))};function YI(n){n.j.read().then(n.Xa.bind(n)).catch(n.ka.bind(n))}O.Xa=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var t=n.value?n.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!n.done}))&&(this.response=this.responseText+=t)}n.done?Xa(this):Ca(this),this.readyState==3&&YI(this)}};O.Za=function(n){this.g&&(this.response=this.responseText=n,Xa(this))};O.Ya=function(n){this.g&&(this.response=n,Xa(this))};O.ka=function(){this.g&&Xa(this)};function Xa(n){n.readyState=4,n.l=null,n.j=null,n.A=null,Ca(n)}O.setRequestHeader=function(n,t){this.v.append(n,t)};O.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""};O.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],t=this.h.entries();for(var r=t.next();!r.done;)r=r.value,n.push(r[0]+": "+r[1]),r=t.next();return n.join(`\r
`)};function Ca(n){n.onreadystatechange&&n.onreadystatechange.call(n)}Object.defineProperty(Yc.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(n){this.m=n?"include":"same-origin"}});var r$=J.JSON.parse;function Me(n){Ze.call(this),this.headers=new Map,this.u=n||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=XI,this.L=this.M=!1}et(Me,Ze);var XI="",i$=/^https?$/i,s$=["POST","PUT"];O=Me.prototype;O.Oa=function(n){this.M=n};O.ha=function(n,t,r,i){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+n);t=t?t.toUpperCase():"GET",this.I=n,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():qf.g(),this.C=this.u?m0(this.u):m0(qf),this.g.onreadystatechange=wt(this.La,this);try{this.G=!0,this.g.open(t,String(n),!0),this.G=!1}catch(o){v0(this,o);return}if(n=r||"",r=new Map(this.headers),i)if(Object.getPrototypeOf(i)===Object.prototype)for(var s in i)r.set(s,i[s]);else if(typeof i.keys=="function"&&typeof i.get=="function")for(const o of i.keys())r.set(o,i.get(o));else throw Error("Unknown input type for opt_headers: "+String(i));i=Array.from(r.keys()).find(o=>o.toLowerCase()=="content-type"),s=J.FormData&&n instanceof J.FormData,!(0<=hI(s$,t))||i||s||r.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[o,a]of r)this.g.setRequestHeader(o,a);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{eT(this),0<this.B&&((this.L=o$(this.g))?(this.g.timeout=this.B,this.g.ontimeout=wt(this.ua,this)):this.A=Xm(this.ua,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(o){v0(this,o)}};function o$(n){return Ns&&TP()&&typeof n.timeout=="number"&&n.ontimeout!==void 0}O.ua=function(){typeof jm<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,at(this,"timeout"),this.abort(8))};function v0(n,t){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=t,n.m=5,JI(n),Xc(n)}function JI(n){n.F||(n.F=!0,at(n,"complete"),at(n,"error"))}O.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,at(this,"complete"),at(this,"abort"),Xc(this))};O.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Xc(this,!0)),Me.$.N.call(this)};O.La=function(){this.s||(this.G||this.v||this.l?ZI(this):this.kb())};O.kb=function(){ZI(this)};function ZI(n){if(n.h&&typeof jm<"u"&&(!n.C[1]||qn(n)!=4||n.da()!=2)){if(n.v&&qn(n)==4)Xm(n.La,0,n);else if(at(n,"readystatechange"),qn(n)==4){n.h=!1;try{const l=n.da();e:switch(l){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break e;default:t=!1}var r;if(!(r=t)){var i;if(i=l===0){var s=String(n.I).match(jI)[1]||null;if(!s&&J.self&&J.self.location){var o=J.self.location.protocol;s=o.substr(0,o.length-1)}i=!i$.test(s?s.toLowerCase():"")}r=i}if(r)at(n,"complete"),at(n,"success");else{n.m=6;try{var a=2<qn(n)?n.g.statusText:""}catch{a=""}n.j=a+" ["+n.da()+"]",JI(n)}}finally{Xc(n)}}}}function Xc(n,t){if(n.g){eT(n);const r=n.g,i=n.C[0]?Ku:null;n.g=null,n.C=null,t||at(n,"ready");try{r.onreadystatechange=i}catch{}}}function eT(n){n.g&&n.L&&(n.g.ontimeout=null),n.A&&(J.clearTimeout(n.A),n.A=null)}function qn(n){return n.g?n.g.readyState:0}O.da=function(){try{return 2<qn(this)?this.g.status:-1}catch{return-1}};O.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}};O.Wa=function(n){if(this.g){var t=this.g.responseText;return n&&t.indexOf(n)==0&&(t=t.substring(n.length)),r$(t)}};function w0(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.K){case XI:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch{return null}}O.Ia=function(){return this.m};O.Sa=function(){return typeof this.j=="string"?this.j:String(this.j)};function tT(n){let t="";return Hm(n,function(r,i){t+=i,t+=":",t+=r,t+=`\r
`}),t}function ig(n,t,r){e:{for(i in r){var i=!1;break e}i=!0}i||(r=tT(r),typeof n=="string"?r!=null&&encodeURIComponent(String(r)):Ae(n,t,r))}function mo(n,t,r){return r&&r.internalChannelParams&&r.internalChannelParams[n]||t}function nT(n){this.Ga=0,this.i=[],this.j=new Hc,this.oa=this.wa=this.G=this.Y=this.g=this.Da=this.F=this.ma=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=mo("failFast",!1,n),this.M=this.v=this.u=this.m=this.l=null,this.aa=!0,this.ta=this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=mo("baseRetryDelayMs",5e3,n),this.hb=mo("retryDelaySeedMs",1e4,n),this.eb=mo("forwardChannelMaxRetries",2,n),this.xa=mo("forwardChannelRequestTimeoutMs",2e4,n),this.va=n&&n.xmlHttpFactory||void 0,this.Ha=n&&n.dc||!1,this.K=void 0,this.I=n&&n.supportsCrossDomainXhr||!1,this.J="",this.h=new WI(n&&n.concurrentRequestLimit),this.Ja=new e$,this.P=n&&n.fastHandshake||!1,this.O=n&&n.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=n&&n.bc||!1,n&&n.Ea&&this.j.Ea(),n&&n.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&n&&n.detectBufferingProxy||!1,this.na=void 0,this.S=0,this.L=!1,this.pa=this.B=null}O=nT.prototype;O.qa=8;O.H=1;function sg(n){if(rT(n),n.H==3){var t=n.W++,r=nr(n.G);Ae(r,"SID",n.J),Ae(r,"RID",t),Ae(r,"TYPE","terminate"),Ja(n,r),t=new Ga(n,n.j,t,void 0),t.L=2,t.v=Qc(nr(r)),r=!1,J.navigator&&J.navigator.sendBeacon&&(r=J.navigator.sendBeacon(t.v.toString(),"")),!r&&J.Image&&(new Image().src=t.v,r=!0),r||(t.g=dT(t.l,null),t.g.ha(t.v)),t.G=Date.now(),Qa(t)}uT(n)}function Jc(n){n.g&&(ag(n),n.g.cancel(),n.g=null)}function rT(n){Jc(n),n.u&&(J.clearTimeout(n.u),n.u=null),Zu(n),n.h.cancel(),n.m&&(typeof n.m=="number"&&J.clearTimeout(n.m),n.m=null)}function Zc(n){qI(n.h)||n.m||(n.m=!0,CI(n.Na,n),n.C=0)}function a$(n,t){return KI(n.h)>=n.h.j-(n.m?1:0)?!1:n.m?(n.i=t.F.concat(n.i),!0):n.H==1||n.H==2||n.C>=(n.cb?0:n.eb)?!1:(n.m=qa(wt(n.Na,n,t),lT(n,n.C)),n.C++,!0)}O.Na=function(n){if(this.m)if(this.m=null,this.H==1){if(!n){this.W=Math.floor(1e5*Math.random()),n=this.W++;const s=new Ga(this,this.j,n,void 0);let o=this.s;if(this.U&&(o?(o=yI(o),vI(o,this.U)):o=this.U),this.o!==null||this.O||(s.I=o,o=null),this.P)e:{for(var t=0,r=0;r<this.i.length;r++){t:{var i=this.i[r];if("__data__"in i.g&&(i=i.g.__data__,typeof i=="string")){i=i.length;break t}i=void 0}if(i===void 0)break;if(t+=i,4096<t){t=r;break e}if(t===4096||r===this.i.length-1){t=r+1;break e}}t=1e3}else t=1e3;t=iT(this,s,t),r=nr(this.G),Ae(r,"RID",n),Ae(r,"CVER",22),this.F&&Ae(r,"X-HTTP-Session-Id",this.F),Ja(this,r),o&&(this.O?t="headers="+encodeURIComponent(String(tT(o)))+"&"+t:this.o&&ig(r,this.o,o)),tg(this.h,s),this.bb&&Ae(r,"TYPE","init"),this.P?(Ae(r,"$req",t),Ae(r,"SID","null"),s.ba=!0,Gf(s,r,null)):Gf(s,r,t),this.H=2}}else this.H==3&&(n?E0(this,n):this.i.length==0||qI(this.h)||E0(this))};function E0(n,t){var r;t?r=t.m:r=n.W++;const i=nr(n.G);Ae(i,"SID",n.J),Ae(i,"RID",r),Ae(i,"AID",n.V),Ja(n,i),n.o&&n.s&&ig(i,n.o,n.s),r=new Ga(n,n.j,r,n.C+1),n.o===null&&(r.I=n.s),t&&(n.i=t.F.concat(n.i)),t=iT(n,r,1e3),r.setTimeout(Math.round(.5*n.xa)+Math.round(.5*n.xa*Math.random())),tg(n.h,r),Gf(r,i,t)}function Ja(n,t){n.ma&&Hm(n.ma,function(r,i){Ae(t,i,r)}),n.l&&VI({},function(r,i){Ae(t,i,r)})}function iT(n,t,r){r=Math.min(n.i.length,r);var i=n.l?wt(n.l.Va,n.l,n):null;e:{var s=n.i;let o=-1;for(;;){const a=["count="+r];o==-1?0<r?(o=s[0].h,a.push("ofs="+o)):o=0:a.push("ofs="+o);let l=!0;for(let u=0;u<r;u++){let c=s[u].h;const d=s[u].g;if(c-=o,0>c)o=Math.max(0,s[u].h-100),l=!1;else try{t$(d,a,"req"+c+"_")}catch{i&&i(d)}}if(l){i=a.join("&");break e}}}return n=n.i.splice(0,r),t.F=n,i}function sT(n){n.g||n.u||(n.ba=1,CI(n.Ma,n),n.A=0)}function og(n){return n.g||n.u||3<=n.A?!1:(n.ba++,n.u=qa(wt(n.Ma,n),lT(n,n.A)),n.A++,!0)}O.Ma=function(){if(this.u=null,oT(this),this.ca&&!(this.L||this.g==null||0>=this.S)){var n=2*this.S;this.j.info("BP detection timer enabled: "+n),this.B=qa(wt(this.jb,this),n)}};O.jb=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.M=!1,this.L=!0,At(10),Jc(this),oT(this))};function ag(n){n.B!=null&&(J.clearTimeout(n.B),n.B=null)}function oT(n){n.g=new Ga(n,n.j,"rpc",n.ba),n.o===null&&(n.g.I=n.s),n.g.O=0;var t=nr(n.wa);Ae(t,"RID","rpc"),Ae(t,"SID",n.J),Ae(t,"CI",n.M?"0":"1"),Ae(t,"AID",n.V),Ae(t,"TYPE","xmlhttp"),Ja(n,t),n.o&&n.s&&ig(t,n.o,n.s),n.K&&n.g.setTimeout(n.K);var r=n.g;n=n.oa,r.L=1,r.v=Qc(nr(t)),r.s=null,r.S=!0,MI(r,n)}O.ib=function(){this.v!=null&&(this.v=null,Jc(this),og(this),At(19))};function Zu(n){n.v!=null&&(J.clearTimeout(n.v),n.v=null)}function aT(n,t){var r=null;if(n.g==t){Zu(n),ag(n),n.g=null;var i=2}else if(Yf(n.h,t))r=t.F,GI(n.h,t),i=1;else return;if(n.H!=0){if(n.ta=t.aa,t.i)if(i==1){r=t.s?t.s.length:0,t=Date.now()-t.G;var s=n.C;i=Wc(),at(i,new DI(i,r)),Zc(n)}else sT(n);else if(s=t.o,s==3||s==0&&0<n.ta||!(i==1&&a$(n,t)||i==2&&og(n)))switch(r&&0<r.length&&(t=n.h,t.i=t.i.concat(r)),s){case 1:ui(n,5);break;case 4:ui(n,10);break;case 3:ui(n,6);break;default:ui(n,2)}}}function lT(n,t){let r=n.ab+Math.floor(Math.random()*n.hb);return n.l||(r*=2),r*t}function ui(n,t){if(n.j.info("Error code "+t),t==2){var r=null;n.l&&(r=null);var i=wt(n.pb,n);r||(r=new gi("//www.google.com/images/cleardot.gif"),J.location&&J.location.protocol=="http"||Xu(r,"https"),Qc(r)),n$(r.toString(),i)}else At(2);n.H=0,n.l&&n.l.za(t),uT(n),rT(n)}O.pb=function(n){n?(this.j.info("Successfully pinged google.com"),At(2)):(this.j.info("Failed to ping google.com"),At(1))};function uT(n){if(n.H=0,n.pa=[],n.l){const t=QI(n.h);(t.length!=0||n.i.length!=0)&&(u0(n.pa,t),u0(n.pa,n.i),n.h.i.length=0,zm(n.i),n.i.length=0),n.l.ya()}}function cT(n,t,r){var i=r instanceof gi?nr(r):new gi(r,void 0);if(i.g!="")t&&(i.g=t+"."+i.g),Ju(i,i.m);else{var s=J.location;i=s.protocol,t=t?t+"."+s.hostname:s.hostname,s=+s.port;var o=new gi(null,void 0);i&&Xu(o,i),t&&(o.g=t),s&&Ju(o,s),r&&(o.l=r),i=o}return r=n.F,t=n.Da,r&&t&&Ae(i,r,t),Ae(i,"VER",n.qa),Ja(n,i),i}function dT(n,t,r){if(t&&!n.I)throw Error("Can't create secondary domain capable XhrIo object.");return t=r&&n.Ha&&!n.va?new Me(new Ya({ob:!0})):new Me(n.va),t.Oa(n.I),t}function hT(){}O=hT.prototype;O.Ba=function(){};O.Aa=function(){};O.za=function(){};O.ya=function(){};O.Va=function(){};function ec(){if(Ns&&!(10<=Number(_P)))throw Error("Environmental error: no available transport.")}ec.prototype.g=function(n,t){return new Ht(n,t)};function Ht(n,t){Ze.call(this),this.g=new nT(t),this.l=n,this.h=t&&t.messageUrlParams||null,n=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(n?n["X-WebChannel-Content-Type"]=t.messageContentType:n={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.Ca&&(n?n["X-WebChannel-Client-Profile"]=t.Ca:n={"X-WebChannel-Client-Profile":t.Ca}),this.g.U=n,(n=t&&t.cc)&&!Gu(n)&&(this.g.o=n),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!Gu(t)&&(this.g.F=t,n=this.h,n!==null&&t in n&&(n=this.h,t in n&&delete n[t])),this.j=new Gs(this)}et(Ht,Ze);Ht.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.I=!0);var n=this.g,t=this.l,r=this.h||void 0;At(0),n.Y=t,n.ma=r||{},n.M=n.aa,n.G=cT(n,null,n.Y),Zc(n)};Ht.prototype.close=function(){sg(this.g)};Ht.prototype.u=function(n){var t=this.g;if(typeof n=="string"){var r={};r.__data__=n,n=r}else this.v&&(r={},r.__data__=Qm(n),n=r);t.i.push(new JP(t.fb++,n)),t.H==3&&Zc(t)};Ht.prototype.N=function(){this.g.l=null,delete this.j,sg(this.g),delete this.g,Ht.$.N.call(this)};function fT(n){Zm.call(this);var t=n.__sm__;if(t){e:{for(const r in t){n=r;break e}n=void 0}(this.i=n)&&(n=this.i,t=t!==null&&n in t?t[n]:void 0),this.data=t}else this.data=n}et(fT,Zm);function pT(){eg.call(this),this.status=1}et(pT,eg);function Gs(n){this.g=n}et(Gs,hT);Gs.prototype.Ba=function(){at(this.g,"a")};Gs.prototype.Aa=function(n){at(this.g,new fT(n))};Gs.prototype.za=function(n){at(this.g,new pT)};Gs.prototype.ya=function(){at(this.g,"b")};function l$(){this.blockSize=-1}function wn(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}et(wn,l$);wn.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0};function Eh(n,t,r){r||(r=0);var i=Array(16);if(typeof t=="string")for(var s=0;16>s;++s)i[s]=t.charCodeAt(r++)|t.charCodeAt(r++)<<8|t.charCodeAt(r++)<<16|t.charCodeAt(r++)<<24;else for(s=0;16>s;++s)i[s]=t[r++]|t[r++]<<8|t[r++]<<16|t[r++]<<24;t=n.g[0],r=n.g[1],s=n.g[2];var o=n.g[3],a=t+(o^r&(s^o))+i[0]+3614090360&4294967295;t=r+(a<<7&4294967295|a>>>25),a=o+(s^t&(r^s))+i[1]+3905402710&4294967295,o=t+(a<<12&4294967295|a>>>20),a=s+(r^o&(t^r))+i[2]+606105819&4294967295,s=o+(a<<17&4294967295|a>>>15),a=r+(t^s&(o^t))+i[3]+3250441966&4294967295,r=s+(a<<22&4294967295|a>>>10),a=t+(o^r&(s^o))+i[4]+4118548399&4294967295,t=r+(a<<7&4294967295|a>>>25),a=o+(s^t&(r^s))+i[5]+1200080426&4294967295,o=t+(a<<12&4294967295|a>>>20),a=s+(r^o&(t^r))+i[6]+2821735955&4294967295,s=o+(a<<17&4294967295|a>>>15),a=r+(t^s&(o^t))+i[7]+4249261313&4294967295,r=s+(a<<22&4294967295|a>>>10),a=t+(o^r&(s^o))+i[8]+1770035416&4294967295,t=r+(a<<7&4294967295|a>>>25),a=o+(s^t&(r^s))+i[9]+2336552879&4294967295,o=t+(a<<12&4294967295|a>>>20),a=s+(r^o&(t^r))+i[10]+4294925233&4294967295,s=o+(a<<17&4294967295|a>>>15),a=r+(t^s&(o^t))+i[11]+2304563134&4294967295,r=s+(a<<22&4294967295|a>>>10),a=t+(o^r&(s^o))+i[12]+1804603682&4294967295,t=r+(a<<7&4294967295|a>>>25),a=o+(s^t&(r^s))+i[13]+4254626195&4294967295,o=t+(a<<12&4294967295|a>>>20),a=s+(r^o&(t^r))+i[14]+2792965006&4294967295,s=o+(a<<17&4294967295|a>>>15),a=r+(t^s&(o^t))+i[15]+1236535329&4294967295,r=s+(a<<22&4294967295|a>>>10),a=t+(s^o&(r^s))+i[1]+4129170786&4294967295,t=r+(a<<5&4294967295|a>>>27),a=o+(r^s&(t^r))+i[6]+3225465664&4294967295,o=t+(a<<9&4294967295|a>>>23),a=s+(t^r&(o^t))+i[11]+643717713&4294967295,s=o+(a<<14&4294967295|a>>>18),a=r+(o^t&(s^o))+i[0]+3921069994&4294967295,r=s+(a<<20&4294967295|a>>>12),a=t+(s^o&(r^s))+i[5]+3593408605&4294967295,t=r+(a<<5&4294967295|a>>>27),a=o+(r^s&(t^r))+i[10]+38016083&4294967295,o=t+(a<<9&4294967295|a>>>23),a=s+(t^r&(o^t))+i[15]+3634488961&4294967295,s=o+(a<<14&4294967295|a>>>18),a=r+(o^t&(s^o))+i[4]+3889429448&4294967295,r=s+(a<<20&4294967295|a>>>12),a=t+(s^o&(r^s))+i[9]+568446438&4294967295,t=r+(a<<5&4294967295|a>>>27),a=o+(r^s&(t^r))+i[14]+3275163606&4294967295,o=t+(a<<9&4294967295|a>>>23),a=s+(t^r&(o^t))+i[3]+4107603335&4294967295,s=o+(a<<14&4294967295|a>>>18),a=r+(o^t&(s^o))+i[8]+1163531501&4294967295,r=s+(a<<20&4294967295|a>>>12),a=t+(s^o&(r^s))+i[13]+2850285829&4294967295,t=r+(a<<5&4294967295|a>>>27),a=o+(r^s&(t^r))+i[2]+4243563512&4294967295,o=t+(a<<9&4294967295|a>>>23),a=s+(t^r&(o^t))+i[7]+1735328473&4294967295,s=o+(a<<14&4294967295|a>>>18),a=r+(o^t&(s^o))+i[12]+2368359562&4294967295,r=s+(a<<20&4294967295|a>>>12),a=t+(r^s^o)+i[5]+4294588738&4294967295,t=r+(a<<4&4294967295|a>>>28),a=o+(t^r^s)+i[8]+2272392833&4294967295,o=t+(a<<11&4294967295|a>>>21),a=s+(o^t^r)+i[11]+1839030562&4294967295,s=o+(a<<16&4294967295|a>>>16),a=r+(s^o^t)+i[14]+4259657740&4294967295,r=s+(a<<23&4294967295|a>>>9),a=t+(r^s^o)+i[1]+2763975236&4294967295,t=r+(a<<4&4294967295|a>>>28),a=o+(t^r^s)+i[4]+1272893353&4294967295,o=t+(a<<11&4294967295|a>>>21),a=s+(o^t^r)+i[7]+4139469664&4294967295,s=o+(a<<16&4294967295|a>>>16),a=r+(s^o^t)+i[10]+3200236656&4294967295,r=s+(a<<23&4294967295|a>>>9),a=t+(r^s^o)+i[13]+681279174&4294967295,t=r+(a<<4&4294967295|a>>>28),a=o+(t^r^s)+i[0]+3936430074&4294967295,o=t+(a<<11&4294967295|a>>>21),a=s+(o^t^r)+i[3]+3572445317&4294967295,s=o+(a<<16&4294967295|a>>>16),a=r+(s^o^t)+i[6]+76029189&4294967295,r=s+(a<<23&4294967295|a>>>9),a=t+(r^s^o)+i[9]+3654602809&4294967295,t=r+(a<<4&4294967295|a>>>28),a=o+(t^r^s)+i[12]+3873151461&4294967295,o=t+(a<<11&4294967295|a>>>21),a=s+(o^t^r)+i[15]+530742520&4294967295,s=o+(a<<16&4294967295|a>>>16),a=r+(s^o^t)+i[2]+3299628645&4294967295,r=s+(a<<23&4294967295|a>>>9),a=t+(s^(r|~o))+i[0]+4096336452&4294967295,t=r+(a<<6&4294967295|a>>>26),a=o+(r^(t|~s))+i[7]+1126891415&4294967295,o=t+(a<<10&4294967295|a>>>22),a=s+(t^(o|~r))+i[14]+2878612391&4294967295,s=o+(a<<15&4294967295|a>>>17),a=r+(o^(s|~t))+i[5]+4237533241&4294967295,r=s+(a<<21&4294967295|a>>>11),a=t+(s^(r|~o))+i[12]+1700485571&4294967295,t=r+(a<<6&4294967295|a>>>26),a=o+(r^(t|~s))+i[3]+2399980690&4294967295,o=t+(a<<10&4294967295|a>>>22),a=s+(t^(o|~r))+i[10]+4293915773&4294967295,s=o+(a<<15&4294967295|a>>>17),a=r+(o^(s|~t))+i[1]+2240044497&4294967295,r=s+(a<<21&4294967295|a>>>11),a=t+(s^(r|~o))+i[8]+1873313359&4294967295,t=r+(a<<6&4294967295|a>>>26),a=o+(r^(t|~s))+i[15]+4264355552&4294967295,o=t+(a<<10&4294967295|a>>>22),a=s+(t^(o|~r))+i[6]+2734768916&4294967295,s=o+(a<<15&4294967295|a>>>17),a=r+(o^(s|~t))+i[13]+1309151649&4294967295,r=s+(a<<21&4294967295|a>>>11),a=t+(s^(r|~o))+i[4]+4149444226&4294967295,t=r+(a<<6&4294967295|a>>>26),a=o+(r^(t|~s))+i[11]+3174756917&4294967295,o=t+(a<<10&4294967295|a>>>22),a=s+(t^(o|~r))+i[2]+718787259&4294967295,s=o+(a<<15&4294967295|a>>>17),a=r+(o^(s|~t))+i[9]+3951481745&4294967295,n.g[0]=n.g[0]+t&4294967295,n.g[1]=n.g[1]+(s+(a<<21&4294967295|a>>>11))&4294967295,n.g[2]=n.g[2]+s&4294967295,n.g[3]=n.g[3]+o&4294967295}wn.prototype.j=function(n,t){t===void 0&&(t=n.length);for(var r=t-this.blockSize,i=this.m,s=this.h,o=0;o<t;){if(s==0)for(;o<=r;)Eh(this,n,o),o+=this.blockSize;if(typeof n=="string"){for(;o<t;)if(i[s++]=n.charCodeAt(o++),s==this.blockSize){Eh(this,i),s=0;break}}else for(;o<t;)if(i[s++]=n[o++],s==this.blockSize){Eh(this,i),s=0;break}}this.h=s,this.i+=t};wn.prototype.l=function(){var n=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);n[0]=128;for(var t=1;t<n.length-8;++t)n[t]=0;var r=8*this.i;for(t=n.length-8;t<n.length;++t)n[t]=r&255,r/=256;for(this.j(n),n=Array(16),t=r=0;4>t;++t)for(var i=0;32>i;i+=8)n[r++]=this.g[t]>>>i&255;return n};function me(n,t){this.h=t;for(var r=[],i=!0,s=n.length-1;0<=s;s--){var o=n[s]|0;i&&o==t||(r[s]=o,i=!1)}this.g=r}var u$={};function lg(n){return-128<=n&&128>n?fI(u$,n,function(t){return new me([t|0],0>t?-1:0)}):new me([n|0],0>n?-1:0)}function An(n){if(isNaN(n)||!isFinite(n))return vs;if(0>n)return st(An(-n));for(var t=[],r=1,i=0;n>=r;i++)t[i]=n/r|0,r*=Xf;return new me(t,0)}function mT(n,t){if(n.length==0)throw Error("number format error: empty string");if(t=t||10,2>t||36<t)throw Error("radix out of range: "+t);if(n.charAt(0)=="-")return st(mT(n.substring(1),t));if(0<=n.indexOf("-"))throw Error('number format error: interior "-" character');for(var r=An(Math.pow(t,8)),i=vs,s=0;s<n.length;s+=8){var o=Math.min(8,n.length-s),a=parseInt(n.substring(s,s+o),t);8>o?(o=An(Math.pow(t,o)),i=i.R(o).add(An(a))):(i=i.R(r),i=i.add(An(a)))}return i}var Xf=4294967296,vs=lg(0),Jf=lg(1),S0=lg(16777216);O=me.prototype;O.ea=function(){if(Xt(this))return-st(this).ea();for(var n=0,t=1,r=0;r<this.g.length;r++){var i=this.D(r);n+=(0<=i?i:Xf+i)*t,t*=Xf}return n};O.toString=function(n){if(n=n||10,2>n||36<n)throw Error("radix out of range: "+n);if(Kn(this))return"0";if(Xt(this))return"-"+st(this).toString(n);for(var t=An(Math.pow(n,6)),r=this,i="";;){var s=nc(r,t).g;r=tc(r,s.R(t));var o=((0<r.g.length?r.g[0]:r.h)>>>0).toString(n);if(r=s,Kn(r))return o+i;for(;6>o.length;)o="0"+o;i=o+i}};O.D=function(n){return 0>n?0:n<this.g.length?this.g[n]:this.h};function Kn(n){if(n.h!=0)return!1;for(var t=0;t<n.g.length;t++)if(n.g[t]!=0)return!1;return!0}function Xt(n){return n.h==-1}O.X=function(n){return n=tc(this,n),Xt(n)?-1:Kn(n)?0:1};function st(n){for(var t=n.g.length,r=[],i=0;i<t;i++)r[i]=~n.g[i];return new me(r,~n.h).add(Jf)}O.abs=function(){return Xt(this)?st(this):this};O.add=function(n){for(var t=Math.max(this.g.length,n.g.length),r=[],i=0,s=0;s<=t;s++){var o=i+(this.D(s)&65535)+(n.D(s)&65535),a=(o>>>16)+(this.D(s)>>>16)+(n.D(s)>>>16);i=a>>>16,o&=65535,a&=65535,r[s]=a<<16|o}return new me(r,r[r.length-1]&-2147483648?-1:0)};function tc(n,t){return n.add(st(t))}O.R=function(n){if(Kn(this)||Kn(n))return vs;if(Xt(this))return Xt(n)?st(this).R(st(n)):st(st(this).R(n));if(Xt(n))return st(this.R(st(n)));if(0>this.X(S0)&&0>n.X(S0))return An(this.ea()*n.ea());for(var t=this.g.length+n.g.length,r=[],i=0;i<2*t;i++)r[i]=0;for(i=0;i<this.g.length;i++)for(var s=0;s<n.g.length;s++){var o=this.D(i)>>>16,a=this.D(i)&65535,l=n.D(s)>>>16,u=n.D(s)&65535;r[2*i+2*s]+=a*u,Pl(r,2*i+2*s),r[2*i+2*s+1]+=o*u,Pl(r,2*i+2*s+1),r[2*i+2*s+1]+=a*l,Pl(r,2*i+2*s+1),r[2*i+2*s+2]+=o*l,Pl(r,2*i+2*s+2)}for(i=0;i<t;i++)r[i]=r[2*i+1]<<16|r[2*i];for(i=t;i<2*t;i++)r[i]=0;return new me(r,0)};function Pl(n,t){for(;(n[t]&65535)!=n[t];)n[t+1]+=n[t]>>>16,n[t]&=65535,t++}function go(n,t){this.g=n,this.h=t}function nc(n,t){if(Kn(t))throw Error("division by zero");if(Kn(n))return new go(vs,vs);if(Xt(n))return t=nc(st(n),t),new go(st(t.g),st(t.h));if(Xt(t))return t=nc(n,st(t)),new go(st(t.g),t.h);if(30<n.g.length){if(Xt(n)||Xt(t))throw Error("slowDivide_ only works with positive integers.");for(var r=Jf,i=t;0>=i.X(n);)r=I0(r),i=I0(i);var s=Hi(r,1),o=Hi(i,1);for(i=Hi(i,2),r=Hi(r,2);!Kn(i);){var a=o.add(i);0>=a.X(n)&&(s=s.add(r),o=a),i=Hi(i,1),r=Hi(r,1)}return t=tc(n,s.R(t)),new go(s,t)}for(s=vs;0<=n.X(t);){for(r=Math.max(1,Math.floor(n.ea()/t.ea())),i=Math.ceil(Math.log(r)/Math.LN2),i=48>=i?1:Math.pow(2,i-48),o=An(r),a=o.R(t);Xt(a)||0<a.X(n);)r-=i,o=An(r),a=o.R(t);Kn(o)&&(o=Jf),s=s.add(o),n=tc(n,a)}return new go(s,n)}O.gb=function(n){return nc(this,n).h};O.and=function(n){for(var t=Math.max(this.g.length,n.g.length),r=[],i=0;i<t;i++)r[i]=this.D(i)&n.D(i);return new me(r,this.h&n.h)};O.or=function(n){for(var t=Math.max(this.g.length,n.g.length),r=[],i=0;i<t;i++)r[i]=this.D(i)|n.D(i);return new me(r,this.h|n.h)};O.xor=function(n){for(var t=Math.max(this.g.length,n.g.length),r=[],i=0;i<t;i++)r[i]=this.D(i)^n.D(i);return new me(r,this.h^n.h)};function I0(n){for(var t=n.g.length+1,r=[],i=0;i<t;i++)r[i]=n.D(i)<<1|n.D(i-1)>>>31;return new me(r,n.h)}function Hi(n,t){var r=t>>5;t%=32;for(var i=n.g.length-r,s=[],o=0;o<i;o++)s[o]=0<t?n.D(o+r)>>>t|n.D(o+r+1)<<32-t:n.D(o+r);return new me(s,n.h)}ec.prototype.createWebChannel=ec.prototype.g;Ht.prototype.send=Ht.prototype.u;Ht.prototype.open=Ht.prototype.m;Ht.prototype.close=Ht.prototype.close;qc.NO_ERROR=0;qc.TIMEOUT=8;qc.HTTP_ERROR=6;PI.COMPLETE="complete";$I.EventType=Ka;Ka.OPEN="a";Ka.CLOSE="b";Ka.ERROR="c";Ka.MESSAGE="d";Ze.prototype.listen=Ze.prototype.O;Me.prototype.listenOnce=Me.prototype.P;Me.prototype.getLastError=Me.prototype.Sa;Me.prototype.getLastErrorCode=Me.prototype.Ia;Me.prototype.getStatus=Me.prototype.da;Me.prototype.getResponseJson=Me.prototype.Wa;Me.prototype.getResponseText=Me.prototype.ja;Me.prototype.send=Me.prototype.ha;Me.prototype.setWithCredentials=Me.prototype.Oa;wn.prototype.digest=wn.prototype.l;wn.prototype.reset=wn.prototype.reset;wn.prototype.update=wn.prototype.j;me.prototype.add=me.prototype.add;me.prototype.multiply=me.prototype.R;me.prototype.modulo=me.prototype.gb;me.prototype.compare=me.prototype.X;me.prototype.toNumber=me.prototype.ea;me.prototype.toString=me.prototype.toString;me.prototype.getBits=me.prototype.D;me.fromNumber=An;me.fromString=mT;var c$=function(){return new ec},d$=function(){return Wc()},Sh=qc,h$=PI,f$=Li,T0={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},p$=Ya,$l=$I,m$=Me,g$=wn,ws=me;const _0="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mt{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}mt.UNAUTHENTICATED=new mt(null),mt.GOOGLE_CREDENTIALS=new mt("google-credentials-uid"),mt.FIRST_PARTY=new mt("first-party-uid"),mt.MOCK_USER=new mt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Qs="9.22.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xi=new Pc("@firebase/firestore");function C0(){return xi.logLevel}function F(n,...t){if(xi.logLevel<=ue.DEBUG){const r=t.map(ug);xi.debug(`Firestore (${Qs}): ${n}`,...r)}}function rr(n,...t){if(xi.logLevel<=ue.ERROR){const r=t.map(ug);xi.error(`Firestore (${Qs}): ${n}`,...r)}}function bs(n,...t){if(xi.logLevel<=ue.WARN){const r=t.map(ug);xi.warn(`Firestore (${Qs}): ${n}`,...r)}}function ug(n){if(typeof n=="string")return n;try{return t=n,JSON.stringify(t)}catch{return n}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function K(n="Unexpected state"){const t=`FIRESTORE (${Qs}) INTERNAL ASSERTION FAILED: `+n;throw rr(t),new Error(t)}function Ce(n,t){n||K()}function ee(n,t){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};let L=class extends Sn{constructor(t,r){super(t,r),this.code=t,this.message=r,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fr{constructor(){this.promise=new Promise((t,r)=>{this.resolve=t,this.reject=r})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gT{constructor(t,r){this.user=r,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}let y$=class{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,r){t.enqueueRetryable(()=>r(mt.UNAUTHENTICATED))}shutdown(){}},v$=class{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,r){this.changeListener=r,t.enqueueRetryable(()=>r(this.token.user))}shutdown(){this.changeListener=null}},w$=class{constructor(t){this.t=t,this.currentUser=mt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,r){let i=this.i;const s=u=>this.i!==i?(i=this.i,r(u)):Promise.resolve();let o=new Fr;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new Fr,t.enqueueRetryable(()=>s(this.currentUser))};const a=()=>{const u=o;t.enqueueRetryable(async()=>{await u.promise,await s(this.currentUser)})},l=u=>{F("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.auth.addAuthTokenListener(this.o),a()};this.t.onInit(u=>l(u)),setTimeout(()=>{if(!this.auth){const u=this.t.getImmediate({optional:!0});u?l(u):(F("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new Fr)}},0),a()}getToken(){const t=this.i,r=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(r).then(i=>this.i!==t?(F("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(Ce(typeof i.accessToken=="string"),new gT(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const t=this.auth&&this.auth.getUid();return Ce(t===null||typeof t=="string"),new mt(t)}};class E${constructor(t,r,i){this.h=t,this.l=r,this.m=i,this.type="FirstParty",this.user=mt.FIRST_PARTY,this.g=new Map}p(){return this.m?this.m():null}get headers(){this.g.set("X-Goog-AuthUser",this.h);const t=this.p();return t&&this.g.set("Authorization",t),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}}let S$=class{constructor(t,r,i){this.h=t,this.l=r,this.m=i}getToken(){return Promise.resolve(new E$(this.h,this.l,this.m))}start(t,r){t.enqueueRetryable(()=>r(mt.FIRST_PARTY))}shutdown(){}invalidateToken(){}},I$=class{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}},T$=class{constructor(t){this.I=t,this.forceRefresh=!1,this.appCheck=null,this.T=null}start(t,r){const i=o=>{o.error!=null&&F("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const a=o.token!==this.T;return this.T=o.token,F("FirebaseAppCheckTokenProvider",`Received ${a?"new":"existing"} token.`),a?r(o.token):Promise.resolve()};this.o=o=>{t.enqueueRetryable(()=>i(o))};const s=o=>{F("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.appCheck.addTokenListener(this.o)};this.I.onInit(o=>s(o)),setTimeout(()=>{if(!this.appCheck){const o=this.I.getImmediate({optional:!0});o?s(o):F("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(r=>r?(Ce(typeof r.token=="string"),this.T=r.token,new I$(r.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _$(n){const t=typeof self<"u"&&(self.crypto||self.msCrypto),r=new Uint8Array(n);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(r);else for(let i=0;i<n;i++)r[i]=Math.floor(256*Math.random());return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yT{static A(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",r=Math.floor(256/t.length)*t.length;let i="";for(;i.length<20;){const s=_$(40);for(let o=0;o<s.length;++o)i.length<20&&s[o]<r&&(i+=t.charAt(s[o]%t.length))}return i}}function ce(n,t){return n<t?-1:n>t?1:0}function Ds(n,t,r){return n.length===t.length&&n.every((i,s)=>r(i,t[s]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class We{constructor(t,r){if(this.seconds=t,this.nanoseconds=r,r<0)throw new L(k.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(r>=1e9)throw new L(k.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(t<-62135596800)throw new L(k.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new L(k.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}static now(){return We.fromMillis(Date.now())}static fromDate(t){return We.fromMillis(t.getTime())}static fromMillis(t){const r=Math.floor(t/1e3),i=Math.floor(1e6*(t-1e3*r));return new We(r,i)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(t){return this.seconds===t.seconds?ce(this.nanoseconds,t.nanoseconds):ce(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const t=this.seconds- -62135596800;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z{constructor(t){this.timestamp=t}static fromTimestamp(t){return new Z(t)}static min(){return new Z(new We(0,0))}static max(){return new Z(new We(253402300799,999999999))}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ka{constructor(t,r,i){r===void 0?r=0:r>t.length&&K(),i===void 0?i=t.length-r:i>t.length-r&&K(),this.segments=t,this.offset=r,this.len=i}get length(){return this.len}isEqual(t){return ka.comparator(this,t)===0}child(t){const r=this.segments.slice(this.offset,this.limit());return t instanceof ka?t.forEach(i=>{r.push(i)}):r.push(t),this.construct(r)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==t.get(r))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==t.get(r))return!1;return!0}forEach(t){for(let r=this.offset,i=this.limit();r<i;r++)t(this.segments[r])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,r){const i=Math.min(t.length,r.length);for(let s=0;s<i;s++){const o=t.get(s),a=r.get(s);if(o<a)return-1;if(o>a)return 1}return t.length<r.length?-1:t.length>r.length?1:0}}class Te extends ka{construct(t,r,i){return new Te(t,r,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...t){const r=[];for(const i of t){if(i.indexOf("//")>=0)throw new L(k.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);r.push(...i.split("/").filter(s=>s.length>0))}return new Te(r)}static emptyPath(){return new Te([])}}const C$=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class vt extends ka{construct(t,r,i){return new vt(t,r,i)}static isValidIdentifier(t){return C$.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),vt.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new vt(["__name__"])}static fromServerFormat(t){const r=[];let i="",s=0;const o=()=>{if(i.length===0)throw new L(k.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);r.push(i),i=""};let a=!1;for(;s<t.length;){const l=t[s];if(l==="\\"){if(s+1===t.length)throw new L(k.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const u=t[s+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new L(k.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);i+=u,s+=2}else l==="`"?(a=!a,s++):l!=="."||a?(i+=l,s++):(o(),s++)}if(o(),a)throw new L(k.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new vt(r)}static emptyPath(){return new vt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j{constructor(t){this.path=t}static fromPath(t){return new j(Te.fromString(t))}static fromName(t){return new j(Te.fromString(t).popFirst(5))}static empty(){return new j(Te.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&Te.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,r){return Te.comparator(t.path,r.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new j(new Te(t.slice()))}}function k$(n,t){const r=n.toTimestamp().seconds,i=n.toTimestamp().nanoseconds+1,s=Z.fromTimestamp(i===1e9?new We(r+1,0):new We(r,i));return new zr(s,j.empty(),t)}function A$(n){return new zr(n.readTime,n.key,-1)}class zr{constructor(t,r,i){this.readTime=t,this.documentKey=r,this.largestBatchId=i}static min(){return new zr(Z.min(),j.empty(),-1)}static max(){return new zr(Z.max(),j.empty(),-1)}}function R$(n,t){let r=n.readTime.compareTo(t.readTime);return r!==0?r:(r=j.comparator(n.documentKey,t.documentKey),r!==0?r:ce(n.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x$="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class N${constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Za(n){if(n.code!==k.FAILED_PRECONDITION||n.message!==x$)throw n;F("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(r=>{this.isDone=!0,this.result=r,this.nextCallback&&this.nextCallback(r)},r=>{this.isDone=!0,this.error=r,this.catchCallback&&this.catchCallback(r)})}catch(t){return this.next(void 0,t)}next(t,r){return this.callbackAttached&&K(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(r,this.error):this.wrapSuccess(t,this.result):new N((i,s)=>{this.nextCallback=o=>{this.wrapSuccess(t,o).next(i,s)},this.catchCallback=o=>{this.wrapFailure(r,o).next(i,s)}})}toPromise(){return new Promise((t,r)=>{this.next(t,r)})}wrapUserFunction(t){try{const r=t();return r instanceof N?r:N.resolve(r)}catch(r){return N.reject(r)}}wrapSuccess(t,r){return t?this.wrapUserFunction(()=>t(r)):N.resolve(r)}wrapFailure(t,r){return t?this.wrapUserFunction(()=>t(r)):N.reject(r)}static resolve(t){return new N((r,i)=>{r(t)})}static reject(t){return new N((r,i)=>{i(t)})}static waitFor(t){return new N((r,i)=>{let s=0,o=0,a=!1;t.forEach(l=>{++s,l.next(()=>{++o,a&&o===s&&r()},u=>i(u))}),a=!0,o===s&&r()})}static or(t){let r=N.resolve(!1);for(const i of t)r=r.next(s=>s?N.resolve(s):i());return r}static forEach(t,r){const i=[];return t.forEach((s,o)=>{i.push(r.call(this,s,o))}),this.waitFor(i)}static mapArray(t,r){return new N((i,s)=>{const o=t.length,a=new Array(o);let l=0;for(let u=0;u<o;u++){const c=u;r(t[c]).next(d=>{a[c]=d,++l,l===o&&i(a)},d=>s(d))}})}static doWhile(t,r){return new N((i,s)=>{const o=()=>{t()===!0?r().next(()=>{o()},s):i()};o()})}}function el(n){return n.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cg{constructor(t,r){this.previousValue=t,r&&(r.sequenceNumberHandler=i=>this.ot(i),this.ut=i=>r.writeSequenceNumber(i))}ot(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ut&&this.ut(t),t}}cg.ct=-1;function ed(n){return n==null}function rc(n){return n===0&&1/n==-1/0}function b$(n){return typeof n=="number"&&Number.isInteger(n)&&!rc(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function k0(n){let t=0;for(const r in n)Object.prototype.hasOwnProperty.call(n,r)&&t++;return t}function Ys(n,t){for(const r in n)Object.prototype.hasOwnProperty.call(n,r)&&t(r,n[r])}function vT(n){for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $e{constructor(t,r){this.comparator=t,this.root=r||it.EMPTY}insert(t,r){return new $e(this.comparator,this.root.insert(t,r,this.comparator).copy(null,null,it.BLACK,null,null))}remove(t){return new $e(this.comparator,this.root.remove(t,this.comparator).copy(null,null,it.BLACK,null,null))}get(t){let r=this.root;for(;!r.isEmpty();){const i=this.comparator(t,r.key);if(i===0)return r.value;i<0?r=r.left:i>0&&(r=r.right)}return null}indexOf(t){let r=0,i=this.root;for(;!i.isEmpty();){const s=this.comparator(t,i.key);if(s===0)return r+i.left.size;s<0?i=i.left:(r+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((r,i)=>(t(r,i),!1))}toString(){const t=[];return this.inorderTraversal((r,i)=>(t.push(`${r}:${i}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new Ol(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new Ol(this.root,t,this.comparator,!1)}getReverseIterator(){return new Ol(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new Ol(this.root,t,this.comparator,!0)}}let Ol=class{constructor(t,r,i,s){this.isReverse=s,this.nodeStack=[];let o=1;for(;!t.isEmpty();)if(o=r?i(t.key,r):1,r&&s&&(o*=-1),o<0)t=this.isReverse?t.left:t.right;else{if(o===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const r={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return r}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}};class it{constructor(t,r,i,s,o){this.key=t,this.value=r,this.color=i??it.RED,this.left=s??it.EMPTY,this.right=o??it.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,r,i,s,o){return new it(t??this.key,r??this.value,i??this.color,s??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,r,i){let s=this;const o=i(t,s.key);return s=o<0?s.copy(null,null,null,s.left.insert(t,r,i),null):o===0?s.copy(null,r,null,null,null):s.copy(null,null,null,null,s.right.insert(t,r,i)),s.fixUp()}removeMin(){if(this.left.isEmpty())return it.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,r){let i,s=this;if(r(t,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(t,r),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),r(t,s.key)===0){if(s.right.isEmpty())return it.EMPTY;i=s.right.min(),s=s.copy(i.key,i.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(t,r))}return s.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,it.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,it.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,r)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw K();const t=this.left.check();if(t!==this.right.check())throw K();return t+(this.isRed()?0:1)}}it.EMPTY=null,it.RED=!0,it.BLACK=!1;it.EMPTY=new class{constructor(){this.size=0}get key(){throw K()}get value(){throw K()}get color(){throw K()}get left(){throw K()}get right(){throw K()}copy(n,t,r,i,s){return this}insert(n,t,r){return new it(n,t)}remove(n,t){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class St{constructor(t){this.comparator=t,this.data=new $e(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((r,i)=>(t(r),!1))}forEachInRange(t,r){const i=this.data.getIteratorFrom(t[0]);for(;i.hasNext();){const s=i.getNext();if(this.comparator(s.key,t[1])>=0)return;r(s.key)}}forEachWhile(t,r){let i;for(i=r!==void 0?this.data.getIteratorFrom(r):this.data.getIterator();i.hasNext();)if(!t(i.getNext().key))return}firstAfterOrEqual(t){const r=this.data.getIteratorFrom(t);return r.hasNext()?r.getNext().key:null}getIterator(){return new A0(this.data.getIterator())}getIteratorFrom(t){return new A0(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let r=this;return r.size<t.size&&(r=t,t=this),t.forEach(i=>{r=r.add(i)}),r}isEqual(t){if(!(t instanceof St)||this.size!==t.size)return!1;const r=this.data.getIterator(),i=t.data.getIterator();for(;r.hasNext();){const s=r.getNext().key,o=i.getNext().key;if(this.comparator(s,o)!==0)return!1}return!0}toArray(){const t=[];return this.forEach(r=>{t.push(r)}),t}toString(){const t=[];return this.forEach(r=>t.push(r)),"SortedSet("+t.toString()+")"}copy(t){const r=new St(this.comparator);return r.data=t,r}}class A0{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let _r=class Zf{constructor(t){this.fields=t,t.sort(vt.comparator)}static empty(){return new Zf([])}unionWith(t){let r=new St(vt.comparator);for(const i of this.fields)r=r.add(i);for(const i of t)r=r.add(i);return new Zf(r.toArray())}covers(t){for(const r of this.fields)if(r.isPrefixOf(t))return!0;return!1}isEqual(t){return Ds(this.fields,t.fields,(r,i)=>r.isEqual(i))}};/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wT extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Wt=class ep{constructor(t){this.binaryString=t}static fromBase64String(t){const r=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new wT("Invalid base64 string: "+s):s}}(t);return new ep(r)}static fromUint8Array(t){const r=function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s}(t);return new ep(r)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return t=this.binaryString,btoa(t);var t}toUint8Array(){return function(t){const r=new Uint8Array(t.length);for(let i=0;i<t.length;i++)r[i]=t.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return ce(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}};Wt.EMPTY_BYTE_STRING=new Wt("");const D$=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Br(n){if(Ce(!!n),typeof n=="string"){let t=0;const r=D$.exec(n);if(Ce(!!r),r[1]){let s=r[1];s=(s+"000000000").substr(0,9),t=Number(s)}const i=new Date(n);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:ze(n.seconds),nanos:ze(n.nanos)}}function ze(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function Ni(n){return typeof n=="string"?Wt.fromBase64String(n):Wt.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dg(n){var t,r;return((r=(((t=n==null?void 0:n.mapValue)===null||t===void 0?void 0:t.fields)||{}).__type__)===null||r===void 0?void 0:r.stringValue)==="server_timestamp"}function hg(n){const t=n.mapValue.fields.__previous_value__;return dg(t)?hg(t):t}function Aa(n){const t=Br(n.mapValue.fields.__local_write_time__.timestampValue);return new We(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let P$=class{constructor(t,r,i,s,o,a,l,u,c){this.databaseId=t,this.appId=r,this.persistenceKey=i,this.host=s,this.ssl=o,this.forceLongPolling=a,this.autoDetectLongPolling=l,this.longPollingOptions=u,this.useFetchStreams=c}};class Ra{constructor(t,r){this.projectId=t,this.database=r||"(default)"}static empty(){return new Ra("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(t){return t instanceof Ra&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ml={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function bi(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?dg(n)?4:$$(n)?9007199254740991:10:K()}function $n(n,t){if(n===t)return!0;const r=bi(n);if(r!==bi(t))return!1;switch(r){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===t.booleanValue;case 4:return Aa(n).isEqual(Aa(t));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const o=Br(i.timestampValue),a=Br(s.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(n,t);case 5:return n.stringValue===t.stringValue;case 6:return function(i,s){return Ni(i.bytesValue).isEqual(Ni(s.bytesValue))}(n,t);case 7:return n.referenceValue===t.referenceValue;case 8:return function(i,s){return ze(i.geoPointValue.latitude)===ze(s.geoPointValue.latitude)&&ze(i.geoPointValue.longitude)===ze(s.geoPointValue.longitude)}(n,t);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return ze(i.integerValue)===ze(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const o=ze(i.doubleValue),a=ze(s.doubleValue);return o===a?rc(o)===rc(a):isNaN(o)&&isNaN(a)}return!1}(n,t);case 9:return Ds(n.arrayValue.values||[],t.arrayValue.values||[],$n);case 10:return function(i,s){const o=i.mapValue.fields||{},a=s.mapValue.fields||{};if(k0(o)!==k0(a))return!1;for(const l in o)if(o.hasOwnProperty(l)&&(a[l]===void 0||!$n(o[l],a[l])))return!1;return!0}(n,t);default:return K()}}function xa(n,t){return(n.values||[]).find(r=>$n(r,t))!==void 0}function Ps(n,t){if(n===t)return 0;const r=bi(n),i=bi(t);if(r!==i)return ce(r,i);switch(r){case 0:case 9007199254740991:return 0;case 1:return ce(n.booleanValue,t.booleanValue);case 2:return function(s,o){const a=ze(s.integerValue||s.doubleValue),l=ze(o.integerValue||o.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(n,t);case 3:return R0(n.timestampValue,t.timestampValue);case 4:return R0(Aa(n),Aa(t));case 5:return ce(n.stringValue,t.stringValue);case 6:return function(s,o){const a=Ni(s),l=Ni(o);return a.compareTo(l)}(n.bytesValue,t.bytesValue);case 7:return function(s,o){const a=s.split("/"),l=o.split("/");for(let u=0;u<a.length&&u<l.length;u++){const c=ce(a[u],l[u]);if(c!==0)return c}return ce(a.length,l.length)}(n.referenceValue,t.referenceValue);case 8:return function(s,o){const a=ce(ze(s.latitude),ze(o.latitude));return a!==0?a:ce(ze(s.longitude),ze(o.longitude))}(n.geoPointValue,t.geoPointValue);case 9:return function(s,o){const a=s.values||[],l=o.values||[];for(let u=0;u<a.length&&u<l.length;++u){const c=Ps(a[u],l[u]);if(c)return c}return ce(a.length,l.length)}(n.arrayValue,t.arrayValue);case 10:return function(s,o){if(s===Ml.mapValue&&o===Ml.mapValue)return 0;if(s===Ml.mapValue)return 1;if(o===Ml.mapValue)return-1;const a=s.fields||{},l=Object.keys(a),u=o.fields||{},c=Object.keys(u);l.sort(),c.sort();for(let d=0;d<l.length&&d<c.length;++d){const h=ce(l[d],c[d]);if(h!==0)return h;const f=Ps(a[l[d]],u[c[d]]);if(f!==0)return f}return ce(l.length,c.length)}(n.mapValue,t.mapValue);default:throw K()}}function R0(n,t){if(typeof n=="string"&&typeof t=="string"&&n.length===t.length)return ce(n,t);const r=Br(n),i=Br(t),s=ce(r.seconds,i.seconds);return s!==0?s:ce(r.nanos,i.nanos)}function $s(n){return tp(n)}function tp(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(i){const s=Br(i);return`time(${s.seconds},${s.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?Ni(n.bytesValue).toBase64():"referenceValue"in n?(r=n.referenceValue,j.fromName(r).toString()):"geoPointValue"in n?`geo(${(t=n.geoPointValue).latitude},${t.longitude})`:"arrayValue"in n?function(i){let s="[",o=!0;for(const a of i.values||[])o?o=!1:s+=",",s+=tp(a);return s+"]"}(n.arrayValue):"mapValue"in n?function(i){const s=Object.keys(i.fields||{}).sort();let o="{",a=!0;for(const l of s)a?a=!1:o+=",",o+=`${l}:${tp(i.fields[l])}`;return o+"}"}(n.mapValue):K();var t,r}function x0(n,t){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${t.path.canonicalString()}`}}function np(n){return!!n&&"integerValue"in n}function fg(n){return!!n&&"arrayValue"in n}function N0(n){return!!n&&"nullValue"in n}function b0(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function ou(n){return!!n&&"mapValue"in n}function qo(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const t={mapValue:{fields:{}}};return Ys(n.mapValue.fields,(r,i)=>t.mapValue.fields[r]=qo(i)),t}if(n.arrayValue){const t={arrayValue:{values:[]}};for(let r=0;r<(n.arrayValue.values||[]).length;++r)t.arrayValue.values[r]=qo(n.arrayValue.values[r]);return t}return Object.assign({},n)}function $$(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jt{constructor(t){this.value=t}static empty(){return new Jt({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let r=this.value;for(let i=0;i<t.length-1;++i)if(r=(r.mapValue.fields||{})[t.get(i)],!ou(r))return null;return r=(r.mapValue.fields||{})[t.lastSegment()],r||null}}set(t,r){this.getFieldsMap(t.popLast())[t.lastSegment()]=qo(r)}setAll(t){let r=vt.emptyPath(),i={},s=[];t.forEach((a,l)=>{if(!r.isImmediateParentOf(l)){const u=this.getFieldsMap(r);this.applyChanges(u,i,s),i={},s=[],r=l.popLast()}a?i[l.lastSegment()]=qo(a):s.push(l.lastSegment())});const o=this.getFieldsMap(r);this.applyChanges(o,i,s)}delete(t){const r=this.field(t.popLast());ou(r)&&r.mapValue.fields&&delete r.mapValue.fields[t.lastSegment()]}isEqual(t){return $n(this.value,t.value)}getFieldsMap(t){let r=this.value;r.mapValue.fields||(r.mapValue={fields:{}});for(let i=0;i<t.length;++i){let s=r.mapValue.fields[t.get(i)];ou(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},r.mapValue.fields[t.get(i)]=s),r=s}return r.mapValue.fields}applyChanges(t,r,i){Ys(r,(s,o)=>t[s]=o);for(const s of i)delete t[s]}clone(){return new Jt(qo(this.value))}}function ET(n){const t=[];return Ys(n.fields,(r,i)=>{const s=new vt([r]);if(ou(i)){const o=ET(i.mapValue).fields;if(o.length===0)t.push(s);else for(const a of o)t.push(s.child(a))}else t.push(s)}),new _r(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yt{constructor(t,r,i,s,o,a,l){this.key=t,this.documentType=r,this.version=i,this.readTime=s,this.createTime=o,this.data=a,this.documentState=l}static newInvalidDocument(t){return new yt(t,0,Z.min(),Z.min(),Z.min(),Jt.empty(),0)}static newFoundDocument(t,r,i,s){return new yt(t,1,r,Z.min(),i,s,0)}static newNoDocument(t,r){return new yt(t,2,r,Z.min(),Z.min(),Jt.empty(),0)}static newUnknownDocument(t,r){return new yt(t,3,r,Z.min(),Z.min(),Jt.empty(),2)}convertToFoundDocument(t,r){return!this.createTime.isEqual(Z.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=r,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=Jt.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=Jt.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Z.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof yt&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new yt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ic{constructor(t,r){this.position=t,this.inclusive=r}}function D0(n,t,r){let i=0;for(let s=0;s<n.position.length;s++){const o=t[s],a=n.position[s];if(o.field.isKeyField()?i=j.comparator(j.fromName(a.referenceValue),r.key):i=Ps(a,r.data.field(o.field)),o.dir==="desc"&&(i*=-1),i!==0)break}return i}function P0(n,t){if(n===null)return t===null;if(t===null||n.inclusive!==t.inclusive||n.position.length!==t.position.length)return!1;for(let r=0;r<n.position.length;r++)if(!$n(n.position[r],t.position[r]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ko{constructor(t,r="asc"){this.field=t,this.dir=r}}function O$(n,t){return n.dir===t.dir&&n.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ST{}class He extends ST{constructor(t,r,i){super(),this.field=t,this.op=r,this.value=i}static create(t,r,i){return t.isKeyField()?r==="in"||r==="not-in"?this.createKeyFieldInFilter(t,r,i):new L$(t,r,i):r==="array-contains"?new V$(t,i):r==="in"?new j$(t,i):r==="not-in"?new z$(t,i):r==="array-contains-any"?new B$(t,i):new He(t,r,i)}static createKeyFieldInFilter(t,r,i){return r==="in"?new F$(t,i):new U$(t,i)}matches(t){const r=t.data.field(this.field);return this.op==="!="?r!==null&&this.matchesComparison(Ps(r,this.value)):r!==null&&bi(this.value)===bi(r)&&this.matchesComparison(Ps(r,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return K()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class En extends ST{constructor(t,r){super(),this.filters=t,this.op=r,this.lt=null}static create(t,r){return new En(t,r)}matches(t){return IT(this)?this.filters.find(r=>!r.matches(t))===void 0:this.filters.find(r=>r.matches(t))!==void 0}getFlattenedFilters(){return this.lt!==null||(this.lt=this.filters.reduce((t,r)=>t.concat(r.getFlattenedFilters()),[])),this.lt}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const t=this.ft(r=>r.isInequality());return t!==null?t.field:null}ft(t){for(const r of this.getFlattenedFilters())if(t(r))return r;return null}}function IT(n){return n.op==="and"}function TT(n){return M$(n)&&IT(n)}function M$(n){for(const t of n.filters)if(t instanceof En)return!1;return!0}function rp(n){if(n instanceof He)return n.field.canonicalString()+n.op.toString()+$s(n.value);if(TT(n))return n.filters.map(t=>rp(t)).join(",");{const t=n.filters.map(r=>rp(r)).join(",");return`${n.op}(${t})`}}function _T(n,t){return n instanceof He?function(r,i){return i instanceof He&&r.op===i.op&&r.field.isEqual(i.field)&&$n(r.value,i.value)}(n,t):n instanceof En?function(r,i){return i instanceof En&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,o,a)=>s&&_T(o,i.filters[a]),!0):!1}(n,t):void K()}function CT(n){return n instanceof He?function(t){return`${t.field.canonicalString()} ${t.op} ${$s(t.value)}`}(n):n instanceof En?function(t){return t.op.toString()+" {"+t.getFilters().map(CT).join(" ,")+"}"}(n):"Filter"}class L$ extends He{constructor(t,r,i){super(t,r,i),this.key=j.fromName(i.referenceValue)}matches(t){const r=j.comparator(t.key,this.key);return this.matchesComparison(r)}}class F$ extends He{constructor(t,r){super(t,"in",r),this.keys=kT("in",r)}matches(t){return this.keys.some(r=>r.isEqual(t.key))}}class U$ extends He{constructor(t,r){super(t,"not-in",r),this.keys=kT("not-in",r)}matches(t){return!this.keys.some(r=>r.isEqual(t.key))}}function kT(n,t){var r;return(((r=t.arrayValue)===null||r===void 0?void 0:r.values)||[]).map(i=>j.fromName(i.referenceValue))}class V$ extends He{constructor(t,r){super(t,"array-contains",r)}matches(t){const r=t.data.field(this.field);return fg(r)&&xa(r.arrayValue,this.value)}}class j$ extends He{constructor(t,r){super(t,"in",r)}matches(t){const r=t.data.field(this.field);return r!==null&&xa(this.value.arrayValue,r)}}class z$ extends He{constructor(t,r){super(t,"not-in",r)}matches(t){if(xa(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const r=t.data.field(this.field);return r!==null&&!xa(this.value.arrayValue,r)}}class B$ extends He{constructor(t,r){super(t,"array-contains-any",r)}matches(t){const r=t.data.field(this.field);return!(!fg(r)||!r.arrayValue.values)&&r.arrayValue.values.some(i=>xa(this.value.arrayValue,i))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H${constructor(t,r=null,i=[],s=[],o=null,a=null,l=null){this.path=t,this.collectionGroup=r,this.orderBy=i,this.filters=s,this.limit=o,this.startAt=a,this.endAt=l,this.dt=null}}function $0(n,t=null,r=[],i=[],s=null,o=null,a=null){return new H$(n,t,r,i,s,o,a)}function pg(n){const t=ee(n);if(t.dt===null){let r=t.path.canonicalString();t.collectionGroup!==null&&(r+="|cg:"+t.collectionGroup),r+="|f:",r+=t.filters.map(i=>rp(i)).join(","),r+="|ob:",r+=t.orderBy.map(i=>function(s){return s.field.canonicalString()+s.dir}(i)).join(","),ed(t.limit)||(r+="|l:",r+=t.limit),t.startAt&&(r+="|lb:",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map(i=>$s(i)).join(",")),t.endAt&&(r+="|ub:",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map(i=>$s(i)).join(",")),t.dt=r}return t.dt}function mg(n,t){if(n.limit!==t.limit||n.orderBy.length!==t.orderBy.length)return!1;for(let r=0;r<n.orderBy.length;r++)if(!O$(n.orderBy[r],t.orderBy[r]))return!1;if(n.filters.length!==t.filters.length)return!1;for(let r=0;r<n.filters.length;r++)if(!_T(n.filters[r],t.filters[r]))return!1;return n.collectionGroup===t.collectionGroup&&!!n.path.isEqual(t.path)&&!!P0(n.startAt,t.startAt)&&P0(n.endAt,t.endAt)}function ip(n){return j.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tl{constructor(t,r=null,i=[],s=[],o=null,a="F",l=null,u=null){this.path=t,this.collectionGroup=r,this.explicitOrderBy=i,this.filters=s,this.limit=o,this.limitType=a,this.startAt=l,this.endAt=u,this.wt=null,this._t=null,this.startAt,this.endAt}}function W$(n,t,r,i,s,o,a,l){return new tl(n,t,r,i,s,o,a,l)}function AT(n){return new tl(n)}function O0(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function RT(n){return n.explicitOrderBy.length>0?n.explicitOrderBy[0].field:null}function gg(n){for(const t of n.filters){const r=t.getFirstInequalityField();if(r!==null)return r}return null}function xT(n){return n.collectionGroup!==null}function Es(n){const t=ee(n);if(t.wt===null){t.wt=[];const r=gg(t),i=RT(t);if(r!==null&&i===null)r.isKeyField()||t.wt.push(new Ko(r)),t.wt.push(new Ko(vt.keyField(),"asc"));else{let s=!1;for(const o of t.explicitOrderBy)t.wt.push(o),o.field.isKeyField()&&(s=!0);if(!s){const o=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.wt.push(new Ko(vt.keyField(),o))}}}return t.wt}function ir(n){const t=ee(n);if(!t._t)if(t.limitType==="F")t._t=$0(t.path,t.collectionGroup,Es(t),t.filters,t.limit,t.startAt,t.endAt);else{const r=[];for(const o of Es(t)){const a=o.dir==="desc"?"asc":"desc";r.push(new Ko(o.field,a))}const i=t.endAt?new ic(t.endAt.position,t.endAt.inclusive):null,s=t.startAt?new ic(t.startAt.position,t.startAt.inclusive):null;t._t=$0(t.path,t.collectionGroup,r,t.filters,t.limit,i,s)}return t._t}function sp(n,t){t.getFirstInequalityField(),gg(n);const r=n.filters.concat([t]);return new tl(n.path,n.collectionGroup,n.explicitOrderBy.slice(),r,n.limit,n.limitType,n.startAt,n.endAt)}function op(n,t,r){return new tl(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),t,r,n.startAt,n.endAt)}function td(n,t){return mg(ir(n),ir(t))&&n.limitType===t.limitType}function NT(n){return`${pg(ir(n))}|lt:${n.limitType}`}function ap(n){return`Query(target=${function(t){let r=t.path.canonicalString();return t.collectionGroup!==null&&(r+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(r+=`, filters: [${t.filters.map(i=>CT(i)).join(", ")}]`),ed(t.limit)||(r+=", limit: "+t.limit),t.orderBy.length>0&&(r+=`, orderBy: [${t.orderBy.map(i=>function(s){return`${s.field.canonicalString()} (${s.dir})`}(i)).join(", ")}]`),t.startAt&&(r+=", startAt: ",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map(i=>$s(i)).join(",")),t.endAt&&(r+=", endAt: ",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map(i=>$s(i)).join(",")),`Target(${r})`}(ir(n))}; limitType=${n.limitType})`}function nd(n,t){return t.isFoundDocument()&&function(r,i){const s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):j.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(n,t)&&function(r,i){for(const s of Es(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(n,t)&&function(r,i){for(const s of r.filters)if(!s.matches(i))return!1;return!0}(n,t)&&function(r,i){return!(r.startAt&&!function(s,o,a){const l=D0(s,o,a);return s.inclusive?l<=0:l<0}(r.startAt,Es(r),i)||r.endAt&&!function(s,o,a){const l=D0(s,o,a);return s.inclusive?l>=0:l>0}(r.endAt,Es(r),i))}(n,t)}function q$(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function bT(n){return(t,r)=>{let i=!1;for(const s of Es(n)){const o=K$(s,t,r);if(o!==0)return o;i=i||s.field.isKeyField()}return 0}}function K$(n,t,r){const i=n.field.isKeyField()?j.comparator(t.key,r.key):function(s,o,a){const l=o.data.field(s),u=a.data.field(s);return l!==null&&u!==null?Ps(l,u):K()}(n.field,t,r);switch(n.dir){case"asc":return i;case"desc":return-1*i;default:return K()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xs{constructor(t,r){this.mapKeyFn=t,this.equalsFn=r,this.inner={},this.innerSize=0}get(t){const r=this.mapKeyFn(t),i=this.inner[r];if(i!==void 0){for(const[s,o]of i)if(this.equalsFn(s,t))return o}}has(t){return this.get(t)!==void 0}set(t,r){const i=this.mapKeyFn(t),s=this.inner[i];if(s===void 0)return this.inner[i]=[[t,r]],void this.innerSize++;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],t))return void(s[o]=[t,r]);s.push([t,r]),this.innerSize++}delete(t){const r=this.mapKeyFn(t),i=this.inner[r];if(i===void 0)return!1;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],t))return i.length===1?delete this.inner[r]:i.splice(s,1),this.innerSize--,!0;return!1}forEach(t){Ys(this.inner,(r,i)=>{for(const[s,o]of i)t(s,o)})}isEmpty(){return vT(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G$=new $e(j.comparator);function sr(){return G$}const DT=new $e(j.comparator);function xo(...n){let t=DT;for(const r of n)t=t.insert(r.key,r);return t}function PT(n){let t=DT;return n.forEach((r,i)=>t=t.insert(r,i.overlayedDocument)),t}function ci(){return Go()}function $T(){return Go()}function Go(){return new Xs(n=>n.toString(),(n,t)=>n.isEqual(t))}const Q$=new $e(j.comparator),Y$=new St(j.comparator);function te(...n){let t=Y$;for(const r of n)t=t.add(r);return t}const X$=new St(ce);function J$(){return X$}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OT(n,t){if(n.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:rc(t)?"-0":t}}function MT(n){return{integerValue:""+n}}function Z$(n,t){return b$(t)?MT(t):OT(n,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rd{constructor(){this._=void 0}}function eO(n,t,r){return n instanceof sc?function(i,s){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&dg(s)&&(s=hg(s)),s&&(o.fields.__previous_value__=s),{mapValue:o}}(r,t):n instanceof Na?FT(n,t):n instanceof ba?UT(n,t):function(i,s){const o=LT(i,s),a=M0(o)+M0(i.gt);return np(o)&&np(i.gt)?MT(a):OT(i.serializer,a)}(n,t)}function tO(n,t,r){return n instanceof Na?FT(n,t):n instanceof ba?UT(n,t):r}function LT(n,t){return n instanceof oc?np(r=t)||function(i){return!!i&&"doubleValue"in i}(r)?t:{integerValue:0}:null;var r}class sc extends rd{}class Na extends rd{constructor(t){super(),this.elements=t}}function FT(n,t){const r=VT(t);for(const i of n.elements)r.some(s=>$n(s,i))||r.push(i);return{arrayValue:{values:r}}}class ba extends rd{constructor(t){super(),this.elements=t}}function UT(n,t){let r=VT(t);for(const i of n.elements)r=r.filter(s=>!$n(s,i));return{arrayValue:{values:r}}}class oc extends rd{constructor(t,r){super(),this.serializer=t,this.gt=r}}function M0(n){return ze(n.integerValue||n.doubleValue)}function VT(n){return fg(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}function nO(n,t){return n.field.isEqual(t.field)&&function(r,i){return r instanceof Na&&i instanceof Na||r instanceof ba&&i instanceof ba?Ds(r.elements,i.elements,$n):r instanceof oc&&i instanceof oc?$n(r.gt,i.gt):r instanceof sc&&i instanceof sc}(n.transform,t.transform)}class rO{constructor(t,r){this.version=t,this.transformResults=r}}class Qn{constructor(t,r){this.updateTime=t,this.exists=r}static none(){return new Qn}static exists(t){return new Qn(void 0,t)}static updateTime(t){return new Qn(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function au(n,t){return n.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(n.updateTime):n.exists===void 0||n.exists===t.isFoundDocument()}class id{}function jT(n,t){if(!n.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return n.isNoDocument()?new BT(n.key,Qn.none()):new nl(n.key,n.data,Qn.none());{const r=n.data,i=Jt.empty();let s=new St(vt.comparator);for(let o of t.fields)if(!s.has(o)){let a=r.field(o);a===null&&o.length>1&&(o=o.popLast(),a=r.field(o)),a===null?i.delete(o):i.set(o,a),s=s.add(o)}return new Fi(n.key,i,new _r(s.toArray()),Qn.none())}}function iO(n,t,r){n instanceof nl?function(i,s,o){const a=i.value.clone(),l=F0(i.fieldTransforms,s,o.transformResults);a.setAll(l),s.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(n,t,r):n instanceof Fi?function(i,s,o){if(!au(i.precondition,s))return void s.convertToUnknownDocument(o.version);const a=F0(i.fieldTransforms,s,o.transformResults),l=s.data;l.setAll(zT(i)),l.setAll(a),s.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(n,t,r):function(i,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,t,r)}function Qo(n,t,r,i){return n instanceof nl?function(s,o,a,l){if(!au(s.precondition,o))return a;const u=s.value.clone(),c=U0(s.fieldTransforms,l,o);return u.setAll(c),o.convertToFoundDocument(o.version,u).setHasLocalMutations(),null}(n,t,r,i):n instanceof Fi?function(s,o,a,l){if(!au(s.precondition,o))return a;const u=U0(s.fieldTransforms,l,o),c=o.data;return c.setAll(zT(s)),c.setAll(u),o.convertToFoundDocument(o.version,c).setHasLocalMutations(),a===null?null:a.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(d=>d.field))}(n,t,r,i):function(s,o,a){return au(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(n,t,r)}function sO(n,t){let r=null;for(const i of n.fieldTransforms){const s=t.data.field(i.field),o=LT(i.transform,s||null);o!=null&&(r===null&&(r=Jt.empty()),r.set(i.field,o))}return r||null}function L0(n,t){return n.type===t.type&&!!n.key.isEqual(t.key)&&!!n.precondition.isEqual(t.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Ds(r,i,(s,o)=>nO(s,o))}(n.fieldTransforms,t.fieldTransforms)&&(n.type===0?n.value.isEqual(t.value):n.type!==1||n.data.isEqual(t.data)&&n.fieldMask.isEqual(t.fieldMask))}class nl extends id{constructor(t,r,i,s=[]){super(),this.key=t,this.value=r,this.precondition=i,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class Fi extends id{constructor(t,r,i,s,o=[]){super(),this.key=t,this.data=r,this.fieldMask=i,this.precondition=s,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function zT(n){const t=new Map;return n.fieldMask.fields.forEach(r=>{if(!r.isEmpty()){const i=n.data.field(r);t.set(r,i)}}),t}function F0(n,t,r){const i=new Map;Ce(n.length===r.length);for(let s=0;s<r.length;s++){const o=n[s],a=o.transform,l=t.data.field(o.field);i.set(o.field,tO(a,l,r[s]))}return i}function U0(n,t,r){const i=new Map;for(const s of n){const o=s.transform,a=r.data.field(s.field);i.set(s.field,eO(o,a,t))}return i}class BT extends id{constructor(t,r){super(),this.key=t,this.precondition=r,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class oO extends id{constructor(t,r){super(),this.key=t,this.precondition=r,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aO{constructor(t,r,i,s){this.batchId=t,this.localWriteTime=r,this.baseMutations=i,this.mutations=s}applyToRemoteDocument(t,r){const i=r.mutationResults;for(let s=0;s<this.mutations.length;s++){const o=this.mutations[s];o.key.isEqual(t.key)&&iO(o,t,i[s])}}applyToLocalView(t,r){for(const i of this.baseMutations)i.key.isEqual(t.key)&&(r=Qo(i,t,r,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(t.key)&&(r=Qo(i,t,r,this.localWriteTime));return r}applyToLocalDocumentSet(t,r){const i=$T();return this.mutations.forEach(s=>{const o=t.get(s.key),a=o.overlayedDocument;let l=this.applyToLocalView(a,o.mutatedFields);l=r.has(s.key)?null:l;const u=jT(a,l);u!==null&&i.set(s.key,u),a.isValidDocument()||a.convertToNoDocument(Z.min())}),i}keys(){return this.mutations.reduce((t,r)=>t.add(r.key),te())}isEqual(t){return this.batchId===t.batchId&&Ds(this.mutations,t.mutations,(r,i)=>L0(r,i))&&Ds(this.baseMutations,t.baseMutations,(r,i)=>L0(r,i))}}class yg{constructor(t,r,i,s){this.batch=t,this.commitVersion=r,this.mutationResults=i,this.docVersions=s}static from(t,r,i){Ce(t.mutations.length===i.length);let s=Q$;const o=t.mutations;for(let a=0;a<o.length;a++)s=s.insert(o[a].key,i[a].version);return new yg(t,r,i,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lO{constructor(t,r){this.largestBatchId=t,this.mutation=r}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uO{constructor(t,r){this.count=t,this.unchangedNames=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ve,se;function cO(n){switch(n){default:return K();case k.CANCELLED:case k.UNKNOWN:case k.DEADLINE_EXCEEDED:case k.RESOURCE_EXHAUSTED:case k.INTERNAL:case k.UNAVAILABLE:case k.UNAUTHENTICATED:return!1;case k.INVALID_ARGUMENT:case k.NOT_FOUND:case k.ALREADY_EXISTS:case k.PERMISSION_DENIED:case k.FAILED_PRECONDITION:case k.ABORTED:case k.OUT_OF_RANGE:case k.UNIMPLEMENTED:case k.DATA_LOSS:return!0}}function HT(n){if(n===void 0)return rr("GRPC error has no .code"),k.UNKNOWN;switch(n){case Ve.OK:return k.OK;case Ve.CANCELLED:return k.CANCELLED;case Ve.UNKNOWN:return k.UNKNOWN;case Ve.DEADLINE_EXCEEDED:return k.DEADLINE_EXCEEDED;case Ve.RESOURCE_EXHAUSTED:return k.RESOURCE_EXHAUSTED;case Ve.INTERNAL:return k.INTERNAL;case Ve.UNAVAILABLE:return k.UNAVAILABLE;case Ve.UNAUTHENTICATED:return k.UNAUTHENTICATED;case Ve.INVALID_ARGUMENT:return k.INVALID_ARGUMENT;case Ve.NOT_FOUND:return k.NOT_FOUND;case Ve.ALREADY_EXISTS:return k.ALREADY_EXISTS;case Ve.PERMISSION_DENIED:return k.PERMISSION_DENIED;case Ve.FAILED_PRECONDITION:return k.FAILED_PRECONDITION;case Ve.ABORTED:return k.ABORTED;case Ve.OUT_OF_RANGE:return k.OUT_OF_RANGE;case Ve.UNIMPLEMENTED:return k.UNIMPLEMENTED;case Ve.DATA_LOSS:return k.DATA_LOSS;default:return K()}}(se=Ve||(Ve={}))[se.OK=0]="OK",se[se.CANCELLED=1]="CANCELLED",se[se.UNKNOWN=2]="UNKNOWN",se[se.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",se[se.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",se[se.NOT_FOUND=5]="NOT_FOUND",se[se.ALREADY_EXISTS=6]="ALREADY_EXISTS",se[se.PERMISSION_DENIED=7]="PERMISSION_DENIED",se[se.UNAUTHENTICATED=16]="UNAUTHENTICATED",se[se.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",se[se.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",se[se.ABORTED=10]="ABORTED",se[se.OUT_OF_RANGE=11]="OUT_OF_RANGE",se[se.UNIMPLEMENTED=12]="UNIMPLEMENTED",se[se.INTERNAL=13]="INTERNAL",se[se.UNAVAILABLE=14]="UNAVAILABLE",se[se.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vg{constructor(){this.onExistenceFilterMismatchCallbacks=new Map}static get instance(){return Ll}static getOrCreateInstance(){return Ll===null&&(Ll=new vg),Ll}onExistenceFilterMismatch(t){const r=Symbol();return this.onExistenceFilterMismatchCallbacks.set(r,t),()=>this.onExistenceFilterMismatchCallbacks.delete(r)}notifyOnExistenceFilterMismatch(t){this.onExistenceFilterMismatchCallbacks.forEach(r=>r(t))}}let Ll=null;/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dO(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hO=new ws([4294967295,4294967295],0);function V0(n){const t=dO().encode(n),r=new g$;return r.update(t),new Uint8Array(r.digest())}function j0(n){const t=new DataView(n.buffer),r=t.getUint32(0,!0),i=t.getUint32(4,!0),s=t.getUint32(8,!0),o=t.getUint32(12,!0);return[new ws([r,i],0),new ws([s,o],0)]}class wg{constructor(t,r,i){if(this.bitmap=t,this.padding=r,this.hashCount=i,r<0||r>=8)throw new No(`Invalid padding: ${r}`);if(i<0)throw new No(`Invalid hash count: ${i}`);if(t.length>0&&this.hashCount===0)throw new No(`Invalid hash count: ${i}`);if(t.length===0&&r!==0)throw new No(`Invalid padding when bitmap length is 0: ${r}`);this.It=8*t.length-r,this.Tt=ws.fromNumber(this.It)}Et(t,r,i){let s=t.add(r.multiply(ws.fromNumber(i)));return s.compare(hO)===1&&(s=new ws([s.getBits(0),s.getBits(1)],0)),s.modulo(this.Tt).toNumber()}At(t){return(this.bitmap[Math.floor(t/8)]&1<<t%8)!=0}vt(t){if(this.It===0)return!1;const r=V0(t),[i,s]=j0(r);for(let o=0;o<this.hashCount;o++){const a=this.Et(i,s,o);if(!this.At(a))return!1}return!0}static create(t,r,i){const s=t%8==0?0:8-t%8,o=new Uint8Array(Math.ceil(t/8)),a=new wg(o,s,r);return i.forEach(l=>a.insert(l)),a}insert(t){if(this.It===0)return;const r=V0(t),[i,s]=j0(r);for(let o=0;o<this.hashCount;o++){const a=this.Et(i,s,o);this.Rt(a)}}Rt(t){const r=Math.floor(t/8),i=t%8;this.bitmap[r]|=1<<i}}class No extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sd{constructor(t,r,i,s,o){this.snapshotVersion=t,this.targetChanges=r,this.targetMismatches=i,this.documentUpdates=s,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(t,r,i){const s=new Map;return s.set(t,rl.createSynthesizedTargetChangeForCurrentChange(t,r,i)),new sd(Z.min(),s,new $e(ce),sr(),te())}}class rl{constructor(t,r,i,s,o){this.resumeToken=t,this.current=r,this.addedDocuments=i,this.modifiedDocuments=s,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(t,r,i){return new rl(i,r,te(),te(),te())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lu{constructor(t,r,i,s){this.Pt=t,this.removedTargetIds=r,this.key=i,this.bt=s}}class WT{constructor(t,r){this.targetId=t,this.Vt=r}}class qT{constructor(t,r,i=Wt.EMPTY_BYTE_STRING,s=null){this.state=t,this.targetIds=r,this.resumeToken=i,this.cause=s}}class z0{constructor(){this.St=0,this.Dt=H0(),this.Ct=Wt.EMPTY_BYTE_STRING,this.xt=!1,this.Nt=!0}get current(){return this.xt}get resumeToken(){return this.Ct}get kt(){return this.St!==0}get Mt(){return this.Nt}$t(t){t.approximateByteSize()>0&&(this.Nt=!0,this.Ct=t)}Ot(){let t=te(),r=te(),i=te();return this.Dt.forEach((s,o)=>{switch(o){case 0:t=t.add(s);break;case 2:r=r.add(s);break;case 1:i=i.add(s);break;default:K()}}),new rl(this.Ct,this.xt,t,r,i)}Ft(){this.Nt=!1,this.Dt=H0()}Bt(t,r){this.Nt=!0,this.Dt=this.Dt.insert(t,r)}Lt(t){this.Nt=!0,this.Dt=this.Dt.remove(t)}qt(){this.St+=1}Ut(){this.St-=1}Kt(){this.Nt=!0,this.xt=!0}}class fO{constructor(t){this.Gt=t,this.Qt=new Map,this.jt=sr(),this.zt=B0(),this.Wt=new $e(ce)}Ht(t){for(const r of t.Pt)t.bt&&t.bt.isFoundDocument()?this.Jt(r,t.bt):this.Yt(r,t.key,t.bt);for(const r of t.removedTargetIds)this.Yt(r,t.key,t.bt)}Xt(t){this.forEachTarget(t,r=>{const i=this.Zt(r);switch(t.state){case 0:this.te(r)&&i.$t(t.resumeToken);break;case 1:i.Ut(),i.kt||i.Ft(),i.$t(t.resumeToken);break;case 2:i.Ut(),i.kt||this.removeTarget(r);break;case 3:this.te(r)&&(i.Kt(),i.$t(t.resumeToken));break;case 4:this.te(r)&&(this.ee(r),i.$t(t.resumeToken));break;default:K()}})}forEachTarget(t,r){t.targetIds.length>0?t.targetIds.forEach(r):this.Qt.forEach((i,s)=>{this.te(s)&&r(s)})}ne(t){var r;const i=t.targetId,s=t.Vt.count,o=this.se(i);if(o){const a=o.target;if(ip(a))if(s===0){const l=new j(a.path);this.Yt(i,l,yt.newNoDocument(l,Z.min()))}else Ce(s===1);else{const l=this.ie(i);if(l!==s){const u=this.re(t,l);if(u!==0){this.ee(i);const c=u===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Wt=this.Wt.insert(i,c)}(r=vg.instance)===null||r===void 0||r.notifyOnExistenceFilterMismatch(function(c,d,h){var f,m,E,S,I,y;const p={localCacheCount:d,existenceFilterCount:h.count},v=h.unchangedNames;return v&&(p.bloomFilter={applied:c===0,hashCount:(f=v==null?void 0:v.hashCount)!==null&&f!==void 0?f:0,bitmapLength:(S=(E=(m=v==null?void 0:v.bits)===null||m===void 0?void 0:m.bitmap)===null||E===void 0?void 0:E.length)!==null&&S!==void 0?S:0,padding:(y=(I=v==null?void 0:v.bits)===null||I===void 0?void 0:I.padding)!==null&&y!==void 0?y:0}),p}(u,l,t.Vt))}}}}re(t,r){const{unchangedNames:i,count:s}=t.Vt;if(!i||!i.bits)return 1;const{bits:{bitmap:o="",padding:a=0},hashCount:l=0}=i;let u,c;try{u=Ni(o).toUint8Array()}catch(d){if(d instanceof wT)return bs("Decoding the base64 bloom filter in existence filter failed ("+d.message+"); ignoring the bloom filter and falling back to full re-query."),1;throw d}try{c=new wg(u,a,l)}catch(d){return bs(d instanceof No?"BloomFilter error: ":"Applying bloom filter failed: ",d),1}return c.It===0?1:s!==r-this.oe(t.targetId,c)?2:0}oe(t,r){const i=this.Gt.getRemoteKeysForTarget(t);let s=0;return i.forEach(o=>{const a=this.Gt.ue(),l=`projects/${a.projectId}/databases/${a.database}/documents/${o.path.canonicalString()}`;r.vt(l)||(this.Yt(t,o,null),s++)}),s}ce(t){const r=new Map;this.Qt.forEach((o,a)=>{const l=this.se(a);if(l){if(o.current&&ip(l.target)){const u=new j(l.target.path);this.jt.get(u)!==null||this.ae(a,u)||this.Yt(a,u,yt.newNoDocument(u,t))}o.Mt&&(r.set(a,o.Ot()),o.Ft())}});let i=te();this.zt.forEach((o,a)=>{let l=!0;a.forEachWhile(u=>{const c=this.se(u);return!c||c.purpose==="TargetPurposeLimboResolution"||(l=!1,!1)}),l&&(i=i.add(o))}),this.jt.forEach((o,a)=>a.setReadTime(t));const s=new sd(t,r,this.Wt,this.jt,i);return this.jt=sr(),this.zt=B0(),this.Wt=new $e(ce),s}Jt(t,r){if(!this.te(t))return;const i=this.ae(t,r.key)?2:0;this.Zt(t).Bt(r.key,i),this.jt=this.jt.insert(r.key,r),this.zt=this.zt.insert(r.key,this.he(r.key).add(t))}Yt(t,r,i){if(!this.te(t))return;const s=this.Zt(t);this.ae(t,r)?s.Bt(r,1):s.Lt(r),this.zt=this.zt.insert(r,this.he(r).delete(t)),i&&(this.jt=this.jt.insert(r,i))}removeTarget(t){this.Qt.delete(t)}ie(t){const r=this.Zt(t).Ot();return this.Gt.getRemoteKeysForTarget(t).size+r.addedDocuments.size-r.removedDocuments.size}qt(t){this.Zt(t).qt()}Zt(t){let r=this.Qt.get(t);return r||(r=new z0,this.Qt.set(t,r)),r}he(t){let r=this.zt.get(t);return r||(r=new St(ce),this.zt=this.zt.insert(t,r)),r}te(t){const r=this.se(t)!==null;return r||F("WatchChangeAggregator","Detected inactive target",t),r}se(t){const r=this.Qt.get(t);return r&&r.kt?null:this.Gt.le(t)}ee(t){this.Qt.set(t,new z0),this.Gt.getRemoteKeysForTarget(t).forEach(r=>{this.Yt(t,r,null)})}ae(t,r){return this.Gt.getRemoteKeysForTarget(t).has(r)}}function B0(){return new $e(j.comparator)}function H0(){return new $e(j.comparator)}const pO=(()=>({asc:"ASCENDING",desc:"DESCENDING"}))(),mO=(()=>({"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"}))(),gO=(()=>({and:"AND",or:"OR"}))();class yO{constructor(t,r){this.databaseId=t,this.useProto3Json=r}}function lp(n,t){return n.useProto3Json||ed(t)?t:{value:t}}function ac(n,t){return n.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function KT(n,t){return n.useProto3Json?t.toBase64():t.toUint8Array()}function vO(n,t){return ac(n,t.toTimestamp())}function Dn(n){return Ce(!!n),Z.fromTimestamp(function(t){const r=Br(t);return new We(r.seconds,r.nanos)}(n))}function Eg(n,t){return function(r){return new Te(["projects",r.projectId,"databases",r.database])}(n).child("documents").child(t).canonicalString()}function GT(n){const t=Te.fromString(n);return Ce(JT(t)),t}function up(n,t){return Eg(n.databaseId,t.path)}function Ih(n,t){const r=GT(t);if(r.get(1)!==n.databaseId.projectId)throw new L(k.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+r.get(1)+" vs "+n.databaseId.projectId);if(r.get(3)!==n.databaseId.database)throw new L(k.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+r.get(3)+" vs "+n.databaseId.database);return new j(QT(r))}function cp(n,t){return Eg(n.databaseId,t)}function wO(n){const t=GT(n);return t.length===4?Te.emptyPath():QT(t)}function dp(n){return new Te(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function QT(n){return Ce(n.length>4&&n.get(4)==="documents"),n.popFirst(5)}function W0(n,t,r){return{name:up(n,t),fields:r.value.mapValue.fields}}function EO(n,t){let r;if("targetChange"in t){t.targetChange;const i=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:K()}(t.targetChange.targetChangeType||"NO_CHANGE"),s=t.targetChange.targetIds||[],o=function(u,c){return u.useProto3Json?(Ce(c===void 0||typeof c=="string"),Wt.fromBase64String(c||"")):(Ce(c===void 0||c instanceof Uint8Array),Wt.fromUint8Array(c||new Uint8Array))}(n,t.targetChange.resumeToken),a=t.targetChange.cause,l=a&&function(u){const c=u.code===void 0?k.UNKNOWN:HT(u.code);return new L(c,u.message||"")}(a);r=new qT(i,s,o,l||null)}else if("documentChange"in t){t.documentChange;const i=t.documentChange;i.document,i.document.name,i.document.updateTime;const s=Ih(n,i.document.name),o=Dn(i.document.updateTime),a=i.document.createTime?Dn(i.document.createTime):Z.min(),l=new Jt({mapValue:{fields:i.document.fields}}),u=yt.newFoundDocument(s,o,a,l),c=i.targetIds||[],d=i.removedTargetIds||[];r=new lu(c,d,u.key,u)}else if("documentDelete"in t){t.documentDelete;const i=t.documentDelete;i.document;const s=Ih(n,i.document),o=i.readTime?Dn(i.readTime):Z.min(),a=yt.newNoDocument(s,o),l=i.removedTargetIds||[];r=new lu([],l,a.key,a)}else if("documentRemove"in t){t.documentRemove;const i=t.documentRemove;i.document;const s=Ih(n,i.document),o=i.removedTargetIds||[];r=new lu([],o,s,null)}else{if(!("filter"in t))return K();{t.filter;const i=t.filter;i.targetId;const{count:s=0,unchangedNames:o}=i,a=new uO(s,o),l=i.targetId;r=new WT(l,a)}}return r}function SO(n,t){let r;if(t instanceof nl)r={update:W0(n,t.key,t.value)};else if(t instanceof BT)r={delete:up(n,t.key)};else if(t instanceof Fi)r={update:W0(n,t.key,t.data),updateMask:NO(t.fieldMask)};else{if(!(t instanceof oO))return K();r={verify:up(n,t.key)}}return t.fieldTransforms.length>0&&(r.updateTransforms=t.fieldTransforms.map(i=>function(s,o){const a=o.transform;if(a instanceof sc)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Na)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof ba)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof oc)return{fieldPath:o.field.canonicalString(),increment:a.gt};throw K()}(0,i))),t.precondition.isNone||(r.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:vO(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:K()}(n,t.precondition)),r}function IO(n,t){return n&&n.length>0?(Ce(t!==void 0),n.map(r=>function(i,s){let o=i.updateTime?Dn(i.updateTime):Dn(s);return o.isEqual(Z.min())&&(o=Dn(s)),new rO(o,i.transformResults||[])}(r,t))):[]}function TO(n,t){return{documents:[cp(n,t.path)]}}function _O(n,t){const r={structuredQuery:{}},i=t.path;t.collectionGroup!==null?(r.parent=cp(n,i),r.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(r.parent=cp(n,i.popLast()),r.structuredQuery.from=[{collectionId:i.lastSegment()}]);const s=function(u){if(u.length!==0)return XT(En.create(u,"and"))}(t.filters);s&&(r.structuredQuery.where=s);const o=function(u){if(u.length!==0)return u.map(c=>function(d){return{field:Wi(d.field),direction:AO(d.dir)}}(c))}(t.orderBy);o&&(r.structuredQuery.orderBy=o);const a=lp(n,t.limit);var l;return a!==null&&(r.structuredQuery.limit=a),t.startAt&&(r.structuredQuery.startAt={before:(l=t.startAt).inclusive,values:l.position}),t.endAt&&(r.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(t.endAt)),r}function CO(n){let t=wO(n.parent);const r=n.structuredQuery,i=r.from?r.from.length:0;let s=null;if(i>0){Ce(i===1);const d=r.from[0];d.allDescendants?s=d.collectionId:t=t.child(d.collectionId)}let o=[];r.where&&(o=function(d){const h=YT(d);return h instanceof En&&TT(h)?h.getFilters():[h]}(r.where));let a=[];r.orderBy&&(a=r.orderBy.map(d=>function(h){return new Ko(qi(h.field),function(f){switch(f){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(h.direction))}(d)));let l=null;r.limit&&(l=function(d){let h;return h=typeof d=="object"?d.value:d,ed(h)?null:h}(r.limit));let u=null;r.startAt&&(u=function(d){const h=!!d.before,f=d.values||[];return new ic(f,h)}(r.startAt));let c=null;return r.endAt&&(c=function(d){const h=!d.before,f=d.values||[];return new ic(f,h)}(r.endAt)),W$(t,s,a,o,l,"F",u,c)}function kO(n,t){const r=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return K()}}(t.purpose);return r==null?null:{"goog-listen-tags":r}}function YT(n){return n.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":const r=qi(t.unaryFilter.field);return He.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=qi(t.unaryFilter.field);return He.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=qi(t.unaryFilter.field);return He.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=qi(t.unaryFilter.field);return He.create(o,"!=",{nullValue:"NULL_VALUE"});default:return K()}}(n):n.fieldFilter!==void 0?function(t){return He.create(qi(t.fieldFilter.field),function(r){switch(r){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return K()}}(t.fieldFilter.op),t.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(t){return En.create(t.compositeFilter.filters.map(r=>YT(r)),function(r){switch(r){case"AND":return"and";case"OR":return"or";default:return K()}}(t.compositeFilter.op))}(n):K()}function AO(n){return pO[n]}function RO(n){return mO[n]}function xO(n){return gO[n]}function Wi(n){return{fieldPath:n.canonicalString()}}function qi(n){return vt.fromServerFormat(n.fieldPath)}function XT(n){return n instanceof He?function(t){if(t.op==="=="){if(b0(t.value))return{unaryFilter:{field:Wi(t.field),op:"IS_NAN"}};if(N0(t.value))return{unaryFilter:{field:Wi(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(b0(t.value))return{unaryFilter:{field:Wi(t.field),op:"IS_NOT_NAN"}};if(N0(t.value))return{unaryFilter:{field:Wi(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Wi(t.field),op:RO(t.op),value:t.value}}}(n):n instanceof En?function(t){const r=t.getFilters().map(i=>XT(i));return r.length===1?r[0]:{compositeFilter:{op:xO(t.op),filters:r}}}(n):K()}function NO(n){const t=[];return n.fields.forEach(r=>t.push(r.canonicalString())),{fieldPaths:t}}function JT(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cr{constructor(t,r,i,s,o=Z.min(),a=Z.min(),l=Wt.EMPTY_BYTE_STRING,u=null){this.target=t,this.targetId=r,this.purpose=i,this.sequenceNumber=s,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=a,this.resumeToken=l,this.expectedCount=u}withSequenceNumber(t){return new Cr(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,r){return new Cr(this.target,this.targetId,this.purpose,this.sequenceNumber,r,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new Cr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new Cr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bO{constructor(t){this.fe=t}}function DO(n){const t=CO({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?op(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PO{constructor(){this.rn=new $O}addToCollectionParentIndex(t,r){return this.rn.add(r),N.resolve()}getCollectionParents(t,r){return N.resolve(this.rn.getEntries(r))}addFieldIndex(t,r){return N.resolve()}deleteFieldIndex(t,r){return N.resolve()}getDocumentsMatchingTarget(t,r){return N.resolve(null)}getIndexType(t,r){return N.resolve(0)}getFieldIndexes(t,r){return N.resolve([])}getNextCollectionGroupToUpdate(t){return N.resolve(null)}getMinOffset(t,r){return N.resolve(zr.min())}getMinOffsetFromCollectionGroup(t,r){return N.resolve(zr.min())}updateCollectionGroup(t,r,i){return N.resolve()}updateIndexEntries(t,r){return N.resolve()}}class $O{constructor(){this.index={}}add(t){const r=t.lastSegment(),i=t.popLast(),s=this.index[r]||new St(Te.comparator),o=!s.has(i);return this.index[r]=s.add(i),o}has(t){const r=t.lastSegment(),i=t.popLast(),s=this.index[r];return s&&s.has(i)}getEntries(t){return(this.index[t]||new St(Te.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Os{constructor(t){this.Nn=t}next(){return this.Nn+=2,this.Nn}static kn(){return new Os(0)}static Mn(){return new Os(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OO{constructor(){this.changes=new Xs(t=>t.toString(),(t,r)=>t.isEqual(r)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,r){this.assertNotApplied(),this.changes.set(t,yt.newInvalidDocument(t).setReadTime(r))}getEntry(t,r){this.assertNotApplied();const i=this.changes.get(r);return i!==void 0?N.resolve(i):this.getFromCache(t,r)}getEntries(t,r){return this.getAllFromCache(t,r)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MO{constructor(t,r){this.overlayedDocument=t,this.mutatedFields=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LO{constructor(t,r,i,s){this.remoteDocumentCache=t,this.mutationQueue=r,this.documentOverlayCache=i,this.indexManager=s}getDocument(t,r){let i=null;return this.documentOverlayCache.getOverlay(t,r).next(s=>(i=s,this.remoteDocumentCache.getEntry(t,r))).next(s=>(i!==null&&Qo(i.mutation,s,_r.empty(),We.now()),s))}getDocuments(t,r){return this.remoteDocumentCache.getEntries(t,r).next(i=>this.getLocalViewOfDocuments(t,i,te()).next(()=>i))}getLocalViewOfDocuments(t,r,i=te()){const s=ci();return this.populateOverlays(t,s,r).next(()=>this.computeViews(t,r,s,i).next(o=>{let a=xo();return o.forEach((l,u)=>{a=a.insert(l,u.overlayedDocument)}),a}))}getOverlayedDocuments(t,r){const i=ci();return this.populateOverlays(t,i,r).next(()=>this.computeViews(t,r,i,te()))}populateOverlays(t,r,i){const s=[];return i.forEach(o=>{r.has(o)||s.push(o)}),this.documentOverlayCache.getOverlays(t,s).next(o=>{o.forEach((a,l)=>{r.set(a,l)})})}computeViews(t,r,i,s){let o=sr();const a=Go(),l=Go();return r.forEach((u,c)=>{const d=i.get(c.key);s.has(c.key)&&(d===void 0||d.mutation instanceof Fi)?o=o.insert(c.key,c):d!==void 0?(a.set(c.key,d.mutation.getFieldMask()),Qo(d.mutation,c,d.mutation.getFieldMask(),We.now())):a.set(c.key,_r.empty())}),this.recalculateAndSaveOverlays(t,o).next(u=>(u.forEach((c,d)=>a.set(c,d)),r.forEach((c,d)=>{var h;return l.set(c,new MO(d,(h=a.get(c))!==null&&h!==void 0?h:null))}),l))}recalculateAndSaveOverlays(t,r){const i=Go();let s=new $e((a,l)=>a-l),o=te();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,r).next(a=>{for(const l of a)l.keys().forEach(u=>{const c=r.get(u);if(c===null)return;let d=i.get(u)||_r.empty();d=l.applyToLocalView(c,d),i.set(u,d);const h=(s.get(l.batchId)||te()).add(u);s=s.insert(l.batchId,h)})}).next(()=>{const a=[],l=s.getReverseIterator();for(;l.hasNext();){const u=l.getNext(),c=u.key,d=u.value,h=$T();d.forEach(f=>{if(!o.has(f)){const m=jT(r.get(f),i.get(f));m!==null&&h.set(f,m),o=o.add(f)}}),a.push(this.documentOverlayCache.saveOverlays(t,c,h))}return N.waitFor(a)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(t,r){return this.remoteDocumentCache.getEntries(t,r).next(i=>this.recalculateAndSaveOverlays(t,i))}getDocumentsMatchingQuery(t,r,i){return function(s){return j.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}(r)?this.getDocumentsMatchingDocumentQuery(t,r.path):xT(r)?this.getDocumentsMatchingCollectionGroupQuery(t,r,i):this.getDocumentsMatchingCollectionQuery(t,r,i)}getNextDocuments(t,r,i,s){return this.remoteDocumentCache.getAllFromCollectionGroup(t,r,i,s).next(o=>{const a=s-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,r,i.largestBatchId,s-o.size):N.resolve(ci());let l=-1,u=o;return a.next(c=>N.forEach(c,(d,h)=>(l<h.largestBatchId&&(l=h.largestBatchId),o.get(d)?N.resolve():this.remoteDocumentCache.getEntry(t,d).next(f=>{u=u.insert(d,f)}))).next(()=>this.populateOverlays(t,c,o)).next(()=>this.computeViews(t,u,c,te())).next(d=>({batchId:l,changes:PT(d)})))})}getDocumentsMatchingDocumentQuery(t,r){return this.getDocument(t,new j(r)).next(i=>{let s=xo();return i.isFoundDocument()&&(s=s.insert(i.key,i)),s})}getDocumentsMatchingCollectionGroupQuery(t,r,i){const s=r.collectionGroup;let o=xo();return this.indexManager.getCollectionParents(t,s).next(a=>N.forEach(a,l=>{const u=function(c,d){return new tl(d,null,c.explicitOrderBy.slice(),c.filters.slice(),c.limit,c.limitType,c.startAt,c.endAt)}(r,l.child(s));return this.getDocumentsMatchingCollectionQuery(t,u,i).next(c=>{c.forEach((d,h)=>{o=o.insert(d,h)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(t,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(t,r.path,i.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(t,r,i,s))).next(o=>{s.forEach((l,u)=>{const c=u.getKey();o.get(c)===null&&(o=o.insert(c,yt.newInvalidDocument(c)))});let a=xo();return o.forEach((l,u)=>{const c=s.get(l);c!==void 0&&Qo(c.mutation,u,_r.empty(),We.now()),nd(r,u)&&(a=a.insert(l,u))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FO{constructor(t){this.serializer=t,this.cs=new Map,this.hs=new Map}getBundleMetadata(t,r){return N.resolve(this.cs.get(r))}saveBundleMetadata(t,r){var i;return this.cs.set(r.id,{id:(i=r).id,version:i.version,createTime:Dn(i.createTime)}),N.resolve()}getNamedQuery(t,r){return N.resolve(this.hs.get(r))}saveNamedQuery(t,r){return this.hs.set(r.name,function(i){return{name:i.name,query:DO(i.bundledQuery),readTime:Dn(i.readTime)}}(r)),N.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UO{constructor(){this.overlays=new $e(j.comparator),this.ls=new Map}getOverlay(t,r){return N.resolve(this.overlays.get(r))}getOverlays(t,r){const i=ci();return N.forEach(r,s=>this.getOverlay(t,s).next(o=>{o!==null&&i.set(s,o)})).next(()=>i)}saveOverlays(t,r,i){return i.forEach((s,o)=>{this.we(t,r,o)}),N.resolve()}removeOverlaysForBatchId(t,r,i){const s=this.ls.get(i);return s!==void 0&&(s.forEach(o=>this.overlays=this.overlays.remove(o)),this.ls.delete(i)),N.resolve()}getOverlaysForCollection(t,r,i){const s=ci(),o=r.length+1,a=new j(r.child("")),l=this.overlays.getIteratorFrom(a);for(;l.hasNext();){const u=l.getNext().value,c=u.getKey();if(!r.isPrefixOf(c.path))break;c.path.length===o&&u.largestBatchId>i&&s.set(u.getKey(),u)}return N.resolve(s)}getOverlaysForCollectionGroup(t,r,i,s){let o=new $e((c,d)=>c-d);const a=this.overlays.getIterator();for(;a.hasNext();){const c=a.getNext().value;if(c.getKey().getCollectionGroup()===r&&c.largestBatchId>i){let d=o.get(c.largestBatchId);d===null&&(d=ci(),o=o.insert(c.largestBatchId,d)),d.set(c.getKey(),c)}}const l=ci(),u=o.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((c,d)=>l.set(c,d)),!(l.size()>=s)););return N.resolve(l)}we(t,r,i){const s=this.overlays.get(i.key);if(s!==null){const a=this.ls.get(s.largestBatchId).delete(i.key);this.ls.set(s.largestBatchId,a)}this.overlays=this.overlays.insert(i.key,new lO(r,i));let o=this.ls.get(r);o===void 0&&(o=te(),this.ls.set(r,o)),this.ls.set(r,o.add(i.key))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sg{constructor(){this.fs=new St(Ye.ds),this.ws=new St(Ye._s)}isEmpty(){return this.fs.isEmpty()}addReference(t,r){const i=new Ye(t,r);this.fs=this.fs.add(i),this.ws=this.ws.add(i)}gs(t,r){t.forEach(i=>this.addReference(i,r))}removeReference(t,r){this.ys(new Ye(t,r))}ps(t,r){t.forEach(i=>this.removeReference(i,r))}Is(t){const r=new j(new Te([])),i=new Ye(r,t),s=new Ye(r,t+1),o=[];return this.ws.forEachInRange([i,s],a=>{this.ys(a),o.push(a.key)}),o}Ts(){this.fs.forEach(t=>this.ys(t))}ys(t){this.fs=this.fs.delete(t),this.ws=this.ws.delete(t)}Es(t){const r=new j(new Te([])),i=new Ye(r,t),s=new Ye(r,t+1);let o=te();return this.ws.forEachInRange([i,s],a=>{o=o.add(a.key)}),o}containsKey(t){const r=new Ye(t,0),i=this.fs.firstAfterOrEqual(r);return i!==null&&t.isEqual(i.key)}}class Ye{constructor(t,r){this.key=t,this.As=r}static ds(t,r){return j.comparator(t.key,r.key)||ce(t.As,r.As)}static _s(t,r){return ce(t.As,r.As)||j.comparator(t.key,r.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VO{constructor(t,r){this.indexManager=t,this.referenceDelegate=r,this.mutationQueue=[],this.vs=1,this.Rs=new St(Ye.ds)}checkEmpty(t){return N.resolve(this.mutationQueue.length===0)}addMutationBatch(t,r,i,s){const o=this.vs;this.vs++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const a=new aO(o,r,i,s);this.mutationQueue.push(a);for(const l of s)this.Rs=this.Rs.add(new Ye(l.key,o)),this.indexManager.addToCollectionParentIndex(t,l.key.path.popLast());return N.resolve(a)}lookupMutationBatch(t,r){return N.resolve(this.Ps(r))}getNextMutationBatchAfterBatchId(t,r){const i=r+1,s=this.bs(i),o=s<0?0:s;return N.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return N.resolve(this.mutationQueue.length===0?-1:this.vs-1)}getAllMutationBatches(t){return N.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,r){const i=new Ye(r,0),s=new Ye(r,Number.POSITIVE_INFINITY),o=[];return this.Rs.forEachInRange([i,s],a=>{const l=this.Ps(a.As);o.push(l)}),N.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(t,r){let i=new St(ce);return r.forEach(s=>{const o=new Ye(s,0),a=new Ye(s,Number.POSITIVE_INFINITY);this.Rs.forEachInRange([o,a],l=>{i=i.add(l.As)})}),N.resolve(this.Vs(i))}getAllMutationBatchesAffectingQuery(t,r){const i=r.path,s=i.length+1;let o=i;j.isDocumentKey(o)||(o=o.child(""));const a=new Ye(new j(o),0);let l=new St(ce);return this.Rs.forEachWhile(u=>{const c=u.key.path;return!!i.isPrefixOf(c)&&(c.length===s&&(l=l.add(u.As)),!0)},a),N.resolve(this.Vs(l))}Vs(t){const r=[];return t.forEach(i=>{const s=this.Ps(i);s!==null&&r.push(s)}),r}removeMutationBatch(t,r){Ce(this.Ss(r.batchId,"removed")===0),this.mutationQueue.shift();let i=this.Rs;return N.forEach(r.mutations,s=>{const o=new Ye(s.key,r.batchId);return i=i.delete(o),this.referenceDelegate.markPotentiallyOrphaned(t,s.key)}).next(()=>{this.Rs=i})}Cn(t){}containsKey(t,r){const i=new Ye(r,0),s=this.Rs.firstAfterOrEqual(i);return N.resolve(r.isEqual(s&&s.key))}performConsistencyCheck(t){return this.mutationQueue.length,N.resolve()}Ss(t,r){return this.bs(t)}bs(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Ps(t){const r=this.bs(t);return r<0||r>=this.mutationQueue.length?null:this.mutationQueue[r]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jO{constructor(t){this.Ds=t,this.docs=new $e(j.comparator),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,r){const i=r.key,s=this.docs.get(i),o=s?s.size:0,a=this.Ds(r);return this.docs=this.docs.insert(i,{document:r.mutableCopy(),size:a}),this.size+=a-o,this.indexManager.addToCollectionParentIndex(t,i.path.popLast())}removeEntry(t){const r=this.docs.get(t);r&&(this.docs=this.docs.remove(t),this.size-=r.size)}getEntry(t,r){const i=this.docs.get(r);return N.resolve(i?i.document.mutableCopy():yt.newInvalidDocument(r))}getEntries(t,r){let i=sr();return r.forEach(s=>{const o=this.docs.get(s);i=i.insert(s,o?o.document.mutableCopy():yt.newInvalidDocument(s))}),N.resolve(i)}getDocumentsMatchingQuery(t,r,i,s){let o=sr();const a=r.path,l=new j(a.child("")),u=this.docs.getIteratorFrom(l);for(;u.hasNext();){const{key:c,value:{document:d}}=u.getNext();if(!a.isPrefixOf(c.path))break;c.path.length>a.length+1||R$(A$(d),i)<=0||(s.has(d.key)||nd(r,d))&&(o=o.insert(d.key,d.mutableCopy()))}return N.resolve(o)}getAllFromCollectionGroup(t,r,i,s){K()}Cs(t,r){return N.forEach(this.docs,i=>r(i))}newChangeBuffer(t){return new zO(this)}getSize(t){return N.resolve(this.size)}}class zO extends OO{constructor(t){super(),this.os=t}applyChanges(t){const r=[];return this.changes.forEach((i,s)=>{s.isValidDocument()?r.push(this.os.addEntry(t,s)):this.os.removeEntry(i)}),N.waitFor(r)}getFromCache(t,r){return this.os.getEntry(t,r)}getAllFromCache(t,r){return this.os.getEntries(t,r)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BO{constructor(t){this.persistence=t,this.xs=new Xs(r=>pg(r),mg),this.lastRemoteSnapshotVersion=Z.min(),this.highestTargetId=0,this.Ns=0,this.ks=new Sg,this.targetCount=0,this.Ms=Os.kn()}forEachTarget(t,r){return this.xs.forEach((i,s)=>r(s)),N.resolve()}getLastRemoteSnapshotVersion(t){return N.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return N.resolve(this.Ns)}allocateTargetId(t){return this.highestTargetId=this.Ms.next(),N.resolve(this.highestTargetId)}setTargetsMetadata(t,r,i){return i&&(this.lastRemoteSnapshotVersion=i),r>this.Ns&&(this.Ns=r),N.resolve()}Fn(t){this.xs.set(t.target,t);const r=t.targetId;r>this.highestTargetId&&(this.Ms=new Os(r),this.highestTargetId=r),t.sequenceNumber>this.Ns&&(this.Ns=t.sequenceNumber)}addTargetData(t,r){return this.Fn(r),this.targetCount+=1,N.resolve()}updateTargetData(t,r){return this.Fn(r),N.resolve()}removeTargetData(t,r){return this.xs.delete(r.target),this.ks.Is(r.targetId),this.targetCount-=1,N.resolve()}removeTargets(t,r,i){let s=0;const o=[];return this.xs.forEach((a,l)=>{l.sequenceNumber<=r&&i.get(l.targetId)===null&&(this.xs.delete(a),o.push(this.removeMatchingKeysForTargetId(t,l.targetId)),s++)}),N.waitFor(o).next(()=>s)}getTargetCount(t){return N.resolve(this.targetCount)}getTargetData(t,r){const i=this.xs.get(r)||null;return N.resolve(i)}addMatchingKeys(t,r,i){return this.ks.gs(r,i),N.resolve()}removeMatchingKeys(t,r,i){this.ks.ps(r,i);const s=this.persistence.referenceDelegate,o=[];return s&&r.forEach(a=>{o.push(s.markPotentiallyOrphaned(t,a))}),N.waitFor(o)}removeMatchingKeysForTargetId(t,r){return this.ks.Is(r),N.resolve()}getMatchingKeysForTargetId(t,r){const i=this.ks.Es(r);return N.resolve(i)}containsKey(t,r){return N.resolve(this.ks.containsKey(r))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HO{constructor(t,r){this.$s={},this.overlays={},this.Os=new cg(0),this.Fs=!1,this.Fs=!0,this.referenceDelegate=t(this),this.Bs=new BO(this),this.indexManager=new PO,this.remoteDocumentCache=function(i){return new jO(i)}(i=>this.referenceDelegate.Ls(i)),this.serializer=new bO(r),this.qs=new FO(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Fs=!1,Promise.resolve()}get started(){return this.Fs}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let r=this.overlays[t.toKey()];return r||(r=new UO,this.overlays[t.toKey()]=r),r}getMutationQueue(t,r){let i=this.$s[t.toKey()];return i||(i=new VO(r,this.referenceDelegate),this.$s[t.toKey()]=i),i}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.qs}runTransaction(t,r,i){F("MemoryPersistence","Starting transaction:",t);const s=new WO(this.Os.next());return this.referenceDelegate.Us(),i(s).next(o=>this.referenceDelegate.Ks(s).next(()=>o)).toPromise().then(o=>(s.raiseOnCommittedEvent(),o))}Gs(t,r){return N.or(Object.values(this.$s).map(i=>()=>i.containsKey(t,r)))}}class WO extends N${constructor(t){super(),this.currentSequenceNumber=t}}class Ig{constructor(t){this.persistence=t,this.Qs=new Sg,this.js=null}static zs(t){return new Ig(t)}get Ws(){if(this.js)return this.js;throw K()}addReference(t,r,i){return this.Qs.addReference(i,r),this.Ws.delete(i.toString()),N.resolve()}removeReference(t,r,i){return this.Qs.removeReference(i,r),this.Ws.add(i.toString()),N.resolve()}markPotentiallyOrphaned(t,r){return this.Ws.add(r.toString()),N.resolve()}removeTarget(t,r){this.Qs.Is(r.targetId).forEach(s=>this.Ws.add(s.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(t,r.targetId).next(s=>{s.forEach(o=>this.Ws.add(o.toString()))}).next(()=>i.removeTargetData(t,r))}Us(){this.js=new Set}Ks(t){const r=this.persistence.getRemoteDocumentCache().newChangeBuffer();return N.forEach(this.Ws,i=>{const s=j.fromPath(i);return this.Hs(t,s).next(o=>{o||r.removeEntry(s,Z.min())})}).next(()=>(this.js=null,r.apply(t)))}updateLimboDocument(t,r){return this.Hs(t,r).next(i=>{i?this.Ws.delete(r.toString()):this.Ws.add(r.toString())})}Ls(t){return 0}Hs(t,r){return N.or([()=>N.resolve(this.Qs.containsKey(r)),()=>this.persistence.getTargetCache().containsKey(t,r),()=>this.persistence.Gs(t,r)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tg{constructor(t,r,i,s){this.targetId=t,this.fromCache=r,this.Fi=i,this.Bi=s}static Li(t,r){let i=te(),s=te();for(const o of r.docChanges)switch(o.type){case 0:i=i.add(o.doc.key);break;case 1:s=s.add(o.doc.key)}return new Tg(t,r.fromCache,i,s)}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qO{constructor(){this.qi=!1}initialize(t,r){this.Ui=t,this.indexManager=r,this.qi=!0}getDocumentsMatchingQuery(t,r,i,s){return this.Ki(t,r).next(o=>o||this.Gi(t,r,s,i)).next(o=>o||this.Qi(t,r))}Ki(t,r){if(O0(r))return N.resolve(null);let i=ir(r);return this.indexManager.getIndexType(t,i).next(s=>s===0?null:(r.limit!==null&&s===1&&(r=op(r,null,"F"),i=ir(r)),this.indexManager.getDocumentsMatchingTarget(t,i).next(o=>{const a=te(...o);return this.Ui.getDocuments(t,a).next(l=>this.indexManager.getMinOffset(t,i).next(u=>{const c=this.ji(r,l);return this.zi(r,c,a,u.readTime)?this.Ki(t,op(r,null,"F")):this.Wi(t,c,r,u)}))})))}Gi(t,r,i,s){return O0(r)||s.isEqual(Z.min())?this.Qi(t,r):this.Ui.getDocuments(t,i).next(o=>{const a=this.ji(r,o);return this.zi(r,a,i,s)?this.Qi(t,r):(C0()<=ue.DEBUG&&F("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),ap(r)),this.Wi(t,a,r,k$(s,-1)))})}ji(t,r){let i=new St(bT(t));return r.forEach((s,o)=>{nd(t,o)&&(i=i.add(o))}),i}zi(t,r,i,s){if(t.limit===null)return!1;if(i.size!==r.size)return!0;const o=t.limitType==="F"?r.last():r.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(s)>0)}Qi(t,r){return C0()<=ue.DEBUG&&F("QueryEngine","Using full collection scan to execute query:",ap(r)),this.Ui.getDocumentsMatchingQuery(t,r,zr.min())}Wi(t,r,i,s){return this.Ui.getDocumentsMatchingQuery(t,i,s).next(o=>(r.forEach(a=>{o=o.insert(a.key,a)}),o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KO{constructor(t,r,i,s){this.persistence=t,this.Hi=r,this.serializer=s,this.Ji=new $e(ce),this.Yi=new Xs(o=>pg(o),mg),this.Xi=new Map,this.Zi=t.getRemoteDocumentCache(),this.Bs=t.getTargetCache(),this.qs=t.getBundleCache(),this.tr(i)}tr(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new LO(this.Zi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Zi.setIndexManager(this.indexManager),this.Hi.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",r=>t.collect(r,this.Ji))}}function GO(n,t,r,i){return new KO(n,t,r,i)}async function ZT(n,t){const r=ee(n);return await r.persistence.runTransaction("Handle user change","readonly",i=>{let s;return r.mutationQueue.getAllMutationBatches(i).next(o=>(s=o,r.tr(t),r.mutationQueue.getAllMutationBatches(i))).next(o=>{const a=[],l=[];let u=te();for(const c of s){a.push(c.batchId);for(const d of c.mutations)u=u.add(d.key)}for(const c of o){l.push(c.batchId);for(const d of c.mutations)u=u.add(d.key)}return r.localDocuments.getDocuments(i,u).next(c=>({er:c,removedBatchIds:a,addedBatchIds:l}))})})}function QO(n,t){const r=ee(n);return r.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const s=t.batch.keys(),o=r.Zi.newChangeBuffer({trackRemovals:!0});return function(a,l,u,c){const d=u.batch,h=d.keys();let f=N.resolve();return h.forEach(m=>{f=f.next(()=>c.getEntry(l,m)).next(E=>{const S=u.docVersions.get(m);Ce(S!==null),E.version.compareTo(S)<0&&(d.applyToRemoteDocument(E,u),E.isValidDocument()&&(E.setReadTime(u.commitVersion),c.addEntry(E)))})}),f.next(()=>a.mutationQueue.removeMutationBatch(l,d))}(r,i,t,o).next(()=>o.apply(i)).next(()=>r.mutationQueue.performConsistencyCheck(i)).next(()=>r.documentOverlayCache.removeOverlaysForBatchId(i,s,t.batch.batchId)).next(()=>r.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(a){let l=te();for(let u=0;u<a.mutationResults.length;++u)a.mutationResults[u].transformResults.length>0&&(l=l.add(a.batch.mutations[u].key));return l}(t))).next(()=>r.localDocuments.getDocuments(i,s))})}function e_(n){const t=ee(n);return t.persistence.runTransaction("Get last remote snapshot version","readonly",r=>t.Bs.getLastRemoteSnapshotVersion(r))}function YO(n,t){const r=ee(n),i=t.snapshotVersion;let s=r.Ji;return r.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const a=r.Zi.newChangeBuffer({trackRemovals:!0});s=r.Ji;const l=[];t.targetChanges.forEach((d,h)=>{const f=s.get(h);if(!f)return;l.push(r.Bs.removeMatchingKeys(o,d.removedDocuments,h).next(()=>r.Bs.addMatchingKeys(o,d.addedDocuments,h)));let m=f.withSequenceNumber(o.currentSequenceNumber);t.targetMismatches.get(h)!==null?m=m.withResumeToken(Wt.EMPTY_BYTE_STRING,Z.min()).withLastLimboFreeSnapshotVersion(Z.min()):d.resumeToken.approximateByteSize()>0&&(m=m.withResumeToken(d.resumeToken,i)),s=s.insert(h,m),function(E,S,I){return E.resumeToken.approximateByteSize()===0||S.snapshotVersion.toMicroseconds()-E.snapshotVersion.toMicroseconds()>=3e8?!0:I.addedDocuments.size+I.modifiedDocuments.size+I.removedDocuments.size>0}(f,m,d)&&l.push(r.Bs.updateTargetData(o,m))});let u=sr(),c=te();if(t.documentUpdates.forEach(d=>{t.resolvedLimboDocuments.has(d)&&l.push(r.persistence.referenceDelegate.updateLimboDocument(o,d))}),l.push(XO(o,a,t.documentUpdates).next(d=>{u=d.nr,c=d.sr})),!i.isEqual(Z.min())){const d=r.Bs.getLastRemoteSnapshotVersion(o).next(h=>r.Bs.setTargetsMetadata(o,o.currentSequenceNumber,i));l.push(d)}return N.waitFor(l).next(()=>a.apply(o)).next(()=>r.localDocuments.getLocalViewOfDocuments(o,u,c)).next(()=>u)}).then(o=>(r.Ji=s,o))}function XO(n,t,r){let i=te(),s=te();return r.forEach(o=>i=i.add(o)),t.getEntries(n,i).next(o=>{let a=sr();return r.forEach((l,u)=>{const c=o.get(l);u.isFoundDocument()!==c.isFoundDocument()&&(s=s.add(l)),u.isNoDocument()&&u.version.isEqual(Z.min())?(t.removeEntry(l,u.readTime),a=a.insert(l,u)):!c.isValidDocument()||u.version.compareTo(c.version)>0||u.version.compareTo(c.version)===0&&c.hasPendingWrites?(t.addEntry(u),a=a.insert(l,u)):F("LocalStore","Ignoring outdated watch update for ",l,". Current version:",c.version," Watch version:",u.version)}),{nr:a,sr:s}})}function JO(n,t){const r=ee(n);return r.persistence.runTransaction("Get next mutation batch","readonly",i=>(t===void 0&&(t=-1),r.mutationQueue.getNextMutationBatchAfterBatchId(i,t)))}function ZO(n,t){const r=ee(n);return r.persistence.runTransaction("Allocate target","readwrite",i=>{let s;return r.Bs.getTargetData(i,t).next(o=>o?(s=o,N.resolve(s)):r.Bs.allocateTargetId(i).next(a=>(s=new Cr(t,a,"TargetPurposeListen",i.currentSequenceNumber),r.Bs.addTargetData(i,s).next(()=>s))))}).then(i=>{const s=r.Ji.get(i.targetId);return(s===null||i.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(r.Ji=r.Ji.insert(i.targetId,i),r.Yi.set(t,i.targetId)),i})}async function hp(n,t,r){const i=ee(n),s=i.Ji.get(t),o=r?"readwrite":"readwrite-primary";try{r||await i.persistence.runTransaction("Release target",o,a=>i.persistence.referenceDelegate.removeTarget(a,s))}catch(a){if(!el(a))throw a;F("LocalStore",`Failed to update sequence numbers for target ${t}: ${a}`)}i.Ji=i.Ji.remove(t),i.Yi.delete(s.target)}function q0(n,t,r){const i=ee(n);let s=Z.min(),o=te();return i.persistence.runTransaction("Execute query","readonly",a=>function(l,u,c){const d=ee(l),h=d.Yi.get(c);return h!==void 0?N.resolve(d.Ji.get(h)):d.Bs.getTargetData(u,c)}(i,a,ir(t)).next(l=>{if(l)return s=l.lastLimboFreeSnapshotVersion,i.Bs.getMatchingKeysForTargetId(a,l.targetId).next(u=>{o=u})}).next(()=>i.Hi.getDocumentsMatchingQuery(a,t,r?s:Z.min(),r?o:te())).next(l=>(eM(i,q$(t),l),{documents:l,ir:o})))}function eM(n,t,r){let i=n.Xi.get(t)||Z.min();r.forEach((s,o)=>{o.readTime.compareTo(i)>0&&(i=o.readTime)}),n.Xi.set(t,i)}class K0{constructor(){this.activeTargetIds=J$()}lr(t){this.activeTargetIds=this.activeTargetIds.add(t)}dr(t){this.activeTargetIds=this.activeTargetIds.delete(t)}hr(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class tM{constructor(){this.Hr=new K0,this.Jr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,r,i){}addLocalQueryTarget(t){return this.Hr.lr(t),this.Jr[t]||"not-current"}updateQueryState(t,r,i){this.Jr[t]=r}removeLocalQueryTarget(t){this.Hr.dr(t)}isLocalQueryTarget(t){return this.Hr.activeTargetIds.has(t)}clearQueryState(t){delete this.Jr[t]}getAllActiveQueryTargets(){return this.Hr.activeTargetIds}isActiveQueryTarget(t){return this.Hr.activeTargetIds.has(t)}start(){return this.Hr=new K0,Promise.resolve()}handleUserChange(t,r,i){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nM{Yr(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G0{constructor(){this.Xr=()=>this.Zr(),this.eo=()=>this.no(),this.so=[],this.io()}Yr(t){this.so.push(t)}shutdown(){window.removeEventListener("online",this.Xr),window.removeEventListener("offline",this.eo)}io(){window.addEventListener("online",this.Xr),window.addEventListener("offline",this.eo)}Zr(){F("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const t of this.so)t(0)}no(){F("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const t of this.so)t(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Fl=null;function Th(){return Fl===null?Fl=268435456+Math.round(2147483648*Math.random()):Fl++,"0x"+Fl.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rM={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iM{constructor(t){this.ro=t.ro,this.oo=t.oo}uo(t){this.co=t}ao(t){this.ho=t}onMessage(t){this.lo=t}close(){this.oo()}send(t){this.ro(t)}fo(){this.co()}wo(t){this.ho(t)}_o(t){this.lo(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pt="WebChannelConnection";class sM extends class{constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const r=t.ssl?"https":"http";this.mo=r+"://"+t.host,this.yo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get po(){return!1}Io(t,r,i,s,o){const a=Th(),l=this.To(t,r);F("RestConnection",`Sending RPC '${t}' ${a}:`,l,i);const u={};return this.Eo(u,s,o),this.Ao(t,l,u,i).then(c=>(F("RestConnection",`Received RPC '${t}' ${a}: `,c),c),c=>{throw bs("RestConnection",`RPC '${t}' ${a} failed with error: `,c,"url: ",l,"request:",i),c})}vo(t,r,i,s,o,a){return this.Io(t,r,i,s,o)}Eo(t,r,i){t["X-Goog-Api-Client"]="gl-js/ fire/"+Qs,t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((s,o)=>t[o]=s),i&&i.headers.forEach((s,o)=>t[o]=s)}To(t,r){const i=rM[t];return`${this.mo}/v1/${r}:${i}`}}{constructor(t){super(t),this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Ao(t,r,i,s){const o=Th();return new Promise((a,l)=>{const u=new m$;u.setWithCredentials(!0),u.listenOnce(h$.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case Sh.NO_ERROR:const d=u.getResponseJson();F(pt,`XHR for RPC '${t}' ${o} received:`,JSON.stringify(d)),a(d);break;case Sh.TIMEOUT:F(pt,`RPC '${t}' ${o} timed out`),l(new L(k.DEADLINE_EXCEEDED,"Request time out"));break;case Sh.HTTP_ERROR:const h=u.getStatus();if(F(pt,`RPC '${t}' ${o} failed with status:`,h,"response text:",u.getResponseText()),h>0){let f=u.getResponseJson();Array.isArray(f)&&(f=f[0]);const m=f==null?void 0:f.error;if(m&&m.status&&m.message){const E=function(S){const I=S.toLowerCase().replace(/_/g,"-");return Object.values(k).indexOf(I)>=0?I:k.UNKNOWN}(m.status);l(new L(E,m.message))}else l(new L(k.UNKNOWN,"Server responded with status "+u.getStatus()))}else l(new L(k.UNAVAILABLE,"Connection failed."));break;default:K()}}finally{F(pt,`RPC '${t}' ${o} completed.`)}});const c=JSON.stringify(s);F(pt,`RPC '${t}' ${o} sending request:`,s),u.send(r,"POST",c,i,15)})}Ro(t,r,i){const s=Th(),o=[this.mo,"/","google.firestore.v1.Firestore","/",t,"/channel"],a=c$(),l=d$(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;c!==void 0&&(u.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(u.xmlHttpFactory=new p$({})),this.Eo(u.initMessageHeaders,r,i),u.encodeInitMessageHeaders=!0;const d=o.join("");F(pt,`Creating RPC '${t}' stream ${s}: ${d}`,u);const h=a.createWebChannel(d,u);let f=!1,m=!1;const E=new iM({ro:I=>{m?F(pt,`Not sending because RPC '${t}' stream ${s} is closed:`,I):(f||(F(pt,`Opening RPC '${t}' stream ${s} transport.`),h.open(),f=!0),F(pt,`RPC '${t}' stream ${s} sending:`,I),h.send(I))},oo:()=>h.close()}),S=(I,y,p)=>{I.listen(y,v=>{try{p(v)}catch(g){setTimeout(()=>{throw g},0)}})};return S(h,$l.EventType.OPEN,()=>{m||F(pt,`RPC '${t}' stream ${s} transport opened.`)}),S(h,$l.EventType.CLOSE,()=>{m||(m=!0,F(pt,`RPC '${t}' stream ${s} transport closed`),E.wo())}),S(h,$l.EventType.ERROR,I=>{m||(m=!0,bs(pt,`RPC '${t}' stream ${s} transport errored:`,I),E.wo(new L(k.UNAVAILABLE,"The operation could not be completed")))}),S(h,$l.EventType.MESSAGE,I=>{var y;if(!m){const p=I.data[0];Ce(!!p);const v=p,g=v.error||((y=v[0])===null||y===void 0?void 0:y.error);if(g){F(pt,`RPC '${t}' stream ${s} received error:`,g);const C=g.status;let b=function($){const G=Ve[$];if(G!==void 0)return HT(G)}(C),R=g.message;b===void 0&&(b=k.INTERNAL,R="Unknown error status: "+C+" with message "+g.message),m=!0,E.wo(new L(b,R)),h.close()}else F(pt,`RPC '${t}' stream ${s} received:`,p),E._o(p)}}),S(l,f$.STAT_EVENT,I=>{I.stat===T0.PROXY?F(pt,`RPC '${t}' stream ${s} detected buffering proxy`):I.stat===T0.NOPROXY&&F(pt,`RPC '${t}' stream ${s} detected no buffering proxy`)}),setTimeout(()=>{E.fo()},0),E}}function _h(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function od(n){return new yO(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t_{constructor(t,r,i=1e3,s=1.5,o=6e4){this.ii=t,this.timerId=r,this.Po=i,this.bo=s,this.Vo=o,this.So=0,this.Do=null,this.Co=Date.now(),this.reset()}reset(){this.So=0}xo(){this.So=this.Vo}No(t){this.cancel();const r=Math.floor(this.So+this.ko()),i=Math.max(0,Date.now()-this.Co),s=Math.max(0,r-i);s>0&&F("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.So} ms, delay with jitter: ${r} ms, last attempt: ${i} ms ago)`),this.Do=this.ii.enqueueAfterDelay(this.timerId,s,()=>(this.Co=Date.now(),t())),this.So*=this.bo,this.So<this.Po&&(this.So=this.Po),this.So>this.Vo&&(this.So=this.Vo)}Mo(){this.Do!==null&&(this.Do.skipDelay(),this.Do=null)}cancel(){this.Do!==null&&(this.Do.cancel(),this.Do=null)}ko(){return(Math.random()-.5)*this.So}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n_{constructor(t,r,i,s,o,a,l,u){this.ii=t,this.$o=i,this.Oo=s,this.connection=o,this.authCredentialsProvider=a,this.appCheckCredentialsProvider=l,this.listener=u,this.state=0,this.Fo=0,this.Bo=null,this.Lo=null,this.stream=null,this.qo=new t_(t,r)}Uo(){return this.state===1||this.state===5||this.Ko()}Ko(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.Go()}async stop(){this.Uo()&&await this.close(0)}Qo(){this.state=0,this.qo.reset()}jo(){this.Ko()&&this.Bo===null&&(this.Bo=this.ii.enqueueAfterDelay(this.$o,6e4,()=>this.zo()))}Wo(t){this.Ho(),this.stream.send(t)}async zo(){if(this.Ko())return this.close(0)}Ho(){this.Bo&&(this.Bo.cancel(),this.Bo=null)}Jo(){this.Lo&&(this.Lo.cancel(),this.Lo=null)}async close(t,r){this.Ho(),this.Jo(),this.qo.cancel(),this.Fo++,t!==4?this.qo.reset():r&&r.code===k.RESOURCE_EXHAUSTED?(rr(r.toString()),rr("Using maximum backoff delay to prevent overloading the backend."),this.qo.xo()):r&&r.code===k.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.Yo(),this.stream.close(),this.stream=null),this.state=t,await this.listener.ao(r)}Yo(){}auth(){this.state=1;const t=this.Xo(this.Fo),r=this.Fo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,s])=>{this.Fo===r&&this.Zo(i,s)},i=>{t(()=>{const s=new L(k.UNKNOWN,"Fetching auth token failed: "+i.message);return this.tu(s)})})}Zo(t,r){const i=this.Xo(this.Fo);this.stream=this.eu(t,r),this.stream.uo(()=>{i(()=>(this.state=2,this.Lo=this.ii.enqueueAfterDelay(this.Oo,1e4,()=>(this.Ko()&&(this.state=3),Promise.resolve())),this.listener.uo()))}),this.stream.ao(s=>{i(()=>this.tu(s))}),this.stream.onMessage(s=>{i(()=>this.onMessage(s))})}Go(){this.state=5,this.qo.No(async()=>{this.state=0,this.start()})}tu(t){return F("PersistentStream",`close with error: ${t}`),this.stream=null,this.close(4,t)}Xo(t){return r=>{this.ii.enqueueAndForget(()=>this.Fo===t?r():(F("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class oM extends n_{constructor(t,r,i,s,o,a){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",r,i,s,a),this.serializer=o}eu(t,r){return this.connection.Ro("Listen",t,r)}onMessage(t){this.qo.reset();const r=EO(this.serializer,t),i=function(s){if(!("targetChange"in s))return Z.min();const o=s.targetChange;return o.targetIds&&o.targetIds.length?Z.min():o.readTime?Dn(o.readTime):Z.min()}(t);return this.listener.nu(r,i)}su(t){const r={};r.database=dp(this.serializer),r.addTarget=function(s,o){let a;const l=o.target;if(a=ip(l)?{documents:TO(s,l)}:{query:_O(s,l)},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=KT(s,o.resumeToken);const u=lp(s,o.expectedCount);u!==null&&(a.expectedCount=u)}else if(o.snapshotVersion.compareTo(Z.min())>0){a.readTime=ac(s,o.snapshotVersion.toTimestamp());const u=lp(s,o.expectedCount);u!==null&&(a.expectedCount=u)}return a}(this.serializer,t);const i=kO(this.serializer,t);i&&(r.labels=i),this.Wo(r)}iu(t){const r={};r.database=dp(this.serializer),r.removeTarget=t,this.Wo(r)}}class aM extends n_{constructor(t,r,i,s,o,a){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",r,i,s,a),this.serializer=o,this.ru=!1}get ou(){return this.ru}start(){this.ru=!1,this.lastStreamToken=void 0,super.start()}Yo(){this.ru&&this.uu([])}eu(t,r){return this.connection.Ro("Write",t,r)}onMessage(t){if(Ce(!!t.streamToken),this.lastStreamToken=t.streamToken,this.ru){this.qo.reset();const r=IO(t.writeResults,t.commitTime),i=Dn(t.commitTime);return this.listener.cu(i,r)}return Ce(!t.writeResults||t.writeResults.length===0),this.ru=!0,this.listener.au()}hu(){const t={};t.database=dp(this.serializer),this.Wo(t)}uu(t){const r={streamToken:this.lastStreamToken,writes:t.map(i=>SO(this.serializer,i))};this.Wo(r)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lM extends class{}{constructor(t,r,i,s){super(),this.authCredentials=t,this.appCheckCredentials=r,this.connection=i,this.serializer=s,this.lu=!1}fu(){if(this.lu)throw new L(k.FAILED_PRECONDITION,"The client has already been terminated.")}Io(t,r,i){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Io(t,r,i,s,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===k.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new L(k.UNKNOWN,s.toString())})}vo(t,r,i,s){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.vo(t,r,i,o,a,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===k.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new L(k.UNKNOWN,o.toString())})}terminate(){this.lu=!0}}class uM{constructor(t,r){this.asyncQueue=t,this.onlineStateHandler=r,this.state="Unknown",this.wu=0,this._u=null,this.mu=!0}gu(){this.wu===0&&(this.yu("Unknown"),this._u=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._u=null,this.pu("Backend didn't respond within 10 seconds."),this.yu("Offline"),Promise.resolve())))}Iu(t){this.state==="Online"?this.yu("Unknown"):(this.wu++,this.wu>=1&&(this.Tu(),this.pu(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.yu("Offline")))}set(t){this.Tu(),this.wu=0,t==="Online"&&(this.mu=!1),this.yu(t)}yu(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}pu(t){const r=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.mu?(rr(r),this.mu=!1):F("OnlineStateTracker",r)}Tu(){this._u!==null&&(this._u.cancel(),this._u=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cM{constructor(t,r,i,s,o){this.localStore=t,this.datastore=r,this.asyncQueue=i,this.remoteSyncer={},this.Eu=[],this.Au=new Map,this.vu=new Set,this.Ru=[],this.Pu=o,this.Pu.Yr(a=>{i.enqueueAndForget(async()=>{Ui(this)&&(F("RemoteStore","Restarting streams for network reachability change."),await async function(l){const u=ee(l);u.vu.add(4),await il(u),u.bu.set("Unknown"),u.vu.delete(4),await ad(u)}(this))})}),this.bu=new uM(i,s)}}async function ad(n){if(Ui(n))for(const t of n.Ru)await t(!0)}async function il(n){for(const t of n.Ru)await t(!1)}function r_(n,t){const r=ee(n);r.Au.has(t.targetId)||(r.Au.set(t.targetId,t),kg(r)?Cg(r):Js(r).Ko()&&_g(r,t))}function i_(n,t){const r=ee(n),i=Js(r);r.Au.delete(t),i.Ko()&&s_(r,t),r.Au.size===0&&(i.Ko()?i.jo():Ui(r)&&r.bu.set("Unknown"))}function _g(n,t){if(n.Vu.qt(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(Z.min())>0){const r=n.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(r)}Js(n).su(t)}function s_(n,t){n.Vu.qt(t),Js(n).iu(t)}function Cg(n){n.Vu=new fO({getRemoteKeysForTarget:t=>n.remoteSyncer.getRemoteKeysForTarget(t),le:t=>n.Au.get(t)||null,ue:()=>n.datastore.serializer.databaseId}),Js(n).start(),n.bu.gu()}function kg(n){return Ui(n)&&!Js(n).Uo()&&n.Au.size>0}function Ui(n){return ee(n).vu.size===0}function o_(n){n.Vu=void 0}async function dM(n){n.Au.forEach((t,r)=>{_g(n,t)})}async function hM(n,t){o_(n),kg(n)?(n.bu.Iu(t),Cg(n)):n.bu.set("Unknown")}async function fM(n,t,r){if(n.bu.set("Online"),t instanceof qT&&t.state===2&&t.cause)try{await async function(i,s){const o=s.cause;for(const a of s.targetIds)i.Au.has(a)&&(await i.remoteSyncer.rejectListen(a,o),i.Au.delete(a),i.Vu.removeTarget(a))}(n,t)}catch(i){F("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),i),await lc(n,i)}else if(t instanceof lu?n.Vu.Ht(t):t instanceof WT?n.Vu.ne(t):n.Vu.Xt(t),!r.isEqual(Z.min()))try{const i=await e_(n.localStore);r.compareTo(i)>=0&&await function(s,o){const a=s.Vu.ce(o);return a.targetChanges.forEach((l,u)=>{if(l.resumeToken.approximateByteSize()>0){const c=s.Au.get(u);c&&s.Au.set(u,c.withResumeToken(l.resumeToken,o))}}),a.targetMismatches.forEach((l,u)=>{const c=s.Au.get(l);if(!c)return;s.Au.set(l,c.withResumeToken(Wt.EMPTY_BYTE_STRING,c.snapshotVersion)),s_(s,l);const d=new Cr(c.target,l,u,c.sequenceNumber);_g(s,d)}),s.remoteSyncer.applyRemoteEvent(a)}(n,r)}catch(i){F("RemoteStore","Failed to raise snapshot:",i),await lc(n,i)}}async function lc(n,t,r){if(!el(t))throw t;n.vu.add(1),await il(n),n.bu.set("Offline"),r||(r=()=>e_(n.localStore)),n.asyncQueue.enqueueRetryable(async()=>{F("RemoteStore","Retrying IndexedDB access"),await r(),n.vu.delete(1),await ad(n)})}function a_(n,t){return t().catch(r=>lc(n,r,t))}async function ld(n){const t=ee(n),r=Hr(t);let i=t.Eu.length>0?t.Eu[t.Eu.length-1].batchId:-1;for(;pM(t);)try{const s=await JO(t.localStore,i);if(s===null){t.Eu.length===0&&r.jo();break}i=s.batchId,mM(t,s)}catch(s){await lc(t,s)}l_(t)&&u_(t)}function pM(n){return Ui(n)&&n.Eu.length<10}function mM(n,t){n.Eu.push(t);const r=Hr(n);r.Ko()&&r.ou&&r.uu(t.mutations)}function l_(n){return Ui(n)&&!Hr(n).Uo()&&n.Eu.length>0}function u_(n){Hr(n).start()}async function gM(n){Hr(n).hu()}async function yM(n){const t=Hr(n);for(const r of n.Eu)t.uu(r.mutations)}async function vM(n,t,r){const i=n.Eu.shift(),s=yg.from(i,t,r);await a_(n,()=>n.remoteSyncer.applySuccessfulWrite(s)),await ld(n)}async function wM(n,t){t&&Hr(n).ou&&await async function(r,i){if(s=i.code,cO(s)&&s!==k.ABORTED){const o=r.Eu.shift();Hr(r).Qo(),await a_(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i)),await ld(r)}var s}(n,t),l_(n)&&u_(n)}async function Q0(n,t){const r=ee(n);r.asyncQueue.verifyOperationInProgress(),F("RemoteStore","RemoteStore received new credentials");const i=Ui(r);r.vu.add(3),await il(r),i&&r.bu.set("Unknown"),await r.remoteSyncer.handleCredentialChange(t),r.vu.delete(3),await ad(r)}async function EM(n,t){const r=ee(n);t?(r.vu.delete(2),await ad(r)):t||(r.vu.add(2),await il(r),r.bu.set("Unknown"))}function Js(n){return n.Su||(n.Su=function(t,r,i){const s=ee(t);return s.fu(),new oM(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(n.datastore,n.asyncQueue,{uo:dM.bind(null,n),ao:hM.bind(null,n),nu:fM.bind(null,n)}),n.Ru.push(async t=>{t?(n.Su.Qo(),kg(n)?Cg(n):n.bu.set("Unknown")):(await n.Su.stop(),o_(n))})),n.Su}function Hr(n){return n.Du||(n.Du=function(t,r,i){const s=ee(t);return s.fu(),new aM(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(n.datastore,n.asyncQueue,{uo:gM.bind(null,n),ao:wM.bind(null,n),au:yM.bind(null,n),cu:vM.bind(null,n)}),n.Ru.push(async t=>{t?(n.Du.Qo(),await ld(n)):(await n.Du.stop(),n.Eu.length>0&&(F("RemoteStore",`Stopping write stream with ${n.Eu.length} pending writes`),n.Eu=[]))})),n.Du}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ag{constructor(t,r,i,s,o){this.asyncQueue=t,this.timerId=r,this.targetTimeMs=i,this.op=s,this.removalCallback=o,this.deferred=new Fr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(a=>{})}static createAndSchedule(t,r,i,s,o){const a=Date.now()+i,l=new Ag(t,r,a,s,o);return l.start(i),l}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new L(k.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Rg(n,t){if(rr("AsyncQueue",`${t}: ${n}`),el(n))return new L(k.UNAVAILABLE,`${t}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ss{constructor(t){this.comparator=t?(r,i)=>t(r,i)||j.comparator(r.key,i.key):(r,i)=>j.comparator(r.key,i.key),this.keyedMap=xo(),this.sortedSet=new $e(this.comparator)}static emptySet(t){return new Ss(t.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const r=this.keyedMap.get(t);return r?this.sortedSet.indexOf(r):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((r,i)=>(t(r),!1))}add(t){const r=this.delete(t.key);return r.copy(r.keyedMap.insert(t.key,t),r.sortedSet.insert(t,null))}delete(t){const r=this.get(t);return r?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(r)):this}isEqual(t){if(!(t instanceof Ss)||this.size!==t.size)return!1;const r=this.sortedSet.getIterator(),i=t.sortedSet.getIterator();for(;r.hasNext();){const s=r.getNext().key,o=i.getNext().key;if(!s.isEqual(o))return!1}return!0}toString(){const t=[];return this.forEach(r=>{t.push(r.toString())}),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,r){const i=new Ss;return i.comparator=this.comparator,i.keyedMap=t,i.sortedSet=r,i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y0{constructor(){this.Cu=new $e(j.comparator)}track(t){const r=t.doc.key,i=this.Cu.get(r);i?t.type!==0&&i.type===3?this.Cu=this.Cu.insert(r,t):t.type===3&&i.type!==1?this.Cu=this.Cu.insert(r,{type:i.type,doc:t.doc}):t.type===2&&i.type===2?this.Cu=this.Cu.insert(r,{type:2,doc:t.doc}):t.type===2&&i.type===0?this.Cu=this.Cu.insert(r,{type:0,doc:t.doc}):t.type===1&&i.type===0?this.Cu=this.Cu.remove(r):t.type===1&&i.type===2?this.Cu=this.Cu.insert(r,{type:1,doc:i.doc}):t.type===0&&i.type===1?this.Cu=this.Cu.insert(r,{type:2,doc:t.doc}):K():this.Cu=this.Cu.insert(r,t)}xu(){const t=[];return this.Cu.inorderTraversal((r,i)=>{t.push(i)}),t}}class Ms{constructor(t,r,i,s,o,a,l,u,c){this.query=t,this.docs=r,this.oldDocs=i,this.docChanges=s,this.mutatedKeys=o,this.fromCache=a,this.syncStateChanged=l,this.excludesMetadataChanges=u,this.hasCachedResults=c}static fromInitialDocuments(t,r,i,s,o){const a=[];return r.forEach(l=>{a.push({type:0,doc:l})}),new Ms(t,r,Ss.emptySet(r),a,i,s,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&td(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const r=this.docChanges,i=t.docChanges;if(r.length!==i.length)return!1;for(let s=0;s<r.length;s++)if(r[s].type!==i[s].type||!r[s].doc.isEqual(i[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SM{constructor(){this.Nu=void 0,this.listeners=[]}}class IM{constructor(){this.queries=new Xs(t=>NT(t),td),this.onlineState="Unknown",this.ku=new Set}}async function TM(n,t){const r=ee(n),i=t.query;let s=!1,o=r.queries.get(i);if(o||(s=!0,o=new SM),s)try{o.Nu=await r.onListen(i)}catch(a){const l=Rg(a,`Initialization of query '${ap(t.query)}' failed`);return void t.onError(l)}r.queries.set(i,o),o.listeners.push(t),t.Mu(r.onlineState),o.Nu&&t.$u(o.Nu)&&xg(r)}async function _M(n,t){const r=ee(n),i=t.query;let s=!1;const o=r.queries.get(i);if(o){const a=o.listeners.indexOf(t);a>=0&&(o.listeners.splice(a,1),s=o.listeners.length===0)}if(s)return r.queries.delete(i),r.onUnlisten(i)}function CM(n,t){const r=ee(n);let i=!1;for(const s of t){const o=s.query,a=r.queries.get(o);if(a){for(const l of a.listeners)l.$u(s)&&(i=!0);a.Nu=s}}i&&xg(r)}function kM(n,t,r){const i=ee(n),s=i.queries.get(t);if(s)for(const o of s.listeners)o.onError(r);i.queries.delete(t)}function xg(n){n.ku.forEach(t=>{t.next()})}class AM{constructor(t,r,i){this.query=t,this.Ou=r,this.Fu=!1,this.Bu=null,this.onlineState="Unknown",this.options=i||{}}$u(t){if(!this.options.includeMetadataChanges){const i=[];for(const s of t.docChanges)s.type!==3&&i.push(s);t=new Ms(t.query,t.docs,t.oldDocs,i,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let r=!1;return this.Fu?this.Lu(t)&&(this.Ou.next(t),r=!0):this.qu(t,this.onlineState)&&(this.Uu(t),r=!0),this.Bu=t,r}onError(t){this.Ou.error(t)}Mu(t){this.onlineState=t;let r=!1;return this.Bu&&!this.Fu&&this.qu(this.Bu,t)&&(this.Uu(this.Bu),r=!0),r}qu(t,r){if(!t.fromCache)return!0;const i=r!=="Offline";return(!this.options.Ku||!i)&&(!t.docs.isEmpty()||t.hasCachedResults||r==="Offline")}Lu(t){if(t.docChanges.length>0)return!0;const r=this.Bu&&this.Bu.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!r)&&this.options.includeMetadataChanges===!0}Uu(t){t=Ms.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Fu=!0,this.Ou.next(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c_{constructor(t){this.key=t}}class d_{constructor(t){this.key=t}}class RM{constructor(t,r){this.query=t,this.Yu=r,this.Xu=null,this.hasCachedResults=!1,this.current=!1,this.Zu=te(),this.mutatedKeys=te(),this.tc=bT(t),this.ec=new Ss(this.tc)}get nc(){return this.Yu}sc(t,r){const i=r?r.ic:new Y0,s=r?r.ec:this.ec;let o=r?r.mutatedKeys:this.mutatedKeys,a=s,l=!1;const u=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,c=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(t.inorderTraversal((d,h)=>{const f=s.get(d),m=nd(this.query,h)?h:null,E=!!f&&this.mutatedKeys.has(f.key),S=!!m&&(m.hasLocalMutations||this.mutatedKeys.has(m.key)&&m.hasCommittedMutations);let I=!1;f&&m?f.data.isEqual(m.data)?E!==S&&(i.track({type:3,doc:m}),I=!0):this.rc(f,m)||(i.track({type:2,doc:m}),I=!0,(u&&this.tc(m,u)>0||c&&this.tc(m,c)<0)&&(l=!0)):!f&&m?(i.track({type:0,doc:m}),I=!0):f&&!m&&(i.track({type:1,doc:f}),I=!0,(u||c)&&(l=!0)),I&&(m?(a=a.add(m),o=S?o.add(d):o.delete(d)):(a=a.delete(d),o=o.delete(d)))}),this.query.limit!==null)for(;a.size>this.query.limit;){const d=this.query.limitType==="F"?a.last():a.first();a=a.delete(d.key),o=o.delete(d.key),i.track({type:1,doc:d})}return{ec:a,ic:i,zi:l,mutatedKeys:o}}rc(t,r){return t.hasLocalMutations&&r.hasCommittedMutations&&!r.hasLocalMutations}applyChanges(t,r,i){const s=this.ec;this.ec=t.ec,this.mutatedKeys=t.mutatedKeys;const o=t.ic.xu();o.sort((c,d)=>function(h,f){const m=E=>{switch(E){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return K()}};return m(h)-m(f)}(c.type,d.type)||this.tc(c.doc,d.doc)),this.oc(i);const a=r?this.uc():[],l=this.Zu.size===0&&this.current?1:0,u=l!==this.Xu;return this.Xu=l,o.length!==0||u?{snapshot:new Ms(this.query,t.ec,s,o,t.mutatedKeys,l===0,u,!1,!!i&&i.resumeToken.approximateByteSize()>0),cc:a}:{cc:a}}Mu(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({ec:this.ec,ic:new Y0,mutatedKeys:this.mutatedKeys,zi:!1},!1)):{cc:[]}}ac(t){return!this.Yu.has(t)&&!!this.ec.has(t)&&!this.ec.get(t).hasLocalMutations}oc(t){t&&(t.addedDocuments.forEach(r=>this.Yu=this.Yu.add(r)),t.modifiedDocuments.forEach(r=>{}),t.removedDocuments.forEach(r=>this.Yu=this.Yu.delete(r)),this.current=t.current)}uc(){if(!this.current)return[];const t=this.Zu;this.Zu=te(),this.ec.forEach(i=>{this.ac(i.key)&&(this.Zu=this.Zu.add(i.key))});const r=[];return t.forEach(i=>{this.Zu.has(i)||r.push(new d_(i))}),this.Zu.forEach(i=>{t.has(i)||r.push(new c_(i))}),r}hc(t){this.Yu=t.ir,this.Zu=te();const r=this.sc(t.documents);return this.applyChanges(r,!0)}lc(){return Ms.fromInitialDocuments(this.query,this.ec,this.mutatedKeys,this.Xu===0,this.hasCachedResults)}}class xM{constructor(t,r,i){this.query=t,this.targetId=r,this.view=i}}class NM{constructor(t){this.key=t,this.fc=!1}}class bM{constructor(t,r,i,s,o,a){this.localStore=t,this.remoteStore=r,this.eventManager=i,this.sharedClientState=s,this.currentUser=o,this.maxConcurrentLimboResolutions=a,this.dc={},this.wc=new Xs(l=>NT(l),td),this._c=new Map,this.mc=new Set,this.gc=new $e(j.comparator),this.yc=new Map,this.Ic=new Sg,this.Tc={},this.Ec=new Map,this.Ac=Os.Mn(),this.onlineState="Unknown",this.vc=void 0}get isPrimaryClient(){return this.vc===!0}}async function DM(n,t){const r=zM(n);let i,s;const o=r.wc.get(t);if(o)i=o.targetId,r.sharedClientState.addLocalQueryTarget(i),s=o.view.lc();else{const a=await ZO(r.localStore,ir(t)),l=r.sharedClientState.addLocalQueryTarget(a.targetId);i=a.targetId,s=await PM(r,t,i,l==="current",a.resumeToken),r.isPrimaryClient&&r_(r.remoteStore,a)}return s}async function PM(n,t,r,i,s){n.Rc=(h,f,m)=>async function(E,S,I,y){let p=S.view.sc(I);p.zi&&(p=await q0(E.localStore,S.query,!1).then(({documents:C})=>S.view.sc(C,p)));const v=y&&y.targetChanges.get(S.targetId),g=S.view.applyChanges(p,E.isPrimaryClient,v);return J0(E,S.targetId,g.cc),g.snapshot}(n,h,f,m);const o=await q0(n.localStore,t,!0),a=new RM(t,o.ir),l=a.sc(o.documents),u=rl.createSynthesizedTargetChangeForCurrentChange(r,i&&n.onlineState!=="Offline",s),c=a.applyChanges(l,n.isPrimaryClient,u);J0(n,r,c.cc);const d=new xM(t,r,a);return n.wc.set(t,d),n._c.has(r)?n._c.get(r).push(t):n._c.set(r,[t]),c.snapshot}async function $M(n,t){const r=ee(n),i=r.wc.get(t),s=r._c.get(i.targetId);if(s.length>1)return r._c.set(i.targetId,s.filter(o=>!td(o,t))),void r.wc.delete(t);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await hp(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),i_(r.remoteStore,i.targetId),fp(r,i.targetId)}).catch(Za)):(fp(r,i.targetId),await hp(r.localStore,i.targetId,!0))}async function OM(n,t,r){const i=BM(n);try{const s=await function(o,a){const l=ee(o),u=We.now(),c=a.reduce((f,m)=>f.add(m.key),te());let d,h;return l.persistence.runTransaction("Locally write mutations","readwrite",f=>{let m=sr(),E=te();return l.Zi.getEntries(f,c).next(S=>{m=S,m.forEach((I,y)=>{y.isValidDocument()||(E=E.add(I))})}).next(()=>l.localDocuments.getOverlayedDocuments(f,m)).next(S=>{d=S;const I=[];for(const y of a){const p=sO(y,d.get(y.key).overlayedDocument);p!=null&&I.push(new Fi(y.key,p,ET(p.value.mapValue),Qn.exists(!0)))}return l.mutationQueue.addMutationBatch(f,u,I,a)}).next(S=>{h=S;const I=S.applyToLocalDocumentSet(d,E);return l.documentOverlayCache.saveOverlays(f,S.batchId,I)})}).then(()=>({batchId:h.batchId,changes:PT(d)}))}(i.localStore,t);i.sharedClientState.addPendingMutation(s.batchId),function(o,a,l){let u=o.Tc[o.currentUser.toKey()];u||(u=new $e(ce)),u=u.insert(a,l),o.Tc[o.currentUser.toKey()]=u}(i,s.batchId,r),await sl(i,s.changes),await ld(i.remoteStore)}catch(s){const o=Rg(s,"Failed to persist write");r.reject(o)}}async function h_(n,t){const r=ee(n);try{const i=await YO(r.localStore,t);t.targetChanges.forEach((s,o)=>{const a=r.yc.get(o);a&&(Ce(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1),s.addedDocuments.size>0?a.fc=!0:s.modifiedDocuments.size>0?Ce(a.fc):s.removedDocuments.size>0&&(Ce(a.fc),a.fc=!1))}),await sl(r,i,t)}catch(i){await Za(i)}}function X0(n,t,r){const i=ee(n);if(i.isPrimaryClient&&r===0||!i.isPrimaryClient&&r===1){const s=[];i.wc.forEach((o,a)=>{const l=a.view.Mu(t);l.snapshot&&s.push(l.snapshot)}),function(o,a){const l=ee(o);l.onlineState=a;let u=!1;l.queries.forEach((c,d)=>{for(const h of d.listeners)h.Mu(a)&&(u=!0)}),u&&xg(l)}(i.eventManager,t),s.length&&i.dc.nu(s),i.onlineState=t,i.isPrimaryClient&&i.sharedClientState.setOnlineState(t)}}async function MM(n,t,r){const i=ee(n);i.sharedClientState.updateQueryState(t,"rejected",r);const s=i.yc.get(t),o=s&&s.key;if(o){let a=new $e(j.comparator);a=a.insert(o,yt.newNoDocument(o,Z.min()));const l=te().add(o),u=new sd(Z.min(),new Map,new $e(ce),a,l);await h_(i,u),i.gc=i.gc.remove(o),i.yc.delete(t),Ng(i)}else await hp(i.localStore,t,!1).then(()=>fp(i,t,r)).catch(Za)}async function LM(n,t){const r=ee(n),i=t.batch.batchId;try{const s=await QO(r.localStore,t);p_(r,i,null),f_(r,i),r.sharedClientState.updateMutationState(i,"acknowledged"),await sl(r,s)}catch(s){await Za(s)}}async function FM(n,t,r){const i=ee(n);try{const s=await function(o,a){const l=ee(o);return l.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let c;return l.mutationQueue.lookupMutationBatch(u,a).next(d=>(Ce(d!==null),c=d.keys(),l.mutationQueue.removeMutationBatch(u,d))).next(()=>l.mutationQueue.performConsistencyCheck(u)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(u,c,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,c)).next(()=>l.localDocuments.getDocuments(u,c))})}(i.localStore,t);p_(i,t,r),f_(i,t),i.sharedClientState.updateMutationState(t,"rejected",r),await sl(i,s)}catch(s){await Za(s)}}function f_(n,t){(n.Ec.get(t)||[]).forEach(r=>{r.resolve()}),n.Ec.delete(t)}function p_(n,t,r){const i=ee(n);let s=i.Tc[i.currentUser.toKey()];if(s){const o=s.get(t);o&&(r?o.reject(r):o.resolve(),s=s.remove(t)),i.Tc[i.currentUser.toKey()]=s}}function fp(n,t,r=null){n.sharedClientState.removeLocalQueryTarget(t);for(const i of n._c.get(t))n.wc.delete(i),r&&n.dc.Pc(i,r);n._c.delete(t),n.isPrimaryClient&&n.Ic.Is(t).forEach(i=>{n.Ic.containsKey(i)||m_(n,i)})}function m_(n,t){n.mc.delete(t.path.canonicalString());const r=n.gc.get(t);r!==null&&(i_(n.remoteStore,r),n.gc=n.gc.remove(t),n.yc.delete(r),Ng(n))}function J0(n,t,r){for(const i of r)i instanceof c_?(n.Ic.addReference(i.key,t),UM(n,i)):i instanceof d_?(F("SyncEngine","Document no longer in limbo: "+i.key),n.Ic.removeReference(i.key,t),n.Ic.containsKey(i.key)||m_(n,i.key)):K()}function UM(n,t){const r=t.key,i=r.path.canonicalString();n.gc.get(r)||n.mc.has(i)||(F("SyncEngine","New document in limbo: "+r),n.mc.add(i),Ng(n))}function Ng(n){for(;n.mc.size>0&&n.gc.size<n.maxConcurrentLimboResolutions;){const t=n.mc.values().next().value;n.mc.delete(t);const r=new j(Te.fromString(t)),i=n.Ac.next();n.yc.set(i,new NM(r)),n.gc=n.gc.insert(r,i),r_(n.remoteStore,new Cr(ir(AT(r.path)),i,"TargetPurposeLimboResolution",cg.ct))}}async function sl(n,t,r){const i=ee(n),s=[],o=[],a=[];i.wc.isEmpty()||(i.wc.forEach((l,u)=>{a.push(i.Rc(u,t,r).then(c=>{if((c||r)&&i.isPrimaryClient&&i.sharedClientState.updateQueryState(u.targetId,c!=null&&c.fromCache?"not-current":"current"),c){s.push(c);const d=Tg.Li(u.targetId,c);o.push(d)}}))}),await Promise.all(a),i.dc.nu(s),await async function(l,u){const c=ee(l);try{await c.persistence.runTransaction("notifyLocalViewChanges","readwrite",d=>N.forEach(u,h=>N.forEach(h.Fi,f=>c.persistence.referenceDelegate.addReference(d,h.targetId,f)).next(()=>N.forEach(h.Bi,f=>c.persistence.referenceDelegate.removeReference(d,h.targetId,f)))))}catch(d){if(!el(d))throw d;F("LocalStore","Failed to update sequence numbers: "+d)}for(const d of u){const h=d.targetId;if(!d.fromCache){const f=c.Ji.get(h),m=f.snapshotVersion,E=f.withLastLimboFreeSnapshotVersion(m);c.Ji=c.Ji.insert(h,E)}}}(i.localStore,o))}async function VM(n,t){const r=ee(n);if(!r.currentUser.isEqual(t)){F("SyncEngine","User change. New user:",t.toKey());const i=await ZT(r.localStore,t);r.currentUser=t,function(s,o){s.Ec.forEach(a=>{a.forEach(l=>{l.reject(new L(k.CANCELLED,o))})}),s.Ec.clear()}(r,"'waitForPendingWrites' promise is rejected due to a user change."),r.sharedClientState.handleUserChange(t,i.removedBatchIds,i.addedBatchIds),await sl(r,i.er)}}function jM(n,t){const r=ee(n),i=r.yc.get(t);if(i&&i.fc)return te().add(i.key);{let s=te();const o=r._c.get(t);if(!o)return s;for(const a of o){const l=r.wc.get(a);s=s.unionWith(l.view.nc)}return s}}function zM(n){const t=ee(n);return t.remoteStore.remoteSyncer.applyRemoteEvent=h_.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=jM.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=MM.bind(null,t),t.dc.nu=CM.bind(null,t.eventManager),t.dc.Pc=kM.bind(null,t.eventManager),t}function BM(n){const t=ee(n);return t.remoteStore.remoteSyncer.applySuccessfulWrite=LM.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=FM.bind(null,t),t}class Z0{constructor(){this.synchronizeTabs=!1}async initialize(t){this.serializer=od(t.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(t),this.persistence=this.createPersistence(t),await this.persistence.start(),this.localStore=this.createLocalStore(t),this.gcScheduler=this.createGarbageCollectionScheduler(t,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(t,this.localStore)}createGarbageCollectionScheduler(t,r){return null}createIndexBackfillerScheduler(t,r){return null}createLocalStore(t){return GO(this.persistence,new qO,t.initialUser,this.serializer)}createPersistence(t){return new HO(Ig.zs,this.serializer)}createSharedClientState(t){return new tM}async terminate(){this.gcScheduler&&this.gcScheduler.stop(),await this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class HM{async initialize(t,r){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(r),this.remoteStore=this.createRemoteStore(r),this.eventManager=this.createEventManager(r),this.syncEngine=this.createSyncEngine(r,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>X0(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=VM.bind(null,this.syncEngine),await EM(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return new IM}createDatastore(t){const r=od(t.databaseInfo.databaseId),i=(s=t.databaseInfo,new sM(s));var s;return function(o,a,l,u){return new lM(o,a,l,u)}(t.authCredentials,t.appCheckCredentials,i,r)}createRemoteStore(t){return r=this.localStore,i=this.datastore,s=t.asyncQueue,o=l=>X0(this.syncEngine,l,0),a=G0.D()?new G0:new nM,new cM(r,i,s,o,a);var r,i,s,o,a}createSyncEngine(t,r){return function(i,s,o,a,l,u,c){const d=new bM(i,s,o,a,l,u);return c&&(d.vc=!0),d}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,r)}terminate(){return async function(t){const r=ee(t);F("RemoteStore","RemoteStore shutting down."),r.vu.add(5),await il(r),r.Pu.shutdown(),r.bu.set("Unknown")}(this.remoteStore)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WM{constructor(t){this.observer=t,this.muted=!1}next(t){this.observer.next&&this.Sc(this.observer.next,t)}error(t){this.observer.error?this.Sc(this.observer.error,t):rr("Uncaught Error in snapshot listener:",t.toString())}Dc(){this.muted=!0}Sc(t,r){this.muted||setTimeout(()=>{this.muted||t(r)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qM{constructor(t,r,i,s){this.authCredentials=t,this.appCheckCredentials=r,this.asyncQueue=i,this.databaseInfo=s,this.user=mt.UNAUTHENTICATED,this.clientId=yT.A(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(i,async o=>{F("FirestoreClient","Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(i,o=>(F("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}async getConfiguration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new L(k.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const t=new Fr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(r){const i=Rg(r,"Failed to shutdown persistence");t.reject(i)}}),t.promise}}async function Ch(n,t){n.asyncQueue.verifyOperationInProgress(),F("FirestoreClient","Initializing OfflineComponentProvider");const r=await n.getConfiguration();await t.initialize(r);let i=r.initialUser;n.setCredentialChangeListener(async s=>{i.isEqual(s)||(await ZT(t.localStore,s),i=s)}),t.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=t}async function ew(n,t){n.asyncQueue.verifyOperationInProgress();const r=await GM(n);F("FirestoreClient","Initializing OnlineComponentProvider");const i=await n.getConfiguration();await t.initialize(r,i),n.setCredentialChangeListener(s=>Q0(t.remoteStore,s)),n.setAppCheckTokenChangeListener((s,o)=>Q0(t.remoteStore,o)),n._onlineComponents=t}function KM(n){return n.name==="FirebaseError"?n.code===k.FAILED_PRECONDITION||n.code===k.UNIMPLEMENTED:!(typeof DOMException<"u"&&n instanceof DOMException)||n.code===22||n.code===20||n.code===11}async function GM(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){F("FirestoreClient","Using user provided OfflineComponentProvider");try{await Ch(n,n._uninitializedComponentsProvider._offline)}catch(t){const r=t;if(!KM(r))throw r;bs("Error using user provided cache. Falling back to memory cache: "+r),await Ch(n,new Z0)}}else F("FirestoreClient","Using default OfflineComponentProvider"),await Ch(n,new Z0);return n._offlineComponents}async function g_(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(F("FirestoreClient","Using user provided OnlineComponentProvider"),await ew(n,n._uninitializedComponentsProvider._online)):(F("FirestoreClient","Using default OnlineComponentProvider"),await ew(n,new HM))),n._onlineComponents}function QM(n){return g_(n).then(t=>t.syncEngine)}async function YM(n){const t=await g_(n),r=t.eventManager;return r.onListen=DM.bind(null,t.syncEngine),r.onUnlisten=$M.bind(null,t.syncEngine),r}function XM(n,t,r={}){const i=new Fr;return n.asyncQueue.enqueueAndForget(async()=>function(s,o,a,l,u){const c=new WM({next:h=>{o.enqueueAndForget(()=>_M(s,d)),h.fromCache&&l.source==="server"?u.reject(new L(k.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):u.resolve(h)},error:h=>u.reject(h)}),d=new AM(a,c,{includeMetadataChanges:!0,Ku:!0});return TM(s,d)}(await YM(n),n.asyncQueue,t,r,i)),i.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function y_(n){const t={};return n.timeoutSeconds!==void 0&&(t.timeoutSeconds=n.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tw=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function v_(n,t,r){if(!r)throw new L(k.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${t}.`)}function JM(n,t,r,i){if(t===!0&&i===!0)throw new L(k.INVALID_ARGUMENT,`${n} and ${r} cannot be used together.`)}function nw(n){if(!j.isDocumentKey(n))throw new L(k.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function rw(n){if(j.isDocumentKey(n))throw new L(k.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function ud(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const t=function(r){return r.constructor?r.constructor.name:null}(n);return t?`a custom ${t} object`:"an object"}}return typeof n=="function"?"a function":K()}function uc(n,t){if("_delegate"in n&&(n=n._delegate),!(n instanceof t)){if(t.name===n.constructor.name)throw new L(k.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const r=ud(n);throw new L(k.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${r}`)}}return n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iw{constructor(t){var r,i;if(t.host===void 0){if(t.ssl!==void 0)throw new L(k.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=(r=t.ssl)===null||r===void 0||r;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.cache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<1048576)throw new L(k.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}JM("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=y_((i=t.experimentalLongPollingOptions)!==null&&i!==void 0?i:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new L(k.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new L(k.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new L(k.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&(r=this.experimentalLongPollingOptions,i=t.experimentalLongPollingOptions,r.timeoutSeconds===i.timeoutSeconds)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams;var r,i}}class cd{constructor(t,r,i,s){this._authCredentials=t,this._appCheckCredentials=r,this._databaseId=i,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new iw({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new L(k.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(t){if(this._settingsFrozen)throw new L(k.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new iw(t),t.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new y$;switch(r.type){case"firstParty":return new S$(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new L(k.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const r=tw.get(t);r&&(F("ComponentProvider","Removing Datastore"),tw.delete(t),r.terminate())}(this),Promise.resolve()}}function ZM(n,t,r,i={}){var s;const o=(n=uc(n,cd))._getSettings();if(o.host!=="firestore.googleapis.com"&&o.host!==t&&bs("Host has been set in both settings() and useEmulator(), emulator host will be used"),n._setSettings(Object.assign(Object.assign({},o),{host:`${t}:${r}`,ssl:!1})),i.mockUserToken){let a,l;if(typeof i.mockUserToken=="string")a=i.mockUserToken,l=mt.MOCK_USER;else{a=ux(i.mockUserToken,(s=n._app)===null||s===void 0?void 0:s.options.projectId);const u=i.mockUserToken.sub||i.mockUserToken.user_id;if(!u)throw new L(k.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new mt(u)}n._authCredentials=new v$(new gT(a,l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rn{constructor(t,r,i){this.converter=r,this._key=i,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ur(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new rn(this.firestore,t,this._key)}}class Zs{constructor(t,r,i){this.converter=r,this._query=i,this.type="query",this.firestore=t}withConverter(t){return new Zs(this.firestore,t,this._query)}}class Ur extends Zs{constructor(t,r,i){super(t,r,AT(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new rn(this.firestore,null,new j(t))}withConverter(t){return new Ur(this.firestore,t,this._path)}}function w_(n,t,...r){if(n=xt(n),v_("collection","path",t),n instanceof cd){const i=Te.fromString(t,...r);return rw(i),new Ur(n,null,i)}{if(!(n instanceof rn||n instanceof Ur))throw new L(k.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(Te.fromString(t,...r));return rw(i),new Ur(n.firestore,null,i)}}function eL(n,t,...r){if(n=xt(n),arguments.length===1&&(t=yT.A()),v_("doc","path",t),n instanceof cd){const i=Te.fromString(t,...r);return nw(i),new rn(n,null,new j(i))}{if(!(n instanceof rn||n instanceof Ur))throw new L(k.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(Te.fromString(t,...r));return nw(i),new rn(n.firestore,n instanceof Ur?n.converter:null,new j(i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tL{constructor(){this.Gc=Promise.resolve(),this.Qc=[],this.jc=!1,this.zc=[],this.Wc=null,this.Hc=!1,this.Jc=!1,this.Yc=[],this.qo=new t_(this,"async_queue_retry"),this.Xc=()=>{const r=_h();r&&F("AsyncQueue","Visibility state changed to "+r.visibilityState),this.qo.Mo()};const t=_h();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.Xc)}get isShuttingDown(){return this.jc}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.Zc(),this.ta(t)}enterRestrictedMode(t){if(!this.jc){this.jc=!0,this.Jc=t||!1;const r=_h();r&&typeof r.removeEventListener=="function"&&r.removeEventListener("visibilitychange",this.Xc)}}enqueue(t){if(this.Zc(),this.jc)return new Promise(()=>{});const r=new Fr;return this.ta(()=>this.jc&&this.Jc?Promise.resolve():(t().then(r.resolve,r.reject),r.promise)).then(()=>r.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.Qc.push(t),this.ea()))}async ea(){if(this.Qc.length!==0){try{await this.Qc[0](),this.Qc.shift(),this.qo.reset()}catch(t){if(!el(t))throw t;F("AsyncQueue","Operation failed with retryable error: "+t)}this.Qc.length>0&&this.qo.No(()=>this.ea())}}ta(t){const r=this.Gc.then(()=>(this.Hc=!0,t().catch(i=>{this.Wc=i,this.Hc=!1;const s=function(o){let a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),a}(i);throw rr("INTERNAL UNHANDLED ERROR: ",s),i}).then(i=>(this.Hc=!1,i))));return this.Gc=r,r}enqueueAfterDelay(t,r,i){this.Zc(),this.Yc.indexOf(t)>-1&&(r=0);const s=Ag.createAndSchedule(this,t,r,i,o=>this.na(o));return this.zc.push(s),s}Zc(){this.Wc&&K()}verifyOperationInProgress(){}async sa(){let t;do t=this.Gc,await t;while(t!==this.Gc)}ia(t){for(const r of this.zc)if(r.timerId===t)return!0;return!1}ra(t){return this.sa().then(()=>{this.zc.sort((r,i)=>r.targetTimeMs-i.targetTimeMs);for(const r of this.zc)if(r.skipDelay(),t!=="all"&&r.timerId===t)break;return this.sa()})}oa(t){this.Yc.push(t)}na(t){const r=this.zc.indexOf(t);this.zc.splice(r,1)}}class bg extends cd{constructor(t,r,i,s){super(t,r,i,s),this.type="firestore",this._queue=new tL,this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||S_(this),this._firestoreClient.terminate()}}function nL(n,t){const r=typeof n=="object"?n:Cm(),i=typeof n=="string"?n:t||"(default)",s=Mi(r,"firestore").getImmediate({identifier:i});if(!s._initialized){const o=ax("firestore");o&&ZM(s,...o)}return s}function E_(n){return n._firestoreClient||S_(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function S_(n){var t,r,i;const s=n._freezeSettings(),o=function(a,l,u,c){return new P$(a,l,u,c.host,c.ssl,c.experimentalForceLongPolling,c.experimentalAutoDetectLongPolling,y_(c.experimentalLongPollingOptions),c.useFetchStreams)}(n._databaseId,((t=n._app)===null||t===void 0?void 0:t.options.appId)||"",n._persistenceKey,s);n._firestoreClient=new qM(n._authCredentials,n._appCheckCredentials,n._queue,o),!((r=s.cache)===null||r===void 0)&&r._offlineComponentProvider&&(!((i=s.cache)===null||i===void 0)&&i._onlineComponentProvider)&&(n._firestoreClient._uninitializedComponentsProvider={_offlineKind:s.cache.kind,_offline:s.cache._offlineComponentProvider,_online:s.cache._onlineComponentProvider})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ls{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Ls(Wt.fromBase64String(t))}catch(r){throw new L(k.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+r)}}static fromUint8Array(t){return new Ls(Wt.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dg{constructor(...t){for(let r=0;r<t.length;++r)if(t[r].length===0)throw new L(k.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new vt(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I_{constructor(t){this._methodName=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pg{constructor(t,r){if(!isFinite(t)||t<-90||t>90)throw new L(k.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(r)||r<-180||r>180)throw new L(k.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+r);this._lat=t,this._long=r}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(t){return ce(this._lat,t._lat)||ce(this._long,t._long)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rL=/^__.*__$/;class iL{constructor(t,r,i){this.data=t,this.fieldMask=r,this.fieldTransforms=i}toMutation(t,r){return this.fieldMask!==null?new Fi(t,this.data,this.fieldMask,r,this.fieldTransforms):new nl(t,this.data,r,this.fieldTransforms)}}function T_(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw K()}}class $g{constructor(t,r,i,s,o,a){this.settings=t,this.databaseId=r,this.serializer=i,this.ignoreUndefinedProperties=s,o===void 0&&this.ua(),this.fieldTransforms=o||[],this.fieldMask=a||[]}get path(){return this.settings.path}get ca(){return this.settings.ca}aa(t){return new $g(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ha(t){var r;const i=(r=this.path)===null||r===void 0?void 0:r.child(t),s=this.aa({path:i,la:!1});return s.fa(t),s}da(t){var r;const i=(r=this.path)===null||r===void 0?void 0:r.child(t),s=this.aa({path:i,la:!1});return s.ua(),s}wa(t){return this.aa({path:void 0,la:!0})}_a(t){return cc(t,this.settings.methodName,this.settings.ma||!1,this.path,this.settings.ga)}contains(t){return this.fieldMask.find(r=>t.isPrefixOf(r))!==void 0||this.fieldTransforms.find(r=>t.isPrefixOf(r.field))!==void 0}ua(){if(this.path)for(let t=0;t<this.path.length;t++)this.fa(this.path.get(t))}fa(t){if(t.length===0)throw this._a("Document fields must not be empty");if(T_(this.ca)&&rL.test(t))throw this._a('Document fields cannot begin and end with "__"')}}class sL{constructor(t,r,i){this.databaseId=t,this.ignoreUndefinedProperties=r,this.serializer=i||od(t)}ya(t,r,i,s=!1){return new $g({ca:t,methodName:r,ga:i,path:vt.emptyPath(),la:!1,ma:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function __(n){const t=n._freezeSettings(),r=od(n._databaseId);return new sL(n._databaseId,!!t.ignoreUndefinedProperties,r)}function oL(n,t,r,i,s,o={}){const a=n.ya(o.merge||o.mergeFields?2:0,t,r,s);A_("Data must be an object, but it was:",a,i);const l=C_(i,a);let u,c;if(o.merge)u=new _r(a.fieldMask),c=a.fieldTransforms;else if(o.mergeFields){const d=[];for(const h of o.mergeFields){const f=lL(t,h,r);if(!a.contains(f))throw new L(k.INVALID_ARGUMENT,`Field '${f}' is specified in your field mask but missing from your input data.`);cL(d,f)||d.push(f)}u=new _r(d),c=a.fieldTransforms.filter(h=>u.covers(h.field))}else u=null,c=a.fieldTransforms;return new iL(new Jt(l),u,c)}function aL(n,t,r,i=!1){return Og(r,n.ya(i?4:3,t))}function Og(n,t){if(k_(n=xt(n)))return A_("Unsupported field value:",t,n),C_(n,t);if(n instanceof I_)return function(r,i){if(!T_(i.ca))throw i._a(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i._a(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(n,t),null;if(n===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),n instanceof Array){if(t.settings.la&&t.ca!==4)throw t._a("Nested arrays are not supported");return function(r,i){const s=[];let o=0;for(const a of r){let l=Og(a,i.wa(o));l==null&&(l={nullValue:"NULL_VALUE"}),s.push(l),o++}return{arrayValue:{values:s}}}(n,t)}return function(r,i){if((r=xt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return Z$(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const s=We.fromDate(r);return{timestampValue:ac(i.serializer,s)}}if(r instanceof We){const s=new We(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:ac(i.serializer,s)}}if(r instanceof Pg)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Ls)return{bytesValue:KT(i.serializer,r._byteString)};if(r instanceof rn){const s=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(s))throw i._a(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:Eg(r.firestore._databaseId||i.databaseId,r._key.path)}}throw i._a(`Unsupported field value: ${ud(r)}`)}(n,t)}function C_(n,t){const r={};return vT(n)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Ys(n,(i,s)=>{const o=Og(s,t.ha(i));o!=null&&(r[i]=o)}),{mapValue:{fields:r}}}function k_(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof We||n instanceof Pg||n instanceof Ls||n instanceof rn||n instanceof I_)}function A_(n,t,r){if(!k_(r)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(r)){const i=ud(r);throw i==="an object"?t._a(n+" a custom object"):t._a(n+" "+i)}}function lL(n,t,r){if((t=xt(t))instanceof Dg)return t._internalPath;if(typeof t=="string")return R_(n,t);throw cc("Field path arguments must be of type string or ",n,!1,void 0,r)}const uL=new RegExp("[~\\*/\\[\\]]");function R_(n,t,r){if(t.search(uL)>=0)throw cc(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,r);try{return new Dg(...t.split("."))._internalPath}catch{throw cc(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,r)}}function cc(n,t,r,i,s){const o=i&&!i.isEmpty(),a=s!==void 0;let l=`Function ${t}() called with invalid data`;r&&(l+=" (via `toFirestore()`)"),l+=". ";let u="";return(o||a)&&(u+=" (found",o&&(u+=` in field ${i}`),a&&(u+=` in document ${s}`),u+=")"),new L(k.INVALID_ARGUMENT,l+n+u)}function cL(n,t){return n.some(r=>r.isEqual(t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x_{constructor(t,r,i,s,o){this._firestore=t,this._userDataWriter=r,this._key=i,this._document=s,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new rn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new dL(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const r=this._document.data.field(Mg("DocumentSnapshot.get",t));if(r!==null)return this._userDataWriter.convertValue(r)}}}class dL extends x_{data(){return super.data()}}function Mg(n,t){return typeof t=="string"?R_(n,t):t instanceof Dg?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hL(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new L(k.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Lg{}class fL extends Lg{}function pL(n,t,...r){let i=[];t instanceof Lg&&i.push(t),i=i.concat(r),function(s){const o=s.filter(l=>l instanceof Fg).length,a=s.filter(l=>l instanceof dd).length;if(o>1||o>0&&a>0)throw new L(k.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(i);for(const s of i)n=s._apply(n);return n}class dd extends fL{constructor(t,r,i){super(),this._field=t,this._op=r,this._value=i,this.type="where"}static _create(t,r,i){return new dd(t,r,i)}_apply(t){const r=this._parse(t);return N_(t._query,r),new Zs(t.firestore,t.converter,sp(t._query,r))}_parse(t){const r=__(t.firestore);return function(s,o,a,l,u,c,d){let h;if(u.isKeyField()){if(c==="array-contains"||c==="array-contains-any")throw new L(k.INVALID_ARGUMENT,`Invalid Query. You can't perform '${c}' queries on documentId().`);if(c==="in"||c==="not-in"){ow(d,c);const f=[];for(const m of d)f.push(sw(l,s,m));h={arrayValue:{values:f}}}else h=sw(l,s,d)}else c!=="in"&&c!=="not-in"&&c!=="array-contains-any"||ow(d,c),h=aL(a,o,d,c==="in"||c==="not-in");return He.create(u,c,h)}(t._query,"where",r,t.firestore._databaseId,this._field,this._op,this._value)}}function mL(n,t,r){const i=t,s=Mg("where",n);return dd._create(s,i,r)}class Fg extends Lg{constructor(t,r){super(),this.type=t,this._queryConstraints=r}static _create(t,r){return new Fg(t,r)}_parse(t){const r=this._queryConstraints.map(i=>i._parse(t)).filter(i=>i.getFilters().length>0);return r.length===1?r[0]:En.create(r,this._getOperator())}_apply(t){const r=this._parse(t);return r.getFilters().length===0?t:(function(i,s){let o=i;const a=s.getFlattenedFilters();for(const l of a)N_(o,l),o=sp(o,l)}(t._query,r),new Zs(t.firestore,t.converter,sp(t._query,r)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function sw(n,t,r){if(typeof(r=xt(r))=="string"){if(r==="")throw new L(k.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!xT(t)&&r.indexOf("/")!==-1)throw new L(k.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${r}' contains a '/' character.`);const i=t.path.child(Te.fromString(r));if(!j.isDocumentKey(i))throw new L(k.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return x0(n,new j(i))}if(r instanceof rn)return x0(n,r._key);throw new L(k.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${ud(r)}.`)}function ow(n,t){if(!Array.isArray(n)||n.length===0)throw new L(k.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function N_(n,t){if(t.isInequality()){const i=gg(n),s=t.field;if(i!==null&&!i.isEqual(s))throw new L(k.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${i.toString()}' and '${s.toString()}'`);const o=RT(n);o!==null&&gL(n,s,o)}const r=function(i,s){for(const o of i)for(const a of o.getFlattenedFilters())if(s.indexOf(a.op)>=0)return a.op;return null}(n.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(r!==null)throw r===t.op?new L(k.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new L(k.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${r.toString()}' filters.`)}function gL(n,t,r){if(!r.isEqual(t))throw new L(k.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${t.toString()}' and so you must also use '${t.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${r.toString()}' instead.`)}class yL{convertValue(t,r="none"){switch(bi(t)){case 0:return null;case 1:return t.booleanValue;case 2:return ze(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,r);case 5:return t.stringValue;case 6:return this.convertBytes(Ni(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,r);case 10:return this.convertObject(t.mapValue,r);default:throw K()}}convertObject(t,r){return this.convertObjectMap(t.fields,r)}convertObjectMap(t,r="none"){const i={};return Ys(t,(s,o)=>{i[s]=this.convertValue(o,r)}),i}convertGeoPoint(t){return new Pg(ze(t.latitude),ze(t.longitude))}convertArray(t,r){return(t.values||[]).map(i=>this.convertValue(i,r))}convertServerTimestamp(t,r){switch(r){case"previous":const i=hg(t);return i==null?null:this.convertValue(i,r);case"estimate":return this.convertTimestamp(Aa(t));default:return null}}convertTimestamp(t){const r=Br(t);return new We(r.seconds,r.nanos)}convertDocumentKey(t,r){const i=Te.fromString(t);Ce(JT(i));const s=new Ra(i.get(1),i.get(3)),o=new j(i.popFirst(5));return s.isEqual(r)||rr(`Document ${o} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${r.projectId}/${r.database}) instead.`),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vL(n,t,r){let i;return i=n?r&&(r.merge||r.mergeFields)?n.toFirestore(t,r):n.toFirestore(t):t,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ul{constructor(t,r){this.hasPendingWrites=t,this.fromCache=r}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class wL extends x_{constructor(t,r,i,s,o,a){super(t,r,i,s,a),this._firestore=t,this._firestoreImpl=t,this.metadata=o}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const r=new uu(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(r,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,r={}){if(this._document){const i=this._document.data.field(Mg("DocumentSnapshot.get",t));if(i!==null)return this._userDataWriter.convertValue(i,r.serverTimestamps)}}}class uu extends wL{data(t={}){return super.data(t)}}class EL{constructor(t,r,i,s){this._firestore=t,this._userDataWriter=r,this._snapshot=s,this.metadata=new Ul(s.hasPendingWrites,s.fromCache),this.query=i}get docs(){const t=[];return this.forEach(r=>t.push(r)),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,r){this._snapshot.docs.forEach(i=>{t.call(r,new uu(this._firestore,this._userDataWriter,i.key,i,new Ul(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const r=!!t.includeMetadataChanges;if(r&&this._snapshot.excludesMetadataChanges)throw new L(k.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===r||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(a=>{const l=new uu(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Ul(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:l,oldIndex:-1,newIndex:o++}})}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>s||a.type!==3).map(a=>{const l=new uu(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Ul(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);let u=-1,c=-1;return a.type!==0&&(u=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),c=o.indexOf(a.doc.key)),{type:SL(a.type),doc:l,oldIndex:u,newIndex:c}})}}(this,r),this._cachedChangesIncludeMetadataChanges=r),this._cachedChanges}}function SL(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return K()}}class IL extends yL{constructor(t){super(),this.firestore=t}convertBytes(t){return new Ls(t)}convertReference(t){const r=this.convertDocumentKey(t,this.firestore._databaseId);return new rn(this.firestore,null,r)}}function TL(n){n=uc(n,Zs);const t=uc(n.firestore,bg),r=E_(t),i=new IL(t);return hL(n._query),XM(r,n._query).then(s=>new EL(t,i,n,s))}function b_(n,t){const r=uc(n.firestore,bg),i=eL(n),s=vL(n.converter,t);return _L(r,[oL(__(n.firestore),"addDoc",i._key,s,n.converter!==null,{}).toMutation(i._key,Qn.exists(!1))]).then(()=>i)}function _L(n,t){return function(r,i){const s=new Fr;return r.asyncQueue.enqueueAndForget(async()=>OM(await QM(r),i,s)),s.promise}(E_(n),t)}(function(n,t=!0){(function(r){Qs=r})(zs),Pn(new yn("firestore",(r,{instanceIdentifier:i,options:s})=>{const o=r.getProvider("app").getImmediate(),a=new bg(new w$(r.getProvider("auth-internal")),new T$(r.getProvider("app-check-internal")),function(l,u){if(!Object.prototype.hasOwnProperty.apply(l.options,["projectId"]))throw new L(k.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ra(l.options.projectId,u)}(o,i),o);return s=Object.assign({useFetchStreams:t},s),a._setSettings(s),a},"PUBLIC").setMultipleInstances(!0)),nn(_0,"3.12.0",n),nn(_0,"3.12.0","esm2017")})();const CL={apiKey:"AIzaSyCJP_Pb1wZ_pBCf9tIaGPq2gxRL_QdnuSE",authDomain:"todo-list-9b6c5.firebaseapp.com",databaseURL:"https://todo-list-9b6c5-default-rtdb.firebaseio.com",projectId:"todo-list-9b6c5",storageBucket:"todo-list-9b6c5.appspot.com",messagingSenderId:"486542627227",appId:"1:486542627227:web:dd3e1a8b50c56417fd113e",measurementId:"G-02WVH2390G"},Ug=oS(CL);i2(Ug);const D_=nL(Ug),Di=hP(Ug),kL=w_(D_,"users");function AL(){const[n,t]=w.useState({email:"",password:"",name:""});w.useState(!0);const r=$R();function i(s){s.preventDefault(),X2(Di,n.email,n.password).then(o=>{const l=o.user.uid;b_(kL,{user_id:l,name:n.name,email:n.email,todos:[]}),r("/")}).catch(o=>{const a=o.code,l=o.message;console.log(a,l)})}return B("div",{className:"flex justify-center items-center min-h-screen",children:Fe("form",{onSubmit:s=>i(s),className:"flex flex-col gap-6 justify-center items-center w-full max-w-xl",children:[B("h2",{className:"text-2xl",children:"Register"}),Fe("label",{className:"w-full",children:["Name",B("input",{required:!0,autoComplete:"given-name",value:n.name,className:"p-2 mt-1 text-black w-full rounded-xl",onChange:s=>t(o=>({...o,name:s.target.value}))})]}),Fe("label",{className:" w-full",children:["Email",B("input",{required:!0,type:"email",autoComplete:"email",value:n.email,className:"p-2 mt-1 text-black w-full rounded-xl",onChange:s=>t(o=>({...o,email:s.target.value}))})]}),Fe("label",{className:"w-full",children:["Password",B("input",{required:!0,value:n.password,type:"password",autoComplete:"new-password",className:"p-2 mt-1 text-black w-full rounded-xl",onChange:s=>t(o=>({...o,password:s.target.value}))})]}),B("button",{type:"submit",className:"bg-button p-2 mt-2 rounded-xl text-black w-full",children:"Register"}),B("a",{href:"/signin",className:"underline",children:"Have an account?"})]})})}function RL(){const[n,t]=w.useState({email:"",password:""});function r(){J2(Di,n.email,n.password).then(i=>{user=Di.currentUser,ME("/")}).catch(i=>{const s=i.code,o=i.message;console.log(s,o)})}return B("div",{className:"flex justify-center items-center min-h-screen",children:Fe("form",{onSubmit:()=>r(),className:"flex flex-col gap-6 justify-center items-center w-full max-w-xl",children:[B("div",{children:B("h2",{className:" text-2xl",children:"Signin"})}),Fe("label",{className:"w-full",children:["Email",B("input",{required:!0,type:"email",autoComplete:"username",value:n.email,className:"p-2 mt-1 text-black w-full rounded-xl",onChange:i=>t(s=>({...s,email:i.target.value}))})]}),Fe("label",{className:"w-full",children:["Password",B("input",{required:!0,value:n.password,type:"password",autoComplete:"current-password",className:"p-2 mt-1 text-black w-full rounded-xl",onChange:i=>t(s=>({...s,password:i.target.value}))})]}),B("button",{type:"submit",className:"bg-button p-2 mt-2 rounded-xl text-black w-full",children:"Signin"}),B("a",{href:"/register",children:"Need an account?"})]})})}var xL=Object.defineProperty,NL=(n,t,r)=>t in n?xL(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,kh=(n,t,r)=>(NL(n,typeof t!="symbol"?t+"":t,r),r);let bL=class{constructor(){kh(this,"current",this.detect()),kh(this,"handoffState","pending"),kh(this,"currentId",0)}set(t){this.current!==t&&(this.handoffState="pending",this.currentId=0,this.current=t)}reset(){this.set(this.detect())}nextId(){return++this.currentId}get isServer(){return this.current==="server"}get isClient(){return this.current==="client"}detect(){return typeof window>"u"||typeof document>"u"?"server":"client"}handoff(){this.handoffState==="pending"&&(this.handoffState="complete")}get isHandoffComplete(){return this.handoffState==="complete"}},Yn=new bL,Jr=(n,t)=>{Yn.isServer?w.useEffect(n,t):w.useLayoutEffect(n,t)};function hd(n){let t=w.useRef(n);return Jr(()=>{t.current=n},[n]),t}function ol(n){typeof queueMicrotask=="function"?queueMicrotask(n):Promise.resolve().then(n).catch(t=>setTimeout(()=>{throw t}))}function Vg(){let n=[],t={addEventListener(r,i,s,o){return r.addEventListener(i,s,o),t.add(()=>r.removeEventListener(i,s,o))},requestAnimationFrame(...r){let i=requestAnimationFrame(...r);return t.add(()=>cancelAnimationFrame(i))},nextFrame(...r){return t.requestAnimationFrame(()=>t.requestAnimationFrame(...r))},setTimeout(...r){let i=setTimeout(...r);return t.add(()=>clearTimeout(i))},microTask(...r){let i={current:!0};return ol(()=>{i.current&&r[0]()}),t.add(()=>{i.current=!1})},style(r,i,s){let o=r.style.getPropertyValue(i);return Object.assign(r.style,{[i]:s}),this.add(()=>{Object.assign(r.style,{[i]:o})})},group(r){let i=Vg();return r(i),this.add(()=>i.dispose())},add(r){return n.push(r),()=>{let i=n.indexOf(r);if(i>=0)for(let s of n.splice(i,1))s()}},dispose(){for(let r of n.splice(0))r()}};return t}function DL(){let[n]=w.useState(Vg);return w.useEffect(()=>()=>n.dispose(),[n]),n}let en=function(n){let t=hd(n);return ye.useCallback((...r)=>t.current(...r),[t])};function fd(){let[n,t]=w.useState(Yn.isHandoffComplete);return n&&Yn.isHandoffComplete===!1&&t(!1),w.useEffect(()=>{n!==!0&&t(!0)},[n]),w.useEffect(()=>Yn.handoff(),[]),n}var aw;let eo=(aw=ye.useId)!=null?aw:function(){let n=fd(),[t,r]=ye.useState(n?()=>Yn.nextId():null);return Jr(()=>{t===null&&r(Yn.nextId())},[t]),t!=null?""+t:void 0};function Wr(n,t,...r){if(n in t){let s=t[n];return typeof s=="function"?s(...r):s}let i=new Error(`Tried to handle "${n}" but there is no handler defined. Only defined handlers are: ${Object.keys(t).map(s=>`"${s}"`).join(", ")}.`);throw Error.captureStackTrace&&Error.captureStackTrace(i,Wr),i}function P_(n){return Yn.isServer?null:n instanceof Node?n.ownerDocument:n!=null&&n.hasOwnProperty("current")&&n.current instanceof Node?n.current.ownerDocument:document}let pp=["[contentEditable=true]","[tabindex]","a[href]","area[href]","button:not([disabled])","iframe","input:not([disabled])","select:not([disabled])","textarea:not([disabled])"].map(n=>`${n}:not([tabindex='-1'])`).join(",");var ni=(n=>(n[n.First=1]="First",n[n.Previous=2]="Previous",n[n.Next=4]="Next",n[n.Last=8]="Last",n[n.WrapAround=16]="WrapAround",n[n.NoScroll=32]="NoScroll",n))(ni||{}),$_=(n=>(n[n.Error=0]="Error",n[n.Overflow=1]="Overflow",n[n.Success=2]="Success",n[n.Underflow=3]="Underflow",n))($_||{}),PL=(n=>(n[n.Previous=-1]="Previous",n[n.Next=1]="Next",n))(PL||{});function $L(n=document.body){return n==null?[]:Array.from(n.querySelectorAll(pp)).sort((t,r)=>Math.sign((t.tabIndex||Number.MAX_SAFE_INTEGER)-(r.tabIndex||Number.MAX_SAFE_INTEGER)))}var O_=(n=>(n[n.Strict=0]="Strict",n[n.Loose=1]="Loose",n))(O_||{});function OL(n,t=0){var r;return n===((r=P_(n))==null?void 0:r.body)?!1:Wr(t,{[0](){return n.matches(pp)},[1](){let i=n;for(;i!==null;){if(i.matches(pp))return!0;i=i.parentElement}return!1}})}var ML=(n=>(n[n.Keyboard=0]="Keyboard",n[n.Mouse=1]="Mouse",n))(ML||{});typeof window<"u"&&typeof document<"u"&&(document.addEventListener("keydown",n=>{n.metaKey||n.altKey||n.ctrlKey||(document.documentElement.dataset.headlessuiFocusVisible="")},!0),document.addEventListener("click",n=>{n.detail===1?delete document.documentElement.dataset.headlessuiFocusVisible:n.detail===0&&(document.documentElement.dataset.headlessuiFocusVisible="")},!0));function yi(n){n==null||n.focus({preventScroll:!0})}let LL=["textarea","input"].join(",");function FL(n){var t,r;return(r=(t=n==null?void 0:n.matches)==null?void 0:t.call(n,LL))!=null?r:!1}function UL(n,t=r=>r){return n.slice().sort((r,i)=>{let s=t(r),o=t(i);if(s===null||o===null)return 0;let a=s.compareDocumentPosition(o);return a&Node.DOCUMENT_POSITION_FOLLOWING?-1:a&Node.DOCUMENT_POSITION_PRECEDING?1:0})}function cu(n,t,{sorted:r=!0,relativeTo:i=null,skipElements:s=[]}={}){let o=Array.isArray(n)?n.length>0?n[0].ownerDocument:document:n.ownerDocument,a=Array.isArray(n)?r?UL(n):n:$L(n);s.length>0&&a.length>1&&(a=a.filter(m=>!s.includes(m))),i=i??o.activeElement;let l=(()=>{if(t&5)return 1;if(t&10)return-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),u=(()=>{if(t&1)return 0;if(t&2)return Math.max(0,a.indexOf(i))-1;if(t&4)return Math.max(0,a.indexOf(i))+1;if(t&8)return a.length-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),c=t&32?{preventScroll:!0}:{},d=0,h=a.length,f;do{if(d>=h||d+h<=0)return 0;let m=u+d;if(t&16)m=(m+h)%h;else{if(m<0)return 3;if(m>=h)return 1}f=a[m],f==null||f.focus(c),d+=l}while(f!==o.activeElement);return t&6&&FL(f)&&f.select(),2}function Ah(n,t,r){let i=hd(t);w.useEffect(()=>{function s(o){i.current(o)}return document.addEventListener(n,s,r),()=>document.removeEventListener(n,s,r)},[n,r])}function VL(n,t,r=!0){let i=w.useRef(!1);w.useEffect(()=>{requestAnimationFrame(()=>{i.current=r})},[r]);function s(a,l){if(!i.current||a.defaultPrevented)return;let u=function d(h){return typeof h=="function"?d(h()):Array.isArray(h)||h instanceof Set?h:[h]}(n),c=l(a);if(c!==null&&c.getRootNode().contains(c)){for(let d of u){if(d===null)continue;let h=d instanceof HTMLElement?d:d.current;if(h!=null&&h.contains(c)||a.composed&&a.composedPath().includes(h))return}return!OL(c,O_.Loose)&&c.tabIndex!==-1&&a.preventDefault(),t(a,c)}}let o=w.useRef(null);Ah("mousedown",a=>{var l,u;i.current&&(o.current=((u=(l=a.composedPath)==null?void 0:l.call(a))==null?void 0:u[0])||a.target)},!0),Ah("click",a=>{o.current&&(s(a,()=>o.current),o.current=null)},!0),Ah("blur",a=>s(a,()=>window.document.activeElement instanceof HTMLIFrameElement?window.document.activeElement:null),!0)}let M_=Symbol();function jL(n,t=!0){return Object.assign(n,{[M_]:t})}function lr(...n){let t=w.useRef(n);w.useEffect(()=>{t.current=n},[n]);let r=en(i=>{for(let s of t.current)s!=null&&(typeof s=="function"?s(i):s.current=i)});return n.every(i=>i==null||(i==null?void 0:i[M_]))?void 0:r}function lw(...n){return n.filter(Boolean).join(" ")}var mp=(n=>(n[n.None=0]="None",n[n.RenderStrategy=1]="RenderStrategy",n[n.Static=2]="Static",n))(mp||{}),zL=(n=>(n[n.Unmount=0]="Unmount",n[n.Hidden=1]="Hidden",n))(zL||{});function On({ourProps:n,theirProps:t,slot:r,defaultTag:i,features:s,visible:o=!0,name:a}){let l=L_(t,n);if(o)return Vl(l,r,i,a);let u=s??0;if(u&2){let{static:c=!1,...d}=l;if(c)return Vl(d,r,i,a)}if(u&1){let{unmount:c=!0,...d}=l;return Wr(c?0:1,{[0](){return null},[1](){return Vl({...d,hidden:!0,style:{display:"none"}},r,i,a)}})}return Vl(l,r,i,a)}function Vl(n,t={},r,i){let{as:s=r,children:o,refName:a="ref",...l}=Rh(n,["unmount","static"]),u=n.ref!==void 0?{[a]:n.ref}:{},c=typeof o=="function"?o(t):o;"className"in l&&l.className&&typeof l.className=="function"&&(l.className=l.className(t));let d={};if(t){let h=!1,f=[];for(let[m,E]of Object.entries(t))typeof E=="boolean"&&(h=!0),E===!0&&f.push(m);h&&(d["data-headlessui-state"]=f.join(" "))}if(s===w.Fragment&&Object.keys(uw(l)).length>0){if(!w.isValidElement(c)||Array.isArray(c)&&c.length>1)throw new Error(['Passing props on "Fragment"!',"",`The current component <${i} /> is rendering a "Fragment".`,"However we need to passthrough the following props:",Object.keys(l).map(E=>`  - ${E}`).join(`
`),"","You can apply a few solutions:",['Add an `as="..."` prop, to ensure that we render an actual element instead of a "Fragment".',"Render a single element as the child so that we can forward the props onto that element."].map(E=>`  - ${E}`).join(`
`)].join(`
`));let h=c.props,f=typeof(h==null?void 0:h.className)=="function"?(...E)=>lw(h==null?void 0:h.className(...E),l.className):lw(h==null?void 0:h.className,l.className),m=f?{className:f}:{};return w.cloneElement(c,Object.assign({},L_(c.props,uw(Rh(l,["ref"]))),d,u,BL(c.ref,u.ref),m))}return w.createElement(s,Object.assign({},Rh(l,["ref"]),s!==w.Fragment&&u,s!==w.Fragment&&d),c)}function BL(...n){return{ref:n.every(t=>t==null)?void 0:t=>{for(let r of n)r!=null&&(typeof r=="function"?r(t):r.current=t)}}}function L_(...n){if(n.length===0)return{};if(n.length===1)return n[0];let t={},r={};for(let i of n)for(let s in i)s.startsWith("on")&&typeof i[s]=="function"?(r[s]!=null||(r[s]=[]),r[s].push(i[s])):t[s]=i[s];if(t.disabled||t["aria-disabled"])return Object.assign(t,Object.fromEntries(Object.keys(r).map(i=>[i,void 0])));for(let i in r)Object.assign(t,{[i](s,...o){let a=r[i];for(let l of a){if((s instanceof Event||(s==null?void 0:s.nativeEvent)instanceof Event)&&s.defaultPrevented)return;l(s,...o)}}});return t}function Mn(n){var t;return Object.assign(w.forwardRef(n),{displayName:(t=n.displayName)!=null?t:n.name})}function uw(n){let t=Object.assign({},n);for(let r in t)t[r]===void 0&&delete t[r];return t}function Rh(n,t=[]){let r=Object.assign({},n);for(let i of t)i in r&&delete r[i];return r}function HL(n){let t=n.parentElement,r=null;for(;t&&!(t instanceof HTMLFieldSetElement);)t instanceof HTMLLegendElement&&(r=t),t=t.parentElement;let i=(t==null?void 0:t.getAttribute("disabled"))==="";return i&&WL(r)?!1:i}function WL(n){if(!n)return!1;let t=n.previousElementSibling;for(;t!==null;){if(t instanceof HTMLLegendElement)return!1;t=t.previousElementSibling}return!0}let qL="div";var dc=(n=>(n[n.None=1]="None",n[n.Focusable=2]="Focusable",n[n.Hidden=4]="Hidden",n))(dc||{});function KL(n,t){let{features:r=1,...i}=n,s={ref:t,"aria-hidden":(r&2)===2?!0:void 0,style:{position:"fixed",top:1,left:1,width:1,height:0,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0",...(r&4)===4&&(r&2)!==2&&{display:"none"}}};return On({ourProps:s,theirProps:i,slot:{},defaultTag:qL,name:"Hidden"})}let gp=Mn(KL),F_=w.createContext(null);F_.displayName="OpenClosedContext";var bo=(n=>(n[n.Open=1]="Open",n[n.Closed=2]="Closed",n[n.Closing=4]="Closing",n[n.Opening=8]="Opening",n))(bo||{});function GL(){return w.useContext(F_)}var U_=(n=>(n.Space=" ",n.Enter="Enter",n.Escape="Escape",n.Backspace="Backspace",n.Delete="Delete",n.ArrowLeft="ArrowLeft",n.ArrowUp="ArrowUp",n.ArrowRight="ArrowRight",n.ArrowDown="ArrowDown",n.Home="Home",n.End="End",n.PageUp="PageUp",n.PageDown="PageDown",n.Tab="Tab",n))(U_||{});function jg(n,t){let r=w.useRef([]),i=en(n);w.useEffect(()=>{let s=[...r.current];for(let[o,a]of t.entries())if(r.current[o]!==a){let l=i(t,s);return r.current=t,l}},[i,...t])}function QL(){return/iPhone/gi.test(window.navigator.platform)||/Mac/gi.test(window.navigator.platform)&&window.navigator.maxTouchPoints>0}function YL(n,t,r){let i=hd(t);w.useEffect(()=>{function s(o){i.current(o)}return window.addEventListener(n,s,r),()=>window.removeEventListener(n,s,r)},[n,r])}var Do=(n=>(n[n.Forwards=0]="Forwards",n[n.Backwards=1]="Backwards",n))(Do||{});function XL(){let n=w.useRef(0);return YL("keydown",t=>{t.key==="Tab"&&(n.current=t.shiftKey?1:0)},!0),n}function V_(){let n=w.useRef(!1);return Jr(()=>(n.current=!0,()=>{n.current=!1}),[]),n}function pd(...n){return w.useMemo(()=>P_(...n),[...n])}function j_(n,t,r,i){let s=hd(r);w.useEffect(()=>{n=n??window;function o(a){s.current(a)}return n.addEventListener(t,o,i),()=>n.removeEventListener(t,o,i)},[n,t,i])}function JL(n){function t(){document.readyState!=="loading"&&(n(),document.removeEventListener("DOMContentLoaded",t))}typeof window<"u"&&typeof document<"u"&&(document.addEventListener("DOMContentLoaded",t),t())}function z_(n){if(!n)return new Set;if(typeof n=="function")return new Set(n());let t=new Set;for(let r of n.current)r.current instanceof HTMLElement&&t.add(r.current);return t}let ZL="div";var B_=(n=>(n[n.None=1]="None",n[n.InitialFocus=2]="InitialFocus",n[n.TabLock=4]="TabLock",n[n.FocusLock=8]="FocusLock",n[n.RestoreFocus=16]="RestoreFocus",n[n.All=30]="All",n))(B_||{});function e4(n,t){let r=w.useRef(null),i=lr(r,t),{initialFocus:s,containers:o,features:a=30,...l}=n;fd()||(a=1);let u=pd(r);r4({ownerDocument:u},!!(a&16));let c=i4({ownerDocument:u,container:r,initialFocus:s},!!(a&2));s4({ownerDocument:u,container:r,containers:o,previousActiveElement:c},!!(a&8));let d=XL(),h=en(S=>{let I=r.current;I&&(y=>y())(()=>{Wr(d.current,{[Do.Forwards]:()=>{cu(I,ni.First,{skipElements:[S.relatedTarget]})},[Do.Backwards]:()=>{cu(I,ni.Last,{skipElements:[S.relatedTarget]})}})})}),f=DL(),m=w.useRef(!1),E={ref:i,onKeyDown(S){S.key=="Tab"&&(m.current=!0,f.requestAnimationFrame(()=>{m.current=!1}))},onBlur(S){let I=z_(o);r.current instanceof HTMLElement&&I.add(r.current);let y=S.relatedTarget;y instanceof HTMLElement&&y.dataset.headlessuiFocusGuard!=="true"&&(H_(I,y)||(m.current?cu(r.current,Wr(d.current,{[Do.Forwards]:()=>ni.Next,[Do.Backwards]:()=>ni.Previous})|ni.WrapAround,{relativeTo:S.target}):S.target instanceof HTMLElement&&yi(S.target)))}};return ye.createElement(ye.Fragment,null,!!(a&4)&&ye.createElement(gp,{as:"button",type:"button","data-headlessui-focus-guard":!0,onFocus:h,features:dc.Focusable}),On({ourProps:E,theirProps:l,defaultTag:ZL,name:"FocusTrap"}),!!(a&4)&&ye.createElement(gp,{as:"button",type:"button","data-headlessui-focus-guard":!0,onFocus:h,features:dc.Focusable}))}let t4=Mn(e4),yo=Object.assign(t4,{features:B_}),Sr=[];JL(()=>{function n(t){t.target instanceof HTMLElement&&t.target!==document.body&&Sr[0]!==t.target&&(Sr.unshift(t.target),Sr=Sr.filter(r=>r!=null&&r.isConnected),Sr.splice(10))}window.addEventListener("click",n,{capture:!0}),window.addEventListener("mousedown",n,{capture:!0}),window.addEventListener("focus",n,{capture:!0}),document.body.addEventListener("click",n,{capture:!0}),document.body.addEventListener("mousedown",n,{capture:!0}),document.body.addEventListener("focus",n,{capture:!0})});function n4(n=!0){let t=w.useRef(Sr.slice());return jg(([r],[i])=>{i===!0&&r===!1&&ol(()=>{t.current.splice(0)}),i===!1&&r===!0&&(t.current=Sr.slice())},[n,Sr,t]),en(()=>{var r;return(r=t.current.find(i=>i!=null&&i.isConnected))!=null?r:null})}function r4({ownerDocument:n},t){let r=n4(t);jg(()=>{t||(n==null?void 0:n.activeElement)===(n==null?void 0:n.body)&&yi(r())},[t]);let i=w.useRef(!1);w.useEffect(()=>(i.current=!1,()=>{i.current=!0,ol(()=>{i.current&&yi(r())})}),[])}function i4({ownerDocument:n,container:t,initialFocus:r},i){let s=w.useRef(null),o=V_();return jg(()=>{if(!i)return;let a=t.current;a&&ol(()=>{if(!o.current)return;let l=n==null?void 0:n.activeElement;if(r!=null&&r.current){if((r==null?void 0:r.current)===l){s.current=l;return}}else if(a.contains(l)){s.current=l;return}r!=null&&r.current?yi(r.current):cu(a,ni.First)===$_.Error&&console.warn("There are no focusable elements inside the <FocusTrap />"),s.current=n==null?void 0:n.activeElement})},[i]),s}function s4({ownerDocument:n,container:t,containers:r,previousActiveElement:i},s){let o=V_();j_(n==null?void 0:n.defaultView,"focus",a=>{if(!s||!o.current)return;let l=z_(r);t.current instanceof HTMLElement&&l.add(t.current);let u=i.current;if(!u)return;let c=a.target;c&&c instanceof HTMLElement?H_(l,c)?(i.current=c,yi(c)):(a.preventDefault(),a.stopPropagation(),yi(u)):yi(i.current)},!0)}function H_(n,t){for(let r of n)if(r.contains(t))return!0;return!1}let W_=w.createContext(!1);function o4(){return w.useContext(W_)}function yp(n){return ye.createElement(W_.Provider,{value:n.force},n.children)}function a4(n){let t=o4(),r=w.useContext(q_),i=pd(n),[s,o]=w.useState(()=>{if(!t&&r!==null||Yn.isServer)return null;let a=i==null?void 0:i.getElementById("headlessui-portal-root");if(a)return a;if(i===null)return null;let l=i.createElement("div");return l.setAttribute("id","headlessui-portal-root"),i.body.appendChild(l)});return w.useEffect(()=>{s!==null&&(i!=null&&i.body.contains(s)||i==null||i.body.appendChild(s))},[s,i]),w.useEffect(()=>{t||r!==null&&o(r.current)},[r,o,t]),s}let l4=w.Fragment;function u4(n,t){let r=n,i=w.useRef(null),s=lr(jL(d=>{i.current=d}),t),o=pd(i),a=a4(i),[l]=w.useState(()=>{var d;return Yn.isServer?null:(d=o==null?void 0:o.createElement("div"))!=null?d:null}),u=fd(),c=w.useRef(!1);return Jr(()=>{if(c.current=!1,!(!a||!l))return a.contains(l)||(l.setAttribute("data-headlessui-portal",""),a.appendChild(l)),()=>{c.current=!0,ol(()=>{var d;c.current&&(!a||!l||(l instanceof Node&&a.contains(l)&&a.removeChild(l),a.childNodes.length<=0&&((d=a.parentElement)==null||d.removeChild(a))))})}},[a,l]),u?!a||!l?null:wm.createPortal(On({ourProps:{ref:s},theirProps:r,defaultTag:l4,name:"Portal"}),l):null}let c4=w.Fragment,q_=w.createContext(null);function d4(n,t){let{target:r,...i}=n,s={ref:lr(t)};return ye.createElement(q_.Provider,{value:r},On({ourProps:s,theirProps:i,defaultTag:c4,name:"Popover.Group"}))}let h4=Mn(u4),f4=Mn(d4),vp=Object.assign(h4,{Group:f4}),K_=w.createContext(null);function G_(){let n=w.useContext(K_);if(n===null){let t=new Error("You used a <Description /> component, but it is not inside a relevant parent.");throw Error.captureStackTrace&&Error.captureStackTrace(t,G_),t}return n}function p4(){let[n,t]=w.useState([]);return[n.length>0?n.join(" "):void 0,w.useMemo(()=>function(r){let i=en(o=>(t(a=>[...a,o]),()=>t(a=>{let l=a.slice(),u=l.indexOf(o);return u!==-1&&l.splice(u,1),l}))),s=w.useMemo(()=>({register:i,slot:r.slot,name:r.name,props:r.props}),[i,r.slot,r.name,r.props]);return ye.createElement(K_.Provider,{value:s},r.children)},[t])]}let m4="p";function g4(n,t){let r=eo(),{id:i=`headlessui-description-${r}`,...s}=n,o=G_(),a=lr(t);Jr(()=>o.register(i),[i,o.register]);let l={ref:a,...o.props,id:i};return On({ourProps:l,theirProps:s,slot:o.slot||{},defaultTag:m4,name:o.name||"Description"})}let y4=Mn(g4),v4=Object.assign(y4,{}),zg=w.createContext(()=>{});zg.displayName="StackContext";var wp=(n=>(n[n.Add=0]="Add",n[n.Remove=1]="Remove",n))(wp||{});function w4(){return w.useContext(zg)}function E4({children:n,onUpdate:t,type:r,element:i,enabled:s}){let o=w4(),a=en((...l)=>{t==null||t(...l),o(...l)});return Jr(()=>{let l=s===void 0||s===!0;return l&&a(0,r,i),()=>{l&&a(1,r,i)}},[a,r,i,s]),ye.createElement(zg.Provider,{value:a},n)}function S4(n,t){return n===t&&(n!==0||1/n===1/t)||n!==n&&t!==t}const I4=typeof Object.is=="function"?Object.is:S4,{useState:T4,useEffect:_4,useLayoutEffect:C4,useDebugValue:k4}=Yo;function A4(n,t,r){const i=t(),[{inst:s},o]=T4({inst:{value:i,getSnapshot:t}});return C4(()=>{s.value=i,s.getSnapshot=t,xh(s)&&o({inst:s})},[n,i,t]),_4(()=>(xh(s)&&o({inst:s}),n(()=>{xh(s)&&o({inst:s})})),[n]),k4(i),i}function xh(n){const t=n.getSnapshot,r=n.value;try{const i=t();return!I4(r,i)}catch{return!0}}function R4(n,t,r){return t()}const x4=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",N4=!x4,b4=N4?R4:A4,D4="useSyncExternalStore"in Yo?(n=>n.useSyncExternalStore)(Yo):b4;function P4(n){return D4(n.subscribe,n.getSnapshot,n.getSnapshot)}function $4(n,t){let r=n(),i=new Set;return{getSnapshot(){return r},subscribe(s){return i.add(s),()=>i.delete(s)},dispatch(s,...o){let a=t[s].call(r,...o);a&&(r=a,i.forEach(l=>l()))}}}function O4(){let n;return{before({doc:t}){var r;let i=t.documentElement;n=((r=t.defaultView)!=null?r:window).innerWidth-i.clientWidth},after({doc:t,d:r}){let i=t.documentElement,s=i.clientWidth-i.offsetWidth,o=n-s;r.style(i,"paddingRight",`${o}px`)}}}function M4(){if(!QL())return{};let n;return{before(){n=window.pageYOffset},after({doc:t,d:r,meta:i}){function s(a){return i.containers.flatMap(l=>l()).some(l=>l.contains(a))}r.style(t.body,"marginTop",`-${n}px`),window.scrollTo(0,0);let o=null;r.addEventListener(t,"click",a=>{if(a.target instanceof HTMLElement)try{let l=a.target.closest("a");if(!l)return;let{hash:u}=new URL(l.href),c=t.querySelector(u);c&&!s(c)&&(o=c)}catch{}},!0),r.addEventListener(t,"touchmove",a=>{a.target instanceof HTMLElement&&!s(a.target)&&a.preventDefault()},{passive:!1}),r.add(()=>{window.scrollTo(0,window.pageYOffset+n),o&&o.isConnected&&(o.scrollIntoView({block:"nearest"}),o=null)})}}}function L4(){return{before({doc:n,d:t}){t.style(n.documentElement,"overflow","hidden")}}}function F4(n){let t={};for(let r of n)Object.assign(t,r(t));return t}let di=$4(()=>new Map,{PUSH(n,t){var r;let i=(r=this.get(n))!=null?r:{doc:n,count:0,d:Vg(),meta:new Set};return i.count++,i.meta.add(t),this.set(n,i),this},POP(n,t){let r=this.get(n);return r&&(r.count--,r.meta.delete(t)),this},SCROLL_PREVENT({doc:n,d:t,meta:r}){let i={doc:n,d:t,meta:F4(r)},s=[M4(),O4(),L4()];s.forEach(({before:o})=>o==null?void 0:o(i)),s.forEach(({after:o})=>o==null?void 0:o(i))},SCROLL_ALLOW({d:n}){n.dispose()},TEARDOWN({doc:n}){this.delete(n)}});di.subscribe(()=>{let n=di.getSnapshot(),t=new Map;for(let[r]of n)t.set(r,r.documentElement.style.overflow);for(let r of n.values()){let i=t.get(r.doc)==="hidden",s=r.count!==0;(s&&!i||!s&&i)&&di.dispatch(r.count>0?"SCROLL_PREVENT":"SCROLL_ALLOW",r),r.count===0&&di.dispatch("TEARDOWN",r)}});function U4(n,t,r){let i=P4(di),s=n?i.get(n):void 0,o=s?s.count>0:!1;return Jr(()=>{if(!(!n||!t))return di.dispatch("PUSH",n,r),()=>di.dispatch("POP",n,r)},[t,n]),o}let Nh=new Map,vo=new Map;function cw(n,t=!0){Jr(()=>{var r;if(!t)return;let i=typeof n=="function"?n():n.current;if(!i)return;function s(){var a;if(!i)return;let l=(a=vo.get(i))!=null?a:1;if(l===1?vo.delete(i):vo.set(i,l-1),l!==1)return;let u=Nh.get(i);u&&(u["aria-hidden"]===null?i.removeAttribute("aria-hidden"):i.setAttribute("aria-hidden",u["aria-hidden"]),i.inert=u.inert,Nh.delete(i))}let o=(r=vo.get(i))!=null?r:0;return vo.set(i,o+1),o!==0||(Nh.set(i,{"aria-hidden":i.getAttribute("aria-hidden"),inert:i.inert}),i.setAttribute("aria-hidden","true"),i.inert=!0),s},[n,t])}var V4=(n=>(n[n.Open=0]="Open",n[n.Closed=1]="Closed",n))(V4||{}),j4=(n=>(n[n.SetTitleId=0]="SetTitleId",n))(j4||{});let z4={[0](n,t){return n.titleId===t.id?n:{...n,titleId:t.id}}},hc=w.createContext(null);hc.displayName="DialogContext";function al(n){let t=w.useContext(hc);if(t===null){let r=new Error(`<${n} /> is missing a parent <Dialog /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(r,al),r}return t}function B4(n,t,r=()=>[document.body]){U4(n,t,i=>{var s;return{containers:[...(s=i.containers)!=null?s:[],r]}})}function H4(n,t){return Wr(t.type,z4,n,t)}let W4="div",q4=mp.RenderStrategy|mp.Static;function K4(n,t){let r=eo(),{id:i=`headlessui-dialog-${r}`,open:s,onClose:o,initialFocus:a,__demoMode:l=!1,...u}=n,[c,d]=w.useState(0),h=GL();s===void 0&&h!==null&&(s=(h&bo.Open)===bo.Open);let f=w.useRef(null),m=lr(f,t),E=w.useRef(null),S=pd(f),I=n.hasOwnProperty("open")||h!==null,y=n.hasOwnProperty("onClose");if(!I&&!y)throw new Error("You have to provide an `open` and an `onClose` prop to the `Dialog` component.");if(!I)throw new Error("You provided an `onClose` prop to the `Dialog`, but forgot an `open` prop.");if(!y)throw new Error("You provided an `open` prop to the `Dialog`, but forgot an `onClose` prop.");if(typeof s!="boolean")throw new Error(`You provided an \`open\` prop to the \`Dialog\`, but the value is not a boolean. Received: ${s}`);if(typeof o!="function")throw new Error(`You provided an \`onClose\` prop to the \`Dialog\`, but the value is not a function. Received: ${o}`);let p=s?0:1,[v,g]=w.useReducer(H4,{titleId:null,descriptionId:null,panelRef:w.createRef()}),C=en(()=>o(!1)),b=en(he=>g({type:0,id:he})),R=fd()?l?!1:p===0:!1,$=c>1,G=w.useContext(hc)!==null,H=$?"parent":"leaf",Re=h!==null?(h&bo.Closing)===bo.Closing:!1,fe=(()=>G||Re?!1:R)(),_t=w.useCallback(()=>{var he,xe;return(xe=Array.from((he=S==null?void 0:S.querySelectorAll("body > *"))!=null?he:[]).find(Ee=>Ee.id==="headlessui-portal-root"?!1:Ee.contains(E.current)&&Ee instanceof HTMLElement))!=null?xe:null},[E]);cw(_t,fe);let an=(()=>$?!0:R)(),Ct=w.useCallback(()=>{var he,xe;return(xe=Array.from((he=S==null?void 0:S.querySelectorAll("[data-headlessui-portal]"))!=null?he:[]).find(Ee=>Ee.contains(E.current)&&Ee instanceof HTMLElement))!=null?xe:null},[E]);cw(Ct,an);let ut=en(()=>{var he,xe;return[...Array.from((he=S==null?void 0:S.querySelectorAll("html > *, body > *, [data-headlessui-portal]"))!=null?he:[]).filter(Ee=>!(Ee===document.body||Ee===document.head||!(Ee instanceof HTMLElement)||Ee.contains(E.current)||v.panelRef.current&&Ee.contains(v.panelRef.current))),(xe=v.panelRef.current)!=null?xe:f.current]}),ct=(()=>!(!R||$))();VL(()=>ut(),C,ct);let D=(()=>!($||p!==0))();j_(S==null?void 0:S.defaultView,"keydown",he=>{D&&(he.defaultPrevented||he.key===U_.Escape&&(he.preventDefault(),he.stopPropagation(),C()))});let U=(()=>!(Re||p!==0||G))();B4(S,U,ut),w.useEffect(()=>{if(p!==0||!f.current)return;let he=new ResizeObserver(xe=>{for(let Ee of xe){let Ft=Ee.target.getBoundingClientRect();Ft.x===0&&Ft.y===0&&Ft.width===0&&Ft.height===0&&C()}});return he.observe(f.current),()=>he.disconnect()},[p,f,C]);let[z,de]=p4(),re=w.useMemo(()=>[{dialogState:p,close:C,setTitleId:b},v],[p,v,C,b]),Ln=w.useMemo(()=>({open:p===0}),[p]),ve={ref:m,id:i,role:"dialog","aria-modal":p===0?!0:void 0,"aria-labelledby":v.titleId,"aria-describedby":z};return ye.createElement(E4,{type:"Dialog",enabled:p===0,element:f,onUpdate:en((he,xe)=>{xe==="Dialog"&&Wr(he,{[wp.Add]:()=>d(Ee=>Ee+1),[wp.Remove]:()=>d(Ee=>Ee-1)})})},ye.createElement(yp,{force:!0},ye.createElement(vp,null,ye.createElement(hc.Provider,{value:re},ye.createElement(vp.Group,{target:f},ye.createElement(yp,{force:!1},ye.createElement(de,{slot:Ln,name:"Dialog.Description"},ye.createElement(yo,{initialFocus:a,containers:ut,features:R?Wr(H,{parent:yo.features.RestoreFocus,leaf:yo.features.All&~yo.features.FocusLock}):yo.features.None},On({ourProps:ve,theirProps:u,slot:Ln,defaultTag:W4,features:q4,visible:p===0,name:"Dialog"})))))))),ye.createElement(gp,{features:dc.Hidden,ref:E}))}let G4="div";function Q4(n,t){let r=eo(),{id:i=`headlessui-dialog-overlay-${r}`,...s}=n,[{dialogState:o,close:a}]=al("Dialog.Overlay"),l=lr(t),u=en(d=>{if(d.target===d.currentTarget){if(HL(d.currentTarget))return d.preventDefault();d.preventDefault(),d.stopPropagation(),a()}}),c=w.useMemo(()=>({open:o===0}),[o]);return On({ourProps:{ref:l,id:i,"aria-hidden":!0,onClick:u},theirProps:s,slot:c,defaultTag:G4,name:"Dialog.Overlay"})}let Y4="div";function X4(n,t){let r=eo(),{id:i=`headlessui-dialog-backdrop-${r}`,...s}=n,[{dialogState:o},a]=al("Dialog.Backdrop"),l=lr(t);w.useEffect(()=>{if(a.panelRef.current===null)throw new Error("A <Dialog.Backdrop /> component is being used, but a <Dialog.Panel /> component is missing.")},[a.panelRef]);let u=w.useMemo(()=>({open:o===0}),[o]);return ye.createElement(yp,{force:!0},ye.createElement(vp,null,On({ourProps:{ref:l,id:i,"aria-hidden":!0},theirProps:s,slot:u,defaultTag:Y4,name:"Dialog.Backdrop"})))}let J4="div";function Z4(n,t){let r=eo(),{id:i=`headlessui-dialog-panel-${r}`,...s}=n,[{dialogState:o},a]=al("Dialog.Panel"),l=lr(t,a.panelRef),u=w.useMemo(()=>({open:o===0}),[o]),c=en(d=>{d.stopPropagation()});return On({ourProps:{ref:l,id:i,onClick:c},theirProps:s,slot:u,defaultTag:J4,name:"Dialog.Panel"})}let eF="h2";function tF(n,t){let r=eo(),{id:i=`headlessui-dialog-title-${r}`,...s}=n,[{dialogState:o,setTitleId:a}]=al("Dialog.Title"),l=lr(t);w.useEffect(()=>(a(i),()=>a(null)),[i,a]);let u=w.useMemo(()=>({open:o===0}),[o]);return On({ourProps:{ref:l,id:i},theirProps:s,slot:u,defaultTag:eF,name:"Dialog.Title"})}let nF=Mn(K4),rF=Mn(X4),iF=Mn(Z4),sF=Mn(Q4),oF=Mn(tF),bh=Object.assign(nF,{Backdrop:rF,Panel:iF,Overlay:sF,Title:oF,Description:v4});function aF(){return B("nav",{className:"p-4",children:B("h1",{className:" text-2xl",children:"Do it!"})})}function qr(){return qr=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(n[i]=r[i])}return n},qr.apply(this,arguments)}function lF(n,t){typeof n=="function"?n(t):n!=null&&(n.current=t)}function Q_(...n){return t=>n.forEach(r=>lF(r,t))}function Y_(...n){return w.useCallback(Q_(...n),n)}function uF(n,t=[]){let r=[];function i(o,a){const l=w.createContext(a),u=r.length;r=[...r,a];function c(h){const{scope:f,children:m,...E}=h,S=(f==null?void 0:f[n][u])||l,I=w.useMemo(()=>E,Object.values(E));return w.createElement(S.Provider,{value:I},m)}function d(h,f){const m=(f==null?void 0:f[n][u])||l,E=w.useContext(m);if(E)return E;if(a!==void 0)return a;throw new Error(`\`${h}\` must be used within \`${o}\``)}return c.displayName=o+"Provider",[c,d]}const s=()=>{const o=r.map(a=>w.createContext(a));return function(l){const u=(l==null?void 0:l[n])||o;return w.useMemo(()=>({[`__scope${n}`]:{...l,[n]:u}}),[l,u])}};return s.scopeName=n,[i,cF(s,...t)]}function cF(...n){const t=n[0];if(n.length===1)return t;const r=()=>{const i=n.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(o){const a=i.reduce((l,{useScope:u,scopeName:c})=>{const h=u(o)[`__scope${c}`];return{...l,...h}},{});return w.useMemo(()=>({[`__scope${t.scopeName}`]:a}),[a])}};return r.scopeName=t.scopeName,r}function dw(n,t,{checkForDefaultPrevented:r=!0}={}){return function(s){if(n==null||n(s),r===!1||!s.defaultPrevented)return t==null?void 0:t(s)}}function X_(n){const t=w.useRef(n);return w.useEffect(()=>{t.current=n}),w.useMemo(()=>(...r)=>{var i;return(i=t.current)===null||i===void 0?void 0:i.call(t,...r)},[])}function dF({prop:n,defaultProp:t,onChange:r=()=>{}}){const[i,s]=hF({defaultProp:t,onChange:r}),o=n!==void 0,a=o?n:i,l=X_(r),u=w.useCallback(c=>{if(o){const h=typeof c=="function"?c(n):c;h!==n&&l(h)}else s(c)},[o,n,s,l]);return[a,u]}function hF({defaultProp:n,onChange:t}){const r=w.useState(n),[i]=r,s=w.useRef(i),o=X_(t);return w.useEffect(()=>{s.current!==i&&(o(i),s.current=i)},[i,s,o]),r}function fF(n){const t=w.useRef({value:n,previous:n});return w.useMemo(()=>(t.current.value!==n&&(t.current.previous=t.current.value,t.current.value=n),t.current.previous),[n])}const Ep=globalThis!=null&&globalThis.document?w.useLayoutEffect:()=>{};function pF(n){const[t,r]=w.useState(void 0);return Ep(()=>{if(n){r({width:n.offsetWidth,height:n.offsetHeight});const i=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const o=s[0];let a,l;if("borderBoxSize"in o){const u=o.borderBoxSize,c=Array.isArray(u)?u[0]:u;a=c.inlineSize,l=c.blockSize}else a=n.offsetWidth,l=n.offsetHeight;r({width:a,height:l})});return i.observe(n,{box:"border-box"}),()=>i.unobserve(n)}else r(void 0)},[n]),t}function mF(n,t){return w.useReducer((r,i)=>{const s=t[r][i];return s??r},n)}const J_=n=>{const{present:t,children:r}=n,i=gF(t),s=typeof r=="function"?r({present:i.isPresent}):w.Children.only(r),o=Y_(i.ref,s.ref);return typeof r=="function"||i.isPresent?w.cloneElement(s,{ref:o}):null};J_.displayName="Presence";function gF(n){const[t,r]=w.useState(),i=w.useRef({}),s=w.useRef(n),o=w.useRef("none"),a=n?"mounted":"unmounted",[l,u]=mF(a,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return w.useEffect(()=>{const c=jl(i.current);o.current=l==="mounted"?c:"none"},[l]),Ep(()=>{const c=i.current,d=s.current;if(d!==n){const f=o.current,m=jl(c);n?u("MOUNT"):m==="none"||(c==null?void 0:c.display)==="none"?u("UNMOUNT"):u(d&&f!==m?"ANIMATION_OUT":"UNMOUNT"),s.current=n}},[n,u]),Ep(()=>{if(t){const c=h=>{const m=jl(i.current).includes(h.animationName);h.target===t&&m&&wm.flushSync(()=>u("ANIMATION_END"))},d=h=>{h.target===t&&(o.current=jl(i.current))};return t.addEventListener("animationstart",d),t.addEventListener("animationcancel",c),t.addEventListener("animationend",c),()=>{t.removeEventListener("animationstart",d),t.removeEventListener("animationcancel",c),t.removeEventListener("animationend",c)}}else u("ANIMATION_END")},[t,u]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:w.useCallback(c=>{c&&(i.current=getComputedStyle(c)),r(c)},[])}}function jl(n){return(n==null?void 0:n.animationName)||"none"}const Z_=w.forwardRef((n,t)=>{const{children:r,...i}=n,s=w.Children.toArray(r),o=s.find(vF);if(o){const a=o.props.children,l=s.map(u=>u===o?w.Children.count(a)>1?w.Children.only(null):w.isValidElement(a)?a.props.children:null:u);return w.createElement(Sp,qr({},i,{ref:t}),w.isValidElement(a)?w.cloneElement(a,void 0,l):null)}return w.createElement(Sp,qr({},i,{ref:t}),r)});Z_.displayName="Slot";const Sp=w.forwardRef((n,t)=>{const{children:r,...i}=n;return w.isValidElement(r)?w.cloneElement(r,{...wF(i,r.props),ref:t?Q_(t,r.ref):r.ref}):w.Children.count(r)>1?w.Children.only(null):null});Sp.displayName="SlotClone";const yF=({children:n})=>w.createElement(w.Fragment,null,n);function vF(n){return w.isValidElement(n)&&n.type===yF}function wF(n,t){const r={...t};for(const i in t){const s=n[i],o=t[i];/^on[A-Z]/.test(i)?s&&o?r[i]=(...l)=>{o(...l),s(...l)}:s&&(r[i]=s):i==="style"?r[i]={...s,...o}:i==="className"&&(r[i]=[s,o].filter(Boolean).join(" "))}return{...n,...r}}const EF=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],eC=EF.reduce((n,t)=>{const r=w.forwardRef((i,s)=>{const{asChild:o,...a}=i,l=o?Z_:t;return w.useEffect(()=>{window[Symbol.for("radix-ui")]=!0},[]),w.createElement(l,qr({},a,{ref:s}))});return r.displayName=`Primitive.${t}`,{...n,[t]:r}},{}),tC="Checkbox",[SF,xU]=uF(tC),[IF,TF]=SF(tC),_F=w.forwardRef((n,t)=>{const{__scopeCheckbox:r,name:i,checked:s,defaultChecked:o,required:a,disabled:l,value:u="on",onCheckedChange:c,...d}=n,[h,f]=w.useState(null),m=Y_(t,v=>f(v)),E=w.useRef(!1),S=h?!!h.closest("form"):!0,[I=!1,y]=dF({prop:s,defaultProp:o,onChange:c}),p=w.useRef(I);return w.useEffect(()=>{const v=h==null?void 0:h.form;if(v){const g=()=>y(p.current);return v.addEventListener("reset",g),()=>v.removeEventListener("reset",g)}},[h,y]),w.createElement(IF,{scope:r,state:I,disabled:l},w.createElement(eC.button,qr({type:"button",role:"checkbox","aria-checked":vi(I)?"mixed":I,"aria-required":a,"data-state":nC(I),"data-disabled":l?"":void 0,disabled:l,value:u},d,{ref:m,onKeyDown:dw(n.onKeyDown,v=>{v.key==="Enter"&&v.preventDefault()}),onClick:dw(n.onClick,v=>{y(g=>vi(g)?!0:!g),S&&(E.current=v.isPropagationStopped(),E.current||v.stopPropagation())})})),S&&w.createElement(AF,{control:h,bubbles:!E.current,name:i,value:u,checked:I,required:a,disabled:l,style:{transform:"translateX(-100%)"}}))}),CF="CheckboxIndicator",kF=w.forwardRef((n,t)=>{const{__scopeCheckbox:r,forceMount:i,...s}=n,o=TF(CF,r);return w.createElement(J_,{present:i||vi(o.state)||o.state===!0},w.createElement(eC.span,qr({"data-state":nC(o.state),"data-disabled":o.disabled?"":void 0},s,{ref:t,style:{pointerEvents:"none",...n.style}})))}),AF=n=>{const{control:t,checked:r,bubbles:i=!0,...s}=n,o=w.useRef(null),a=fF(r),l=pF(t);return w.useEffect(()=>{const u=o.current,c=window.HTMLInputElement.prototype,h=Object.getOwnPropertyDescriptor(c,"checked").set;if(a!==r&&h){const f=new Event("click",{bubbles:i});u.indeterminate=vi(r),h.call(u,vi(r)?!1:r),u.dispatchEvent(f)}},[a,r,i]),w.createElement("input",qr({type:"checkbox","aria-hidden":!0,defaultChecked:vi(r)?!1:r},s,{tabIndex:-1,ref:o,style:{...n.style,...l,position:"absolute",pointerEvents:"none",opacity:0,margin:0}}))};function vi(n){return n==="indeterminate"}function nC(n){return vi(n)?"indeterminate":n?"checked":"unchecked"}const rC=_F,RF=kF;var xF={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const NF=n=>n.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),bF=(n,t)=>{const r=w.forwardRef(({color:i="currentColor",size:s=24,strokeWidth:o=2,absoluteStrokeWidth:a,children:l,...u},c)=>w.createElement("svg",{ref:c,...xF,width:s,height:s,stroke:i,strokeWidth:a?Number(o)*24/Number(s):o,className:`lucide lucide-${NF(n)}`,...u},[...t.map(([d,h])=>w.createElement(d,h)),...(Array.isArray(l)?l:[l])||[]]));return r.displayName=`${n}`,r},DF=bF("Check",[["polyline",{points:"20 6 9 17 4 12",key:"10jjfj"}]]);function iC(n){var t,r,i="";if(typeof n=="string"||typeof n=="number")i+=n;else if(typeof n=="object")if(Array.isArray(n))for(t=0;t<n.length;t++)n[t]&&(r=iC(n[t]))&&(i&&(i+=" "),i+=r);else for(t in n)n[t]&&(i&&(i+=" "),i+=t);return i}function PF(){for(var n,t,r=0,i="";r<arguments.length;)(n=arguments[r++])&&(t=iC(n))&&(i&&(i+=" "),i+=t);return i}function $F(){for(var n=0,t,r,i="";n<arguments.length;)(t=arguments[n++])&&(r=sC(t))&&(i&&(i+=" "),i+=r);return i}function sC(n){if(typeof n=="string")return n;for(var t,r="",i=0;i<n.length;i++)n[i]&&(t=sC(n[i]))&&(r&&(r+=" "),r+=t);return r}var Bg="-";function OF(n){var t=LF(n),r=n.conflictingClassGroups,i=n.conflictingClassGroupModifiers,s=i===void 0?{}:i;function o(l){var u=l.split(Bg);return u[0]===""&&u.length!==1&&u.shift(),oC(u,t)||MF(l)}function a(l,u){var c=r[l]||[];return u&&s[l]?[].concat(c,s[l]):c}return{getClassGroupId:o,getConflictingClassGroupIds:a}}function oC(n,t){var a;if(n.length===0)return t.classGroupId;var r=n[0],i=t.nextPart.get(r),s=i?oC(n.slice(1),i):void 0;if(s)return s;if(t.validators.length!==0){var o=n.join(Bg);return(a=t.validators.find(function(l){var u=l.validator;return u(o)}))==null?void 0:a.classGroupId}}var hw=/^\[(.+)\]$/;function MF(n){if(hw.test(n)){var t=hw.exec(n)[1],r=t==null?void 0:t.substring(0,t.indexOf(":"));if(r)return"arbitrary.."+r}}function LF(n){var t=n.theme,r=n.prefix,i={nextPart:new Map,validators:[]},s=UF(Object.entries(n.classGroups),r);return s.forEach(function(o){var a=o[0],l=o[1];Ip(l,i,a,t)}),i}function Ip(n,t,r,i){n.forEach(function(s){if(typeof s=="string"){var o=s===""?t:fw(t,s);o.classGroupId=r;return}if(typeof s=="function"){if(FF(s)){Ip(s(i),t,r,i);return}t.validators.push({validator:s,classGroupId:r});return}Object.entries(s).forEach(function(a){var l=a[0],u=a[1];Ip(u,fw(t,l),r,i)})})}function fw(n,t){var r=n;return t.split(Bg).forEach(function(i){r.nextPart.has(i)||r.nextPart.set(i,{nextPart:new Map,validators:[]}),r=r.nextPart.get(i)}),r}function FF(n){return n.isThemeGetter}function UF(n,t){return t?n.map(function(r){var i=r[0],s=r[1],o=s.map(function(a){return typeof a=="string"?t+a:typeof a=="object"?Object.fromEntries(Object.entries(a).map(function(l){var u=l[0],c=l[1];return[t+u,c]})):a});return[i,o]}):n}function VF(n){if(n<1)return{get:function(){},set:function(){}};var t=0,r=new Map,i=new Map;function s(o,a){r.set(o,a),t++,t>n&&(t=0,i=r,r=new Map)}return{get:function(a){var l=r.get(a);if(l!==void 0)return l;if((l=i.get(a))!==void 0)return s(a,l),l},set:function(a,l){r.has(a)?r.set(a,l):s(a,l)}}}var aC="!";function jF(n){var t=n.separator||":",r=t.length===1,i=t[0],s=t.length;return function(a){for(var l=[],u=0,c=0,d,h=0;h<a.length;h++){var f=a[h];if(u===0){if(f===i&&(r||a.slice(h,h+s)===t)){l.push(a.slice(c,h)),c=h+s;continue}if(f==="/"){d=h;continue}}f==="["?u++:f==="]"&&u--}var m=l.length===0?a:a.substring(c),E=m.startsWith(aC),S=E?m.substring(1):m,I=d&&d>c?d-c:void 0;return{modifiers:l,hasImportantModifier:E,baseClassName:S,maybePostfixModifierPosition:I}}}function zF(n){if(n.length<=1)return n;var t=[],r=[];return n.forEach(function(i){var s=i[0]==="[";s?(t.push.apply(t,r.sort().concat([i])),r=[]):r.push(i)}),t.push.apply(t,r.sort()),t}function BF(n){return{cache:VF(n.cacheSize),splitModifiers:jF(n),...OF(n)}}var HF=/\s+/;function WF(n,t){var r=t.splitModifiers,i=t.getClassGroupId,s=t.getConflictingClassGroupIds,o=new Set;return n.trim().split(HF).map(function(a){var l=r(a),u=l.modifiers,c=l.hasImportantModifier,d=l.baseClassName,h=l.maybePostfixModifierPosition,f=i(h?d.substring(0,h):d),m=!!h;if(!f){if(!h)return{isTailwindClass:!1,originalClassName:a};if(f=i(d),!f)return{isTailwindClass:!1,originalClassName:a};m=!1}var E=zF(u).join(":"),S=c?E+aC:E;return{isTailwindClass:!0,modifierId:S,classGroupId:f,originalClassName:a,hasPostfixModifier:m}}).reverse().filter(function(a){if(!a.isTailwindClass)return!0;var l=a.modifierId,u=a.classGroupId,c=a.hasPostfixModifier,d=l+u;return o.has(d)?!1:(o.add(d),s(u,c).forEach(function(h){return o.add(l+h)}),!0)}).reverse().map(function(a){return a.originalClassName}).join(" ")}function qF(){for(var n=arguments.length,t=new Array(n),r=0;r<n;r++)t[r]=arguments[r];var i,s,o,a=l;function l(c){var d=t[0],h=t.slice(1),f=h.reduce(function(m,E){return E(m)},d());return i=BF(f),s=i.cache.get,o=i.cache.set,a=u,u(c)}function u(c){var d=s(c);if(d)return d;var h=WF(c,i);return o(c,h),h}return function(){return a($F.apply(null,arguments))}}function Se(n){var t=function(i){return i[n]||[]};return t.isThemeGetter=!0,t}var lC=/^\[(?:([a-z-]+):)?(.+)\]$/i,KF=/^\d+\/\d+$/,GF=new Set(["px","full","screen"]),QF=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,YF=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|^0$/,XF=/^-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/;function un(n){return hi(n)||GF.has(n)||KF.test(n)||hr(n)}function hr(n){return Vi(n,"length",rU)}function JF(n){return Vi(n,"size",uC)}function ZF(n){return Vi(n,"position",uC)}function eU(n){return Vi(n,"url",iU)}function zl(n){return Vi(n,"number",hi)}function hi(n){return!Number.isNaN(Number(n))}function tU(n){return n.endsWith("%")&&hi(n.slice(0,-1))}function wo(n){return pw(n)||Vi(n,"number",pw)}function Le(n){return lC.test(n)}function Eo(){return!0}function dr(n){return QF.test(n)}function nU(n){return Vi(n,"",sU)}function Vi(n,t,r){var i=lC.exec(n);return i?i[1]?i[1]===t:r(i[2]):!1}function rU(n){return YF.test(n)}function uC(){return!1}function iU(n){return n.startsWith("url(")}function pw(n){return Number.isInteger(Number(n))}function sU(n){return XF.test(n)}function oU(){var n=Se("colors"),t=Se("spacing"),r=Se("blur"),i=Se("brightness"),s=Se("borderColor"),o=Se("borderRadius"),a=Se("borderSpacing"),l=Se("borderWidth"),u=Se("contrast"),c=Se("grayscale"),d=Se("hueRotate"),h=Se("invert"),f=Se("gap"),m=Se("gradientColorStops"),E=Se("gradientColorStopPositions"),S=Se("inset"),I=Se("margin"),y=Se("opacity"),p=Se("padding"),v=Se("saturate"),g=Se("scale"),C=Se("sepia"),b=Se("skew"),R=Se("space"),$=Se("translate"),G=function(){return["auto","contain","none"]},H=function(){return["auto","hidden","clip","visible","scroll"]},Re=function(){return["auto",t]},fe=function(){return["",un]},_t=function(){return["auto",hi,Le]},an=function(){return["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"]},Ct=function(){return["solid","dashed","dotted","double","none"]},ut=function(){return["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity","plus-lighter"]},ct=function(){return["start","end","center","between","around","evenly","stretch"]},D=function(){return["","0",Le]},U=function(){return["auto","avoid","all","avoid-page","page","left","right","column"]},z=function(){return[hi,zl]},de=function(){return[hi,Le]};return{cacheSize:500,theme:{colors:[Eo],spacing:[un],blur:["none","",dr,hr],brightness:z(),borderColor:[n],borderRadius:["none","","full",dr,hr],borderSpacing:[t],borderWidth:fe(),contrast:z(),grayscale:D(),hueRotate:de(),invert:D(),gap:[t],gradientColorStops:[n],gradientColorStopPositions:[tU,hr],inset:Re(),margin:Re(),opacity:z(),padding:[t],saturate:z(),scale:z(),sepia:D(),skew:de(),space:[t],translate:[t]},classGroups:{aspect:[{aspect:["auto","square","video",Le]}],container:["container"],columns:[{columns:[dr]}],"break-after":[{"break-after":U()}],"break-before":[{"break-before":U()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none"]}],clear:[{clear:["left","right","both","none"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[].concat(an(),[Le])}],overflow:[{overflow:H()}],"overflow-x":[{"overflow-x":H()}],"overflow-y":[{"overflow-y":H()}],overscroll:[{overscroll:G()}],"overscroll-x":[{"overscroll-x":G()}],"overscroll-y":[{"overscroll-y":G()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[S]}],"inset-x":[{"inset-x":[S]}],"inset-y":[{"inset-y":[S]}],start:[{start:[S]}],end:[{end:[S]}],top:[{top:[S]}],right:[{right:[S]}],bottom:[{bottom:[S]}],left:[{left:[S]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",wo]}],basis:[{basis:Re()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",Le]}],grow:[{grow:D()}],shrink:[{shrink:D()}],order:[{order:["first","last","none",wo]}],"grid-cols":[{"grid-cols":[Eo]}],"col-start-end":[{col:["auto",{span:[wo]},Le]}],"col-start":[{"col-start":_t()}],"col-end":[{"col-end":_t()}],"grid-rows":[{"grid-rows":[Eo]}],"row-start-end":[{row:["auto",{span:[wo]},Le]}],"row-start":[{"row-start":_t()}],"row-end":[{"row-end":_t()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",Le]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",Le]}],gap:[{gap:[f]}],"gap-x":[{"gap-x":[f]}],"gap-y":[{"gap-y":[f]}],"justify-content":[{justify:["normal"].concat(ct())}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal"].concat(ct(),["baseline"])}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[].concat(ct(),["baseline"])}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[p]}],px:[{px:[p]}],py:[{py:[p]}],ps:[{ps:[p]}],pe:[{pe:[p]}],pt:[{pt:[p]}],pr:[{pr:[p]}],pb:[{pb:[p]}],pl:[{pl:[p]}],m:[{m:[I]}],mx:[{mx:[I]}],my:[{my:[I]}],ms:[{ms:[I]}],me:[{me:[I]}],mt:[{mt:[I]}],mr:[{mr:[I]}],mb:[{mb:[I]}],ml:[{ml:[I]}],"space-x":[{"space-x":[R]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[R]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit",t]}],"min-w":[{"min-w":["min","max","fit",un]}],"max-w":[{"max-w":["0","none","full","min","max","fit","prose",{screen:[dr]},dr,hr]}],h:[{h:[t,"auto","min","max","fit"]}],"min-h":[{"min-h":["min","max","fit",un]}],"max-h":[{"max-h":[t,"min","max","fit"]}],"font-size":[{text:["base",dr,hr]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",zl]}],"font-family":[{font:[Eo]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractons"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",hr]}],"line-clamp":[{"line-clamp":["none",hi,zl]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",un]}],"list-image":[{"list-image":["none",Le]}],"list-style-type":[{list:["none","disc","decimal",Le]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[n]}],"placeholder-opacity":[{"placeholder-opacity":[y]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[n]}],"text-opacity":[{"text-opacity":[y]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[].concat(Ct(),["wavy"])}],"text-decoration-thickness":[{decoration:["auto","from-font",un]}],"underline-offset":[{"underline-offset":["auto",un]}],"text-decoration-color":[{decoration:[n]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],indent:[{indent:[t]}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",hr]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Le]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[y]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[].concat(an(),[ZF])}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",JF]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},eU]}],"bg-color":[{bg:[n]}],"gradient-from-pos":[{from:[E]}],"gradient-via-pos":[{via:[E]}],"gradient-to-pos":[{to:[E]}],"gradient-from":[{from:[m]}],"gradient-via":[{via:[m]}],"gradient-to":[{to:[m]}],rounded:[{rounded:[o]}],"rounded-s":[{"rounded-s":[o]}],"rounded-e":[{"rounded-e":[o]}],"rounded-t":[{"rounded-t":[o]}],"rounded-r":[{"rounded-r":[o]}],"rounded-b":[{"rounded-b":[o]}],"rounded-l":[{"rounded-l":[o]}],"rounded-ss":[{"rounded-ss":[o]}],"rounded-se":[{"rounded-se":[o]}],"rounded-ee":[{"rounded-ee":[o]}],"rounded-es":[{"rounded-es":[o]}],"rounded-tl":[{"rounded-tl":[o]}],"rounded-tr":[{"rounded-tr":[o]}],"rounded-br":[{"rounded-br":[o]}],"rounded-bl":[{"rounded-bl":[o]}],"border-w":[{border:[l]}],"border-w-x":[{"border-x":[l]}],"border-w-y":[{"border-y":[l]}],"border-w-s":[{"border-s":[l]}],"border-w-e":[{"border-e":[l]}],"border-w-t":[{"border-t":[l]}],"border-w-r":[{"border-r":[l]}],"border-w-b":[{"border-b":[l]}],"border-w-l":[{"border-l":[l]}],"border-opacity":[{"border-opacity":[y]}],"border-style":[{border:[].concat(Ct(),["hidden"])}],"divide-x":[{"divide-x":[l]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[l]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[y]}],"divide-style":[{divide:Ct()}],"border-color":[{border:[s]}],"border-color-x":[{"border-x":[s]}],"border-color-y":[{"border-y":[s]}],"border-color-t":[{"border-t":[s]}],"border-color-r":[{"border-r":[s]}],"border-color-b":[{"border-b":[s]}],"border-color-l":[{"border-l":[s]}],"divide-color":[{divide:[s]}],"outline-style":[{outline:[""].concat(Ct())}],"outline-offset":[{"outline-offset":[un]}],"outline-w":[{outline:[un]}],"outline-color":[{outline:[n]}],"ring-w":[{ring:fe()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[n]}],"ring-opacity":[{"ring-opacity":[y]}],"ring-offset-w":[{"ring-offset":[un]}],"ring-offset-color":[{"ring-offset":[n]}],shadow:[{shadow:["","inner","none",dr,nU]}],"shadow-color":[{shadow:[Eo]}],opacity:[{opacity:[y]}],"mix-blend":[{"mix-blend":ut()}],"bg-blend":[{"bg-blend":ut()}],filter:[{filter:["","none"]}],blur:[{blur:[r]}],brightness:[{brightness:[i]}],contrast:[{contrast:[u]}],"drop-shadow":[{"drop-shadow":["","none",dr,Le]}],grayscale:[{grayscale:[c]}],"hue-rotate":[{"hue-rotate":[d]}],invert:[{invert:[h]}],saturate:[{saturate:[v]}],sepia:[{sepia:[C]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[r]}],"backdrop-brightness":[{"backdrop-brightness":[i]}],"backdrop-contrast":[{"backdrop-contrast":[u]}],"backdrop-grayscale":[{"backdrop-grayscale":[c]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[d]}],"backdrop-invert":[{"backdrop-invert":[h]}],"backdrop-opacity":[{"backdrop-opacity":[y]}],"backdrop-saturate":[{"backdrop-saturate":[v]}],"backdrop-sepia":[{"backdrop-sepia":[C]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[a]}],"border-spacing-x":[{"border-spacing-x":[a]}],"border-spacing-y":[{"border-spacing-y":[a]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",Le]}],duration:[{duration:de()}],ease:[{ease:["linear","in","out","in-out",Le]}],delay:[{delay:de()}],animate:[{animate:["none","spin","ping","pulse","bounce",Le]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[g]}],"scale-x":[{"scale-x":[g]}],"scale-y":[{"scale-y":[g]}],rotate:[{rotate:[wo,Le]}],"translate-x":[{"translate-x":[$]}],"translate-y":[{"translate-y":[$]}],"skew-x":[{"skew-x":[b]}],"skew-y":[{"skew-y":[b]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",Le]}],accent:[{accent:["auto",n]}],appearance:["appearance-none"],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Le]}],"caret-color":[{caret:[n]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":[t]}],"scroll-mx":[{"scroll-mx":[t]}],"scroll-my":[{"scroll-my":[t]}],"scroll-ms":[{"scroll-ms":[t]}],"scroll-me":[{"scroll-me":[t]}],"scroll-mt":[{"scroll-mt":[t]}],"scroll-mr":[{"scroll-mr":[t]}],"scroll-mb":[{"scroll-mb":[t]}],"scroll-ml":[{"scroll-ml":[t]}],"scroll-p":[{"scroll-p":[t]}],"scroll-px":[{"scroll-px":[t]}],"scroll-py":[{"scroll-py":[t]}],"scroll-ps":[{"scroll-ps":[t]}],"scroll-pe":[{"scroll-pe":[t]}],"scroll-pt":[{"scroll-pt":[t]}],"scroll-pr":[{"scroll-pr":[t]}],"scroll-pb":[{"scroll-pb":[t]}],"scroll-pl":[{"scroll-pl":[t]}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","pinch-zoom","manipulation",{pan:["x","left","right","y","up","down"]}]}],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Le]}],fill:[{fill:[n,"none"]}],"stroke-w":[{stroke:[un,zl]}],stroke:[{stroke:[n,"none"]}],sr:["sr-only","not-sr-only"]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}}var aU=qF(oU);function mw(...n){return aU(PF(n))}const Tp=w.forwardRef(({className:n,...t},r)=>B(rC,{ref:r,className:mw("peer h-5 w-5  shrink-0 rounded-sm border border-white ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",n),...t,children:B(RF,{className:mw("flex items-center justify-center text-current"),children:B(DF,{className:"h-4 w-4"})})}));Tp.displayName=rC.displayName;var cC={exports:{}},lU="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",uU=lU,cU=uU;function dC(){}function hC(){}hC.resetWarningCache=dC;var dU=function(){function n(i,s,o,a,l,u){if(u!==cU){var c=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw c.name="Invariant Violation",c}}n.isRequired=n;function t(){return n}var r={array:n,bigint:n,bool:n,func:n,number:n,object:n,string:n,symbol:n,any:n,arrayOf:t,element:n,elementType:n,instanceOf:t,node:n,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:hC,resetWarningCache:dC};return r.PropTypes=r,r};cC.exports=dU();var hU=cC.exports;const Bl=vw(hU);function _p(){return _p=Object.assign||function(n){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(n[i]=r[i])}return n},_p.apply(this,arguments)}function fU(n,t){if(n==null)return{};var r=pU(n,t),i,s;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(n);for(s=0;s<o.length;s++)i=o[s],!(t.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(n,i)&&(r[i]=n[i])}return r}function pU(n,t){if(n==null)return{};var r={},i=Object.keys(n),s,o;for(o=0;o<i.length;o++)s=i[o],!(t.indexOf(s)>=0)&&(r[s]=n[s]);return r}var Hg=w.forwardRef(function(n,t){var r=n.color,i=r===void 0?"currentColor":r,s=n.size,o=s===void 0?24:s,a=fU(n,["color","size"]);return ye.createElement("svg",_p({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:i,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},a),ye.createElement("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),ye.createElement("line",{x1:"5",y1:"12",x2:"19",y2:"12"}))});Hg.propTypes={color:Bl.string,size:Bl.oneOfType([Bl.string,Bl.number])};Hg.displayName="Plus";const mU=Hg;const gw=w_(D_,"todos"),gU={title:"",description:"",dueDate:null};function yU(){const[n,t]=w.useState(""),[r,i]=w.useState(!1),[s,o]=w.useState([]),[a,l]=w.useState([]),[u,c]=w.useState({title:"",description:"",dueDate:null}),d=m=>{if(m.target.name=="dueDate"){var E=We.fromDate(new Date(m.target.value)).toDate().toLocaleDateString();c({...u,[m.target.name]:E})}else c({...u,[m.target.name]:m.target.value})},h=()=>{e.preventDefault(),b_(gw,{user_id:Di.currentUser.uid,title:u.title,description:u.description,due_date:u.dueDate,status:"NOT_STARTED"}),f(),i(!1),window.location.reload()};async function f(){const m=pL(gw,mL("user_id","==",n));await TL(m).then(E=>{const S=E.docs.map(I=>({...I.data(),id:I.id}));o(S)})}return w.useEffect(()=>{const m=Di.currentUser;m!==null&&(t(m.uid),console.log(n)),f()},[]),Fe("div",{className:"px-4 ",children:[B(aF,{}),Fe("div",{className:"flex items-center gap-2 my-4",children:[B("button",{id:"add-today",onClick:()=>i(!0),className:"bg-[#7A306C] p-1 rounded-2xl font-semibold flex items-center align-middle",children:B(mU,{size:24,color:"white"})}),B("p",{children:"Add task"})]}),Fe("div",{className:"flex gap-4",children:[Fe("section",{className:"bg-[#191d20] p-4 rounded-xl basis-1/2",children:[B("h2",{className:" text-xl",children:"To Do"}),s.length==0?B("p",{className:"flex gap-2 bg-[#111315] text-white rounded-xl p-4 m-2",children:"Make some todos!"}):B("ul",{className:"list",children:s.map(m=>Fe("li",{className:"flex gap-2 bg-[#111315] text-white rounded-xl p-4 m-2",children:[B(Tp,{id:"terms"}),Fe("div",{children:[B("label",{htmlFor:"terms",className:"text-sm p-0 font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",children:m.title}),B("p",{className:" text-gray-700",children:m.description}),B("p",{className:"text-gray-700",children:m.due_date})]})]},m.id))})]}),Fe("section",{className:"basis-1/2 bg-[#191d20] rounded-xl p-4",children:[B("div",{className:"flex justify-between",children:B("h2",{className:"text-xl",children:"Completed"})}),a.length==0?B("p",{className:"flex gap-2 bg-[#111315] text-white rounded-xl p-4 m-2",children:"Make some todos!"}):B("ul",{className:"list",children:a.map(m=>Fe("li",{className:"flex gap-2 bg-[#111315] rounded-xl p-4 m-2 text-white",children:[" ","rounded-xl",B(Tp,{id:"terms"}),Fe("div",{children:[B("label",{htmlFor:"terms",className:"text-sm p-0 font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",children:m.title}),B("p",{className:" text-gray-400",children:m.description}),B("p",{className:"text-gray-700",children:m.due_date})]})]},m.id))})]})]}),B(bh,{open:r,onClose:()=>{i(!1),c(gU)},children:B("div",{className:"dialog-box",children:Fe(bh.Panel,{className:"w-full",children:[B(bh.Title,{className:" text-center text-xl",children:"Create a new todo!"}),Fe("form",{onSubmit:()=>{h()},className:"flex flex-col gap-4 bg-none justify-start items-start",children:[Fe("label",{className:"flex flex-col w-full",children:["Title",B("input",{name:"title",className:" p-2 rounded-xl",onChange:()=>c({...u,title:e.target.value})})]}),Fe("label",{className:"flex flex-col w-full",children:["Description",B("textarea",{name:"description",className:" p-2 rounded-xl",onChange:()=>c({...u,description:e.target.value})})]}),Fe("label",{className:"flex flex-col w-full",children:["Due date",B("input",{name:"dueDate",className:" p-2 rounded-xl",type:"date",onChange:d})]}),B("button",{type:"submit",role:"button",className:"bg-button w-full p-2 rounded-xl",children:"Save"})]})]})})})]})}const yw=Di.currentUser,vU=XR([{path:"/",element:B(yU,{}),loader:async()=>yw?(console.log("If null redirect to signin",yw),ME("/signin")):(console.log(Di.currentUser),null)},{path:"/register",element:B(AL,{})},{path:"/signin",element:B(RL,{})}]);Dh.createRoot(document.getElementById("root")).render(B(ye.StrictMode,{children:B(KR,{router:vU})}));
